var vC=Object.defineProperty;var yC=(n,e,t)=>e in n?vC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var An=(n,e,t)=>yC(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var CF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var oy={exports:{}},Rd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function _C(){if(g_)return Rd;g_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var u in r)u!=="key"&&(s[u]=r[u])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return Rd.Fragment=e,Rd.jsx=t,Rd.jsxs=t,Rd}var m_;function wC(){return m_||(m_=1,oy.exports=_C()),oy.exports}var Ke=wC(),ly={exports:{}},Zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function SC(){if(v_)return Zt;v_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function w(K){return K===null||typeof K!="object"?null:(K=v&&K[v]||K["@@iterator"],typeof K=="function"?K:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function C(K,ve,F){this.props=K,this.context=ve,this.refs=T,this.updater=F||b}C.prototype.isReactComponent={},C.prototype.setState=function(K,ve){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ve,"setState")},C.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function I(){}I.prototype=C.prototype;function j(K,ve,F){this.props=K,this.context=ve,this.refs=T,this.updater=F||b}var W=j.prototype=new I;W.constructor=j,A(W,C.prototype),W.isPureReactComponent=!0;var Z=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},se=Object.prototype.hasOwnProperty;function B(K,ve,F,H,ie,Q){return F=Q.ref,{$$typeof:n,type:K,key:ve,ref:F!==void 0?F:null,props:Q}}function N(K,ve){return B(K.type,ve,void 0,void 0,void 0,K.props)}function O(K){return typeof K=="object"&&K!==null&&K.$$typeof===n}function G(K){var ve={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(F){return ve[F]})}var k=/\/+/g;function M(K,ve){return typeof K=="object"&&K!==null&&K.key!=null?G(""+K.key):ve.toString(36)}function V(){}function oe(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(V,V):(K.status="pending",K.then(function(ve){K.status==="pending"&&(K.status="fulfilled",K.value=ve)},function(ve){K.status==="pending"&&(K.status="rejected",K.reason=ve)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function pe(K,ve,F,H,ie){var Q=typeof K;(Q==="undefined"||Q==="boolean")&&(K=null);var ue=!1;if(K===null)ue=!0;else switch(Q){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(K.$$typeof){case n:case e:ue=!0;break;case p:return ue=K._init,pe(ue(K._payload),ve,F,H,ie)}}if(ue)return ie=ie(K),ue=H===""?"."+M(K,0):H,Z(ie)?(F="",ue!=null&&(F=ue.replace(k,"$&/")+"/"),pe(ie,ve,F,"",function(Ce){return Ce})):ie!=null&&(O(ie)&&(ie=N(ie,F+(ie.key==null||K&&K.key===ie.key?"":(""+ie.key).replace(k,"$&/")+"/")+ue)),ve.push(ie)),1;ue=0;var we=H===""?".":H+":";if(Z(K))for(var me=0;me<K.length;me++)H=K[me],Q=we+M(H,me),ue+=pe(H,ve,F,Q,ie);else if(me=w(K),typeof me=="function")for(K=me.call(K),me=0;!(H=K.next()).done;)H=H.value,Q=we+M(H,me++),ue+=pe(H,ve,F,Q,ie);else if(Q==="object"){if(typeof K.then=="function")return pe(oe(K),ve,F,H,ie);throw ve=String(K),Error("Objects are not valid as a React child (found: "+(ve==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ve)+"). If you meant to render a collection of children, use an array instead.")}return ue}function re(K,ve,F){if(K==null)return K;var H=[],ie=0;return pe(K,H,"","",function(Q){return ve.call(F,Q,ie++)}),H}function he(K){if(K._status===-1){var ve=K._result;ve=ve(),ve.then(function(F){(K._status===0||K._status===-1)&&(K._status=1,K._result=F)},function(F){(K._status===0||K._status===-1)&&(K._status=2,K._result=F)}),K._status===-1&&(K._status=0,K._result=ve)}if(K._status===1)return K._result.default;throw K._result}var ce=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ve))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function Se(){}return Zt.Children={map:re,forEach:function(K,ve,F){re(K,function(){ve.apply(this,arguments)},F)},count:function(K){var ve=0;return re(K,function(){ve++}),ve},toArray:function(K){return re(K,function(ve){return ve})||[]},only:function(K){if(!O(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},Zt.Component=C,Zt.Fragment=t,Zt.Profiler=r,Zt.PureComponent=j,Zt.StrictMode=i,Zt.Suspense=c,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Zt.__COMPILER_RUNTIME={__proto__:null,c:function(K){return X.H.useMemoCache(K)}},Zt.cache=function(K){return function(){return K.apply(null,arguments)}},Zt.cloneElement=function(K,ve,F){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var H=A({},K.props),ie=K.key,Q=void 0;if(ve!=null)for(ue in ve.ref!==void 0&&(Q=void 0),ve.key!==void 0&&(ie=""+ve.key),ve)!se.call(ve,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&ve.ref===void 0||(H[ue]=ve[ue]);var ue=arguments.length-2;if(ue===1)H.children=F;else if(1<ue){for(var we=Array(ue),me=0;me<ue;me++)we[me]=arguments[me+2];H.children=we}return B(K.type,ie,void 0,void 0,Q,H)},Zt.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},Zt.createElement=function(K,ve,F){var H,ie={},Q=null;if(ve!=null)for(H in ve.key!==void 0&&(Q=""+ve.key),ve)se.call(ve,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(ie[H]=ve[H]);var ue=arguments.length-2;if(ue===1)ie.children=F;else if(1<ue){for(var we=Array(ue),me=0;me<ue;me++)we[me]=arguments[me+2];ie.children=we}if(K&&K.defaultProps)for(H in ue=K.defaultProps,ue)ie[H]===void 0&&(ie[H]=ue[H]);return B(K,Q,void 0,void 0,null,ie)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(K){return{$$typeof:u,render:K}},Zt.isValidElement=O,Zt.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:he}},Zt.memo=function(K,ve){return{$$typeof:f,type:K,compare:ve===void 0?null:ve}},Zt.startTransition=function(K){var ve=X.T,F={};X.T=F;try{var H=K(),ie=X.S;ie!==null&&ie(F,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(Se,ce)}catch(Q){ce(Q)}finally{X.T=ve}},Zt.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Zt.use=function(K){return X.H.use(K)},Zt.useActionState=function(K,ve,F){return X.H.useActionState(K,ve,F)},Zt.useCallback=function(K,ve){return X.H.useCallback(K,ve)},Zt.useContext=function(K){return X.H.useContext(K)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(K,ve){return X.H.useDeferredValue(K,ve)},Zt.useEffect=function(K,ve,F){var H=X.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(K,ve)},Zt.useId=function(){return X.H.useId()},Zt.useImperativeHandle=function(K,ve,F){return X.H.useImperativeHandle(K,ve,F)},Zt.useInsertionEffect=function(K,ve){return X.H.useInsertionEffect(K,ve)},Zt.useLayoutEffect=function(K,ve){return X.H.useLayoutEffect(K,ve)},Zt.useMemo=function(K,ve){return X.H.useMemo(K,ve)},Zt.useOptimistic=function(K,ve){return X.H.useOptimistic(K,ve)},Zt.useReducer=function(K,ve,F){return X.H.useReducer(K,ve,F)},Zt.useRef=function(K){return X.H.useRef(K)},Zt.useState=function(K){return X.H.useState(K)},Zt.useSyncExternalStore=function(K,ve,F){return X.H.useSyncExternalStore(K,ve,F)},Zt.useTransition=function(){return X.H.useTransition()},Zt.version="19.1.0",Zt}var y_;function Z1(){return y_||(y_=1,ly.exports=SC()),ly.exports}var R=Z1();const rx=bC(R);var uy={exports:{}},kd={},cy={exports:{}},hy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function EC(){return b_||(b_=1,function(n){function e(re,he){var ce=re.length;re.push(he);e:for(;0<ce;){var Se=ce-1>>>1,K=re[Se];if(0<r(K,he))re[Se]=he,re[ce]=K,ce=Se;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var he=re[0],ce=re.pop();if(ce!==he){re[0]=ce;e:for(var Se=0,K=re.length,ve=K>>>1;Se<ve;){var F=2*(Se+1)-1,H=re[F],ie=F+1,Q=re[ie];if(0>r(H,ce))ie<K&&0>r(Q,H)?(re[Se]=Q,re[ie]=ce,Se=ie):(re[Se]=H,re[F]=ce,Se=F);else if(ie<K&&0>r(Q,ce))re[Se]=Q,re[ie]=ce,Se=ie;else break e}}return he}function r(re,he){var ce=re.sortIndex-he.sortIndex;return ce!==0?ce:re.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();n.unstable_now=function(){return o.now()-u}}var c=[],f=[],p=1,v=null,w=3,b=!1,A=!1,T=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function Z(re){for(var he=t(f);he!==null;){if(he.callback===null)i(f);else if(he.startTime<=re)i(f),he.sortIndex=he.expirationTime,e(c,he);else break;he=t(f)}}function X(re){if(T=!1,Z(re),!A)if(t(c)!==null)A=!0,se||(se=!0,M());else{var he=t(f);he!==null&&pe(X,he.startTime-re)}}var se=!1,B=-1,N=5,O=-1;function G(){return C?!0:!(n.unstable_now()-O<N)}function k(){if(C=!1,se){var re=n.unstable_now();O=re;var he=!0;try{e:{A=!1,T&&(T=!1,j(B),B=-1),b=!0;var ce=w;try{t:{for(Z(re),v=t(c);v!==null&&!(v.expirationTime>re&&G());){var Se=v.callback;if(typeof Se=="function"){v.callback=null,w=v.priorityLevel;var K=Se(v.expirationTime<=re);if(re=n.unstable_now(),typeof K=="function"){v.callback=K,Z(re),he=!0;break t}v===t(c)&&i(c),Z(re)}else i(c);v=t(c)}if(v!==null)he=!0;else{var ve=t(f);ve!==null&&pe(X,ve.startTime-re),he=!1}}break e}finally{v=null,w=ce,b=!1}he=void 0}}finally{he?M():se=!1}}}var M;if(typeof W=="function")M=function(){W(k)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,oe=V.port2;V.port1.onmessage=k,M=function(){oe.postMessage(null)}}else M=function(){I(k,0)};function pe(re,he){B=I(function(){re(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(re){switch(w){case 1:case 2:case 3:var he=3;break;default:he=w}var ce=w;w=he;try{return re()}finally{w=ce}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(re,he){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ce=w;w=re;try{return he()}finally{w=ce}},n.unstable_scheduleCallback=function(re,he,ce){var Se=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Se+ce:Se):ce=Se,re){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ce+K,re={id:p++,callback:he,priorityLevel:re,startTime:ce,expirationTime:K,sortIndex:-1},ce>Se?(re.sortIndex=ce,e(f,re),t(c)===null&&re===t(f)&&(T?(j(B),B=-1):T=!0,pe(X,ce-Se))):(re.sortIndex=K,e(c,re),A||b||(A=!0,se||(se=!0,M()))),re},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(re){var he=w;return function(){var ce=w;w=he;try{return re.apply(this,arguments)}finally{w=ce}}}}(hy)),hy}var __;function AC(){return __||(__=1,cy.exports=EC()),cy.exports}var fy={exports:{}},Xr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function xC(){if(w_)return Xr;w_=1;var n=Z1();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(c,f,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:c,containerInfo:f,implementation:p}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Xr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xr.createPortal=function(c,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,p)},Xr.flushSync=function(c){var f=o.T,p=i.p;try{if(o.T=null,i.p=2,c)return c()}finally{o.T=f,i.p=p,i.d.f()}},Xr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(c,f))},Xr.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Xr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:b}):p==="script"&&i.d.X(c,{crossOrigin:v,integrity:w,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Xr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(c,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(c)},Xr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,v=u(p,f.crossOrigin);i.d.L(c,p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Xr.preloadModule=function(c,f){if(typeof c=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(c)},Xr.requestFormReset=function(c){i.d.r(c)},Xr.unstable_batchedUpdates=function(c,f){return c(f)},Xr.useFormState=function(c,f,p){return o.H.useFormState(c,f,p)},Xr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Xr.version="19.1.0",Xr}var S_;function sx(){if(S_)return fy.exports;S_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fy.exports=xC(),fy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function LC(){if(E_)return kd;E_=1;var n=AC(),e=Z1(),t=sx();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(i(188))}function c(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var h=a,d=l;;){var y=h.return;if(y===null)break;var S=y.alternate;if(S===null){if(d=y.return,d!==null){h=d;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===h)return u(y),a;if(S===d)return u(y),l;S=S.sibling}throw Error(i(188))}if(h.return!==d.return)h=y,d=S;else{for(var U=!1,te=y.child;te;){if(te===h){U=!0,h=y,d=S;break}if(te===d){U=!0,d=y,h=S;break}te=te.sibling}if(!U){for(te=S.child;te;){if(te===h){U=!0,h=S,d=y;break}if(te===d){U=!0,d=S,h=y;break}te=te.sibling}if(!U)throw Error(i(189))}}if(h.alternate!==d)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),W=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=k&&a[k]||a["@@iterator"],typeof a=="function"?a:null)}var V=Symbol.for("react.client.reference");function oe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===V?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case X:return"Suspense";case se:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case W:return(a.displayName||"Context")+".Provider";case j:return(a._context.displayName||"Context")+".Consumer";case Z:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case B:return l=a.displayName||null,l!==null?l:oe(a.type)||"Memo";case N:l=a._payload,a=a._init;try{return oe(a(l))}catch{}}return null}var pe=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Se=[],K=-1;function ve(a){return{current:a}}function F(a){0>K||(a.current=Se[K],Se[K]=null,K--)}function H(a,l){K++,Se[K]=a.current,a.current=l}var ie=ve(null),Q=ve(null),ue=ve(null),we=ve(null);function me(a,l){switch(H(ue,l),H(Q,a),H(ie,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?q5(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=q5(l),a=H5(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}F(ie),H(ie,a)}function Ce(){F(ie),F(Q),F(ue)}function je(a){a.memoizedState!==null&&H(we,a);var l=ie.current,h=H5(l,a.type);l!==h&&(H(Q,a),H(ie,h))}function Ve(a){Q.current===a&&(F(ie),F(Q)),we.current===a&&(F(we),xd._currentValue=ce)}var tt=Object.prototype.hasOwnProperty,nt=n.unstable_scheduleCallback,St=n.unstable_cancelCallback,Ne=n.unstable_shouldYield,fe=n.unstable_requestPaint,Et=n.unstable_now,mt=n.unstable_getCurrentPriorityLevel,et=n.unstable_ImmediatePriority,it=n.unstable_UserBlockingPriority,rt=n.unstable_NormalPriority,at=n.unstable_LowPriority,vt=n.unstable_IdlePriority,It=n.log,Ot=n.unstable_setDisableYieldValue,yt=null,pt=null;function qt(a){if(typeof It=="function"&&Ot(a),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(yt,a)}catch{}}var dt=Math.clz32?Math.clz32:Zn,Ht=Math.log,ut=Math.LN2;function Zn(a){return a>>>=0,a===0?32:31-(Ht(a)/ut|0)|0}var Gt=256,Ai=4194304;function $t(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function vn(a,l,h){var d=a.pendingLanes;if(d===0)return 0;var y=0,S=a.suspendedLanes,U=a.pingedLanes;a=a.warmLanes;var te=d&134217727;return te!==0?(d=te&~S,d!==0?y=$t(d):(U&=te,U!==0?y=$t(U):h||(h=te&~a,h!==0&&(y=$t(h))))):(te=d&~S,te!==0?y=$t(te):U!==0?y=$t(U):h||(h=d&~a,h!==0&&(y=$t(h)))),y===0?0:l!==0&&l!==y&&(l&S)===0&&(S=y&-y,h=l&-l,S>=h||S===32&&(h&4194048)!==0)?l:y}function mi(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function tn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(){var a=Gt;return Gt<<=1,(Gt&4194048)===0&&(Gt=256),a}function Mn(){var a=Ai;return Ai<<=1,(Ai&62914560)===0&&(Ai=4194304),a}function ci(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function xi(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Sn(a,l,h,d,y,S){var U=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var te=a.entanglements,de=a.expirationTimes,Me=a.hiddenUpdates;for(h=U&~h;0<h;){var ze=31-dt(h),Ye=1<<ze;te[ze]=0,de[ze]=-1;var Oe=Me[ze];if(Oe!==null)for(Me[ze]=null,ze=0;ze<Oe.length;ze++){var De=Oe[ze];De!==null&&(De.lane&=-536870913)}h&=~Ye}d!==0&&At(a,d,0),S!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=S&~(U&~l))}function At(a,l,h){a.pendingLanes|=l,a.suspendedLanes&=~l;var d=31-dt(l);a.entangledLanes|=l,a.entanglements[d]=a.entanglements[d]|1073741824|h&4194090}function Xt(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var d=31-dt(h),y=1<<d;y&l|a[d]&l&&(a[d]|=l),h&=~y}}function rr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Vn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Li(){var a=he.p;return a!==0?a:(a=window.event,a===void 0?32:u_(a.type))}function Lr(a,l){var h=he.p;try{return he.p=a,l()}finally{he.p=h}}var ct=Math.random().toString(36).slice(2),ht="__reactFiber$"+ct,On="__reactProps$"+ct,Jn="__reactContainer$"+ct,si="__reactEvents$"+ct,hi="__reactListeners$"+ct,Ti="__reactHandles$"+ct,Da="__reactResources$"+ct,Tr="__reactMarker$"+ct;function Xi(a){delete a[ht],delete a[On],delete a[si],delete a[hi],delete a[Ti]}function Di(a){var l=a[ht];if(l)return l;for(var h=a.parentNode;h;){if(l=h[Jn]||h[ht]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=K5(a);a!==null;){if(h=a[ht])return h;a=K5(a)}return l}a=h,h=a.parentNode}return null}function Ci(a){if(a=a[ht]||a[Jn]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function ji(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function $n(a){var l=a[Da];return l||(l=a[Da]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function xn(a){a[Tr]=!0}var Ds=new Set,js={};function gr(a,l){Vr(a,l),Vr(a+"Capture",l)}function Vr(a,l){for(js[a]=l,a=0;a<l.length;a++)Ds.add(l[a])}var ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},Ba={};function lu(a){return tt.call(Ba,a)?!0:tt.call(vl,a)?!1:ja.test(a)?Ba[a]=!0:(vl[a]=!0,!1)}function us(a,l,h){if(lu(l))if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var d=l.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+h)}}function cs(a,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+h)}}function Bi(a,l,h,d){if(d===null)a.removeAttribute(h);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(l,h,""+d)}}var Bs,uu;function gs(a){if(Bs===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Bs=l&&l[1]||"",uu=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+a+uu}var wo=!1;function Vs(a,l){if(!a||wo)return"";wo=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(l){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(De){var Oe=De}Reflect.construct(a,[],Ye)}else{try{Ye.call()}catch(De){Oe=De}a.call(Ye.prototype)}}else{try{throw Error()}catch(De){Oe=De}(Ye=a())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(De){if(De&&Oe&&typeof De.stack=="string")return[De.stack,Oe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=d.DetermineComponentFrameRoot(),U=S[0],te=S[1];if(U&&te){var de=U.split(`
`),Me=te.split(`
`);for(y=d=0;d<de.length&&!de[d].includes("DetermineComponentFrameRoot");)d++;for(;y<Me.length&&!Me[y].includes("DetermineComponentFrameRoot");)y++;if(d===de.length||y===Me.length)for(d=de.length-1,y=Me.length-1;1<=d&&0<=y&&de[d]!==Me[y];)y--;for(;1<=d&&0<=y;d--,y--)if(de[d]!==Me[y]){if(d!==1||y!==1)do if(d--,y--,0>y||de[d]!==Me[y]){var ze=`
`+de[d].replace(" at new "," at ");return a.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",a.displayName)),ze}while(1<=d&&0<=y);break}}}finally{wo=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?gs(h):""}function yl(a){switch(a.tag){case 26:case 27:case 5:return gs(a.type);case 16:return gs("Lazy");case 13:return gs("Suspense");case 19:return gs("SuspenseList");case 0:case 15:return Vs(a.type,!1);case 11:return Vs(a.type.render,!1);case 1:return Vs(a.type,!0);case 31:return gs("Activity");default:return""}}function Kn(a){try{var l="";do l+=yl(a),a=a.return;while(a);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Qi(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function So(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function cu(a){var l=So(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),d=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,S=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(U){d=""+U,S.call(this,U)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(U){d=""+U},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function oa(a){a._valueTracker||(a._valueTracker=cu(a))}function bl(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),d="";return a&&(d=So(a)?a.checked?"true":"false":a.value),a=d,a!==h?(l.setValue(a),!0):!1}function sr(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Eo=/[\n"\\]/g;function pn(a){return a.replace(Eo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ar(a,l,h,d,y,S,U,te){a.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.type=U:a.removeAttribute("type"),l!=null?U==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Qi(l)):a.value!==""+Qi(l)&&(a.value=""+Qi(l)):U!=="submit"&&U!=="reset"||a.removeAttribute("value"),l!=null?ua(a,U,Qi(l)):h!=null?ua(a,U,Qi(h)):d!=null&&a.removeAttribute("value"),y==null&&S!=null&&(a.defaultChecked=!!S),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?a.name=""+Qi(te):a.removeAttribute("name")}function la(a,l,h,d,y,S,U,te){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),l!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||l!=null))return;h=h!=null?""+Qi(h):"",l=l!=null?""+Qi(l):h,te||l===a.value||(a.value=l),a.defaultValue=l}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=te?a.checked:!!d,a.defaultChecked=!!d,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(a.name=U)}function ua(a,l,h){l==="number"&&sr(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function ms(a,l,h,d){if(a=a.options,l){l={};for(var y=0;y<h.length;y++)l["$"+h[y]]=!0;for(h=0;h<a.length;h++)y=l.hasOwnProperty("$"+a[h].value),a[h].selected!==y&&(a[h].selected=y),y&&d&&(a[h].defaultSelected=!0)}else{for(h=""+Qi(h),l=null,y=0;y<a.length;y++){if(a[y].value===h){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function Ln(a,l,h){if(l!=null&&(l=""+Qi(l),l!==a.value&&(a.value=l),h==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=h!=null?""+Qi(h):""}function ca(a,l,h,d){if(l==null){if(d!=null){if(h!=null)throw Error(i(92));if(pe(d)){if(1<d.length)throw Error(i(93));d=d[0]}h=d}h==null&&(h=""),l=h}h=Qi(l),a.defaultValue=h,d=a.textContent,d===h&&d!==""&&d!==null&&(a.value=d)}function Fr(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var Fs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hu(a,l,h){var d=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?d?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":d?a.setProperty(l,h):typeof h!="number"||h===0||Fs.has(l)?l==="float"?a.cssFloat=h:a[l]=(""+h).trim():a[l]=h+"px"}function _l(a,l,h){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,h!=null){for(var d in h)!h.hasOwnProperty(d)||l!=null&&l.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in l)d=l[y],l.hasOwnProperty(y)&&h[y]!==d&&hu(a,y,d)}else for(var S in l)l.hasOwnProperty(S)&&hu(a,S,l[S])}function wl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Us=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ao=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(a){return Ao.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var vs=null;function Fn(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var qs=null,ys=null;function Rt(a){var l=Ci(a);if(l&&(a=l.stateNode)){var h=a[On]||null;e:switch(a=l.stateNode,l.type){case"input":if(ar(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+pn(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var d=h[l];if(d!==a&&d.form===a.form){var y=d[On]||null;if(!y)throw Error(i(90));ar(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<h.length;l++)d=h[l],d.form===a.form&&bl(d)}break e;case"textarea":Ln(a,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&ms(a,!!h.multiple,l,!1)}}}var bs=!1;function fu(a,l,h){if(bs)return a(l,h);bs=!0;try{var d=a(l);return d}finally{if(bs=!1,(qs!==null||ys!==null)&&(_g(),qs&&(l=qs,a=ys,ys=qs=null,Rt(l),a)))for(l=0;l<a.length;l++)Rt(a[l])}}function mr(a,l){var h=a.stateNode;if(h===null)return null;var d=h[On]||null;if(d===null)return null;h=d[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(i(231,l,typeof h));return h}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Ur)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Cr=!1}var zr=null,ha=null,Hs=null;function Sl(){if(Hs)return Hs;var a,l=ha,h=l.length,d,y="value"in zr?zr.value:zr.textContent,S=y.length;for(a=0;a<h&&l[a]===y[a];a++);var U=h-a;for(d=1;d<=U&&l[h-d]===y[S-d];d++);return Hs=y.slice(a,1<d?1-d:void 0)}function qr(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function vr(){return!0}function ws(){return!1}function Ii(a){function l(h,d,y,S,U){this._reactName=h,this._targetInst=y,this.type=d,this.nativeEvent=S,this.target=U,this.currentTarget=null;for(var te in a)a.hasOwnProperty(te)&&(h=a[te],this[te]=h?h(S):S[te]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?vr:ws,this.isPropagationStopped=ws,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),l}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Ii(an),Ss=p({},an,{view:0,detail:0}),El=Ii(Ss),Va,Fa,hs,yr=p({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==hs&&(hs&&a.type==="mousemove"?(Va=a.screenX-hs.screenX,Fa=a.screenY-hs.screenY):Fa=Va=0,hs=a),Va)},movementY:function(a){return"movementY"in a?a.movementY:Fa}}),Ri=Ii(yr),du=p({},yr,{dataTransfer:0}),da=Ii(du),or=p({},Ss,{relatedTarget:0}),pa=Ii(or),Gs=p({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),xo=Ii(Gs),Ua=p({},an,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Lo=Ii(Ua),Al=p({},an,{data:0}),za=Ii(Al),ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},To={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ha(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=To[a])?!!l[a]:!1}function ma(){return Ha}var pu=p({},Ss,{key:function(a){if(a.key){var l=ga[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=qr(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?qa[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(a){return a.type==="keypress"?qr(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?qr(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ws=Ii(pu),va=p({},yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ga=Ii(va),br=p({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),Co=Ii(br),E=p({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=Ii(E),le=p({},yr,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ge=Ii(le),xe=p({},an,{newState:0,oldState:0}),Fe=Ii(xe),Ze=[9,13,27,32],ot=Ur&&"CompositionEvent"in window,m=null;Ur&&"documentMode"in document&&(m=document.documentMode);var L=Ur&&"TextEvent"in window&&!m,D=Ur&&(!ot||m&&8<m&&11>=m),ee=" ",Ae=!1;function Pe(a,l){switch(a){case"keyup":return Ze.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Je(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var kt=!1;function on(a,l){switch(a){case"compositionend":return Je(l);case"keypress":return l.which!==32?null:(Ae=!0,ee);case"textInput":return a=l.data,a===ee&&Ae?null:a;default:return null}}function Ut(a,l){if(kt)return a==="compositionend"||!ot&&Pe(a,l)?(a=Sl(),Hs=ha=zr=null,kt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return D&&l.locale!=="ko"?null:l.data;default:return null}}var Tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Tn[a.type]:l==="textarea"}function Es(a,l,h,d){qs?ys?ys.push(d):ys=[d]:qs=d,l=Lg(l,"onChange"),0<l.length&&(h=new fa("onChange","change",null,h,d),a.push({event:h,listeners:l}))}var vi=null,Hr=null;function ya(a){B5(a,0)}function Io(a){var l=ji(a);if(bl(l))return a}function gu(a,l){if(a==="change")return l}var xl=!1;if(Ur){var Vi;if(Ur){var Ro="oninput"in document;if(!Ro){var Ll=document.createElement("div");Ll.setAttribute("oninput","return;"),Ro=typeof Ll.oninput=="function"}Vi=Ro}else Vi=!1;xl=Vi&&(!document.documentMode||9<document.documentMode)}function Tl(){vi&&(vi.detachEvent("onpropertychange",mu),Hr=vi=null)}function mu(a){if(a.propertyName==="value"&&Io(Hr)){var l=[];Es(l,Hr,a,Fn(a)),fu(ya,l)}}function Gr(a,l,h){a==="focusin"?(Tl(),vi=l,Hr=h,vi.attachEvent("onpropertychange",mu)):a==="focusout"&&Tl()}function Wf(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Io(Hr)}function Tc(a,l){if(a==="click")return Io(l)}function Ah(a,l){if(a==="input"||a==="change")return Io(l)}function As(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Zi=typeof Object.is=="function"?Object.is:As;function ko(a,l){if(Zi(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),d=Object.keys(l);if(h.length!==d.length)return!1;for(d=0;d<h.length;d++){var y=h[d];if(!tt.call(l,y)||!Zi(a[y],l[y]))return!1}return!0}function Cc(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Wa(a,l){var h=Cc(a);a=0;for(var d;h;){if(h.nodeType===3){if(d=a+h.textContent.length,a<=l&&d>=l)return{node:h,offset:l-a};a=d}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Cc(h)}}function No(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?No(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Ir(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=sr(a.document);l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=sr(a.document)}return l}function lr(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var Po=Ur&&"documentMode"in document&&11>=document.documentMode,Wr=null,$s=null,ba=null,Ks=!1;function fi(a,l,h){var d=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ks||Wr==null||Wr!==sr(d)||(d=Wr,"selectionStart"in d&&lr(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ba&&ko(ba,d)||(ba=d,d=Lg($s,"onSelect"),0<d.length&&(l=new fa("onSelect","select",null,l,h),a.push({event:l,listeners:d}),l.target=Wr)))}function Ys(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var ki={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionrun:Ys("Transition","TransitionRun"),transitionstart:Ys("Transition","TransitionStart"),transitioncancel:Ys("Transition","TransitionCancel"),transitionend:Ys("Transition","TransitionEnd")},$r={},Cl={};Ur&&(Cl=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function _a(a){if($r[a])return $r[a];if(!ki[a])return a;var l=ki[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in Cl)return $r[a]=l[h];return a}var vu=_a("animationend"),Mo=_a("animationiteration"),Oo=_a("animationstart"),Do=_a("transitionrun"),Il=_a("transitionstart"),yu=_a("transitioncancel"),jo=_a("transitionend"),$a=new Map,Rl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rl.push("scrollEnd");function di(a,l){$a.set(a,l),gr(l,[a])}var fs=new WeakMap;function nn(a,l){if(typeof a=="object"&&a!==null){var h=fs.get(a);return h!==void 0?h:(l={value:a,source:l,stack:Kn(l)},fs.set(a,l),l)}return{value:a,source:l,stack:Kn(l)}}var rn=[],Yn=0,yi=0;function xs(){for(var a=Yn,l=yi=Yn=0;l<a;){var h=rn[l];rn[l++]=null;var d=rn[l];rn[l++]=null;var y=rn[l];rn[l++]=null;var S=rn[l];if(rn[l++]=null,d!==null&&y!==null){var U=d.pending;U===null?y.next=y:(y.next=U.next,U.next=y),d.pending=y}S!==0&&xh(h,y,S)}}function Bo(a,l,h,d){rn[Yn++]=a,rn[Yn++]=l,rn[Yn++]=h,rn[Yn++]=d,yi|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Vo(a,l,h,d){return Bo(a,l,h,d),kl(a)}function Ka(a,l){return Bo(a,null,null,l),kl(a)}function xh(a,l,h){a.lanes|=h;var d=a.alternate;d!==null&&(d.lanes|=h);for(var y=!1,S=a.return;S!==null;)S.childLanes|=h,d=S.alternate,d!==null&&(d.childLanes|=h),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(y=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,y&&l!==null&&(y=31-dt(h),a=S.hiddenUpdates,d=a[y],d===null?a[y]=[l]:d.push(l),l.lane=h|536870912),S):null}function kl(a){if(50<vd)throw vd=0,k0=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Ji={};function Ls(a,l,h,d){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(a,l,h,d){return new Ls(a,l,h,d)}function bu(a){return a=a.prototype,!(!a||!a.isReactComponent)}function wa(a,l){var h=a.alternate;return h===null?(h=_r(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Ic(a,l){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,l=h.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Nl(a,l,h,d,y,S){var U=0;if(d=a,typeof a=="function")bu(a)&&(U=1);else if(typeof a=="string")U=rC(a,h,ie.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=_r(31,h,l,y),a.elementType=O,a.lanes=S,a;case A:return Ya(h.children,y,S,l);case T:U=8,y|=24;break;case C:return a=_r(12,h,l,y|2),a.elementType=C,a.lanes=S,a;case X:return a=_r(13,h,l,y),a.elementType=X,a.lanes=S,a;case se:return a=_r(19,h,l,y),a.elementType=se,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case I:case W:U=10;break e;case j:U=9;break e;case Z:U=11;break e;case B:U=14;break e;case N:U=16,d=null;break e}U=29,h=Error(i(130,a===null?"null":typeof a,"")),d=null}return l=_r(U,h,l,y),l.elementType=a,l.type=d,l.lanes=S,l}function Ya(a,l,h,d){return a=_r(7,a,d,l),a.lanes=h,a}function Lh(a,l,h){return a=_r(6,a,null,l),a.lanes=h,a}function Rc(a,l,h){return l=_r(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Fo=[],Xa=0,_u=null,Th=0,Ts=[],ds=0,Pl=null,Qa=1,Za="";function Ml(a,l){Fo[Xa++]=Th,Fo[Xa++]=_u,_u=a,Th=l}function Hp(a,l,h){Ts[ds++]=Qa,Ts[ds++]=Za,Ts[ds++]=Pl,Pl=a;var d=Qa;a=Za;var y=32-dt(d)-1;d&=~(1<<y),h+=1;var S=32-dt(l)+y;if(30<S){var U=y-y%5;S=(d&(1<<U)-1).toString(32),d>>=U,y-=U,Qa=1<<32-dt(l)+y|h<<y|d,Za=S+a}else Qa=1<<S|h<<y|d,Za=a}function kc(a){a.return!==null&&(Ml(a,1),Hp(a,1,0))}function Nc(a){for(;a===_u;)_u=Fo[--Xa],Fo[Xa]=null,Th=Fo[--Xa],Fo[Xa]=null;for(;a===Pl;)Pl=Ts[--ds],Ts[ds]=null,Za=Ts[--ds],Ts[ds]=null,Qa=Ts[--ds],Ts[ds]=null}var Fi=null,pi=null,En=!1,Uo=null,Sa=!1,$f=Error(i(519));function Ol(a){var l=Error(i(418,""));throw wu(nn(l,a)),$f}function Gp(a){var l=a.stateNode,h=a.type,d=a.memoizedProps;switch(l[ht]=a,l[On]=d,h){case"dialog":cn("cancel",l),cn("close",l);break;case"iframe":case"object":case"embed":cn("load",l);break;case"video":case"audio":for(h=0;h<bd.length;h++)cn(bd[h],l);break;case"source":cn("error",l);break;case"img":case"image":case"link":cn("error",l),cn("load",l);break;case"details":cn("toggle",l);break;case"input":cn("invalid",l),la(l,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),oa(l);break;case"select":cn("invalid",l);break;case"textarea":cn("invalid",l),ca(l,d.value,d.defaultValue,d.children),oa(l)}h=d.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||d.suppressHydrationWarning===!0||z5(l.textContent,h)?(d.popover!=null&&(cn("beforetoggle",l),cn("toggle",l)),d.onScroll!=null&&cn("scroll",l),d.onScrollEnd!=null&&cn("scrollend",l),d.onClick!=null&&(l.onclick=Tg),l=!0):l=!1,l||Ol(a)}function Ja(a){for(Fi=a.return;Fi;)switch(Fi.tag){case 5:case 13:Sa=!1;return;case 27:case 3:Sa=!0;return;default:Fi=Fi.return}}function Rr(a){if(a!==Fi)return!1;if(!En)return Ja(a),En=!0,!1;var l=a.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||$0(a.type,a.memoizedProps)),h=!h),h&&pi&&Ol(a),Ja(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(l===0){pi=oo(a.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;a=a.nextSibling}pi=null}}else l===27?(l=pi,Bu(a.type)?(a=Q0,Q0=null,pi=a):pi=l):pi=Fi?oo(a.stateNode.nextSibling):null;return!0}function ps(){pi=Fi=null,En=!1}function Wp(){var a=Uo;return a!==null&&(Rs===null?Rs=a:Rs.push.apply(Rs,a),Uo=null),a}function wu(a){Uo===null?Uo=[a]:Uo.push(a)}var Ea=ve(null),er=null,eo=null;function zo(a,l,h){H(Ea,l._currentValue),l._currentValue=h}function Aa(a){a._currentValue=Ea.current,F(Ea)}function Ch(a,l,h){for(;a!==null;){var d=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,d!==null&&(d.childLanes|=l)):d!==null&&(d.childLanes&l)!==l&&(d.childLanes|=l),a===h)break;a=a.return}}function Ih(a,l,h,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var S=y.dependencies;if(S!==null){var U=y.child;S=S.firstContext;e:for(;S!==null;){var te=S;S=y;for(var de=0;de<l.length;de++)if(te.context===l[de]){S.lanes|=h,te=S.alternate,te!==null&&(te.lanes|=h),Ch(S.return,h,a),d||(U=null);break e}S=te.next}}else if(y.tag===18){if(U=y.return,U===null)throw Error(i(341));U.lanes|=h,S=U.alternate,S!==null&&(S.lanes|=h),Ch(U,h,a),U=null}else U=y.child;if(U!==null)U.return=y;else for(U=y;U!==null;){if(U===a){U=null;break}if(y=U.sibling,y!==null){y.return=U.return,U=y;break}U=U.return}y=U}}function Su(a,l,h,d){a=null;for(var y=l,S=!1;y!==null;){if(!S){if((y.flags&524288)!==0)S=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var U=y.alternate;if(U===null)throw Error(i(387));if(U=U.memoizedProps,U!==null){var te=y.type;Zi(y.pendingProps.value,U.value)||(a!==null?a.push(te):a=[te])}}else if(y===we.current){if(U=y.alternate,U===null)throw Error(i(387));U.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(xd):a=[xd])}y=y.return}a!==null&&Ih(l,a,h,d),l.flags|=262144}function Rh(a){for(a=a.firstContext;a!==null;){if(!Zi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function xa(a){er=a,eo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ui(a){return kh(er,a)}function qo(a,l){return er===null&&xa(a),kh(a,l)}function kh(a,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},eo===null){if(a===null)throw Error(i(308));eo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else eo=eo.next=l;return h}var n0=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(h,d){a.push(d)}};this.abort=function(){l.aborted=!0,a.forEach(function(h){return h()})}},$p=n.unstable_scheduleCallback,i0=n.unstable_NormalPriority,zi={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new n0,data:new Map,refCount:0}}function Pc(a){a.refCount--,a.refCount===0&&$p(i0,function(){a.controller.abort()})}var Mc=null,Yf=0,Dl=0,to=null;function r0(a,l){if(Mc===null){var h=Mc=[];Yf=0,Dl=B0(),to={status:"pending",value:void 0,then:function(d){h.push(d)}}}return Yf++,l.then(Kp,Kp),l}function Kp(){if(--Yf===0&&Mc!==null){to!==null&&(to.status="fulfilled");var a=Mc;Mc=null,Dl=0,to=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function Yp(a,l){var h=[],d={status:"pending",value:null,reason:null,then:function(y){h.push(y)}};return a.then(function(){d.status="fulfilled",d.value=l;for(var y=0;y<h.length;y++)(0,h[y])(l)},function(y){for(d.status="rejected",d.reason=y,y=0;y<h.length;y++)(0,h[y])(void 0)}),d}var g=re.S;re.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&r0(a,l),g!==null&&g(a,l)};var _=ve(null);function x(){var a=_.current;return a!==null?a:ri.pooledCache}function P(a,l){l===null?H(_,_.current):H(_,l.pool)}function z(){var a=x();return a===null?null:{parent:zi._currentValue,pool:a}}var $=Error(i(460)),Y=Error(i(474)),J=Error(i(542)),ne={then:function(){}};function ae(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ye(){}function ke(a,l,h){switch(h=a[h],h===void 0?a.push(l):h!==l&&(l.then(ye,ye),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,We(a),a;default:if(typeof l.status=="string")l.then(ye,ye);else{if(a=ri,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(d){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=d}},function(d){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=d}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,We(a),a}throw Ie=l,$}}var Ie=null;function Le(){if(Ie===null)throw Error(i(459));var a=Ie;return Ie=null,a}function We(a){if(a===$||a===J)throw Error(i(483))}var Be=!1;function be(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ee(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ue(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function $e(a,l,h){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(zn&2)!==0){var y=d.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),d.pending=l,l=kl(a),xh(a,null,h),l}return Bo(a,d,l,h),kl(a)}function He(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var d=l.lanes;d&=a.pendingLanes,h|=d,l.lanes=h,Xt(a,h)}}function ft(a,l){var h=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,h===d)){var y=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var U={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?y=S=U:S=S.next=U,h=h.next}while(h!==null);S===null?y=S=l:S=S.next=l}else y=S=l;h={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:d.shared,callbacks:d.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}var st=!1;function xt(){if(st){var a=to;if(a!==null)throw a}}function lt(a,l,h,d){st=!1;var y=a.updateQueue;Be=!1;var S=y.firstBaseUpdate,U=y.lastBaseUpdate,te=y.shared.pending;if(te!==null){y.shared.pending=null;var de=te,Me=de.next;de.next=null,U===null?S=Me:U.next=Me,U=de;var ze=a.alternate;ze!==null&&(ze=ze.updateQueue,te=ze.lastBaseUpdate,te!==U&&(te===null?ze.firstBaseUpdate=Me:te.next=Me,ze.lastBaseUpdate=de))}if(S!==null){var Ye=y.baseState;U=0,ze=Me=de=null,te=S;do{var Oe=te.lane&-536870913,De=Oe!==te.lane;if(De?(_n&Oe)===Oe:(d&Oe)===Oe){Oe!==0&&Oe===Dl&&(st=!0),ze!==null&&(ze=ze.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var Vt=a,Nt=te;Oe=l;var Qn=h;switch(Nt.tag){case 1:if(Vt=Nt.payload,typeof Vt=="function"){Ye=Vt.call(Qn,Ye,Oe);break e}Ye=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=Nt.payload,Oe=typeof Vt=="function"?Vt.call(Qn,Ye,Oe):Vt,Oe==null)break e;Ye=p({},Ye,Oe);break e;case 2:Be=!0}}Oe=te.callback,Oe!==null&&(a.flags|=64,De&&(a.flags|=8192),De=y.callbacks,De===null?y.callbacks=[Oe]:De.push(Oe))}else De={lane:Oe,tag:te.tag,payload:te.payload,callback:te.callback,next:null},ze===null?(Me=ze=De,de=Ye):ze=ze.next=De,U|=Oe;if(te=te.next,te===null){if(te=y.shared.pending,te===null)break;De=te,te=De.next,De.next=null,y.lastBaseUpdate=De,y.shared.pending=null}}while(!0);ze===null&&(de=Ye),y.baseState=de,y.firstBaseUpdate=Me,y.lastBaseUpdate=ze,S===null&&(y.shared.lanes=0),Mu|=U,a.lanes=U,a.memoizedState=Ye}}function yn(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function Cn(a,l){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)yn(h[a],l)}var Jt=ve(null),Qt=ve(0);function jn(a,l){a=Wl,H(Qt,a),H(Jt,l),Wl=a|l.baseLanes}function In(){H(Qt,Wl),H(Jt,Jt.current)}function zt(){Wl=Qt.current,F(Jt),F(Qt)}var Un=0,Tt=null,Dt=null,gn=null,bn=!1,tr=!1,qi=!1,bi=0,_i=0,Ni=null,Cs=0;function Rn(){throw Error(i(321))}function Pi(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!Zi(a[h],l[h]))return!1;return!0}function Xs(a,l,h,d,y,S){return Un=S,Tt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,re.H=a===null||a.memoizedState===null?Sb:Eb,qi=!1,S=h(d,y),qi=!1,tr&&(S=jl(l,h,d,y)),Ho(a),S}function Ho(a){re.H=og;var l=Dt!==null&&Dt.next!==null;if(Un=0,gn=Dt=Tt=null,bn=!1,_i=0,Ni=null,l)throw Error(i(300));a===null||wr||(a=a.dependencies,a!==null&&Rh(a)&&(wr=!0))}function jl(a,l,h,d){Tt=a;var y=0;do{if(tr&&(Ni=null),_i=0,tr=!1,25<=y)throw Error(i(301));if(y+=1,gn=Dt=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}re.H=g3,S=l(h,d)}while(tr);return S}function Go(){var a=re.H,l=a.useState()[0];return l=typeof l.then=="function"?Wo(l):l,a=a.useState()[0],(Dt!==null?Dt.memoizedState:null)!==a&&(Tt.flags|=1024),l}function ii(){var a=bi!==0;return bi=0,a}function Oc(a,l,h){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~h}function Nh(a){if(bn){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}bn=!1}Un=0,gn=Dt=Tt=null,tr=!1,_i=bi=0,Ni=null}function kr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Tt.memoizedState=gn=a:gn=gn.next=a,gn}function ai(){if(Dt===null){var a=Tt.alternate;a=a!==null?a.memoizedState:null}else a=Dt.next;var l=gn===null?Tt.memoizedState:gn.next;if(l!==null)gn=l,Dt=a;else{if(a===null)throw Tt.alternate===null?Error(i(467)):Error(i(310));Dt=a,a={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},gn===null?Tt.memoizedState=gn=a:gn=gn.next=a}return gn}function Bl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(a){var l=_i;return _i+=1,Ni===null&&(Ni=[]),a=ke(Ni,a,l),l=Tt,(gn===null?l.memoizedState:gn.next)===null&&(l=l.alternate,re.H=l===null||l.memoizedState===null?Sb:Eb),a}function Kr(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Wo(a);if(a.$$typeof===W)return Ui(a)}throw Error(i(438,String(a)))}function $o(a){var l=null,h=Tt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var d=Tt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(l={data:d.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Bl(),Tt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(a),d=0;d<a;d++)h[d]=G;return l.index++,h}function Yr(a,l){return typeof l=="function"?l(a):l}function Dc(a){var l=ai();return Eu(l,Dt,a)}function Eu(a,l,h){var d=a.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=h;var y=a.baseQueue,S=d.pending;if(S!==null){if(y!==null){var U=y.next;y.next=S.next,S.next=U}l.baseQueue=y=S,d.pending=null}if(S=a.baseState,y===null)a.memoizedState=S;else{l=y.next;var te=U=null,de=null,Me=l,ze=!1;do{var Ye=Me.lane&-536870913;if(Ye!==Me.lane?(_n&Ye)===Ye:(Un&Ye)===Ye){var Oe=Me.revertLane;if(Oe===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),Ye===Dl&&(ze=!0);else if((Un&Oe)===Oe){Me=Me.next,Oe===Dl&&(ze=!0);continue}else Ye={lane:0,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},de===null?(te=de=Ye,U=S):de=de.next=Ye,Tt.lanes|=Oe,Mu|=Oe;Ye=Me.action,qi&&h(S,Ye),S=Me.hasEagerState?Me.eagerState:h(S,Ye)}else Oe={lane:Ye,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},de===null?(te=de=Oe,U=S):de=de.next=Oe,Tt.lanes|=Ye,Mu|=Ye;Me=Me.next}while(Me!==null&&Me!==l);if(de===null?U=S:de.next=te,!Zi(S,a.memoizedState)&&(wr=!0,ze&&(h=to,h!==null)))throw h;a.memoizedState=S,a.baseState=U,a.baseQueue=de,d.lastRenderedState=S}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Ph(a){var l=ai(),h=l.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=a;var d=h.dispatch,y=h.pending,S=l.memoizedState;if(y!==null){h.pending=null;var U=y=y.next;do S=a(S,U.action),U=U.next;while(U!==y);Zi(S,l.memoizedState)||(wr=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),h.lastRenderedState=S}return[S,d]}function jc(a,l,h){var d=Tt,y=ai(),S=En;if(S){if(h===void 0)throw Error(i(407));h=h()}else h=l();var U=!Zi((Dt||y).memoizedState,h);U&&(y.memoizedState=h,wr=!0),y=y.queue;var te=Au.bind(null,d,y,a);if(Tu(2048,8,te,[a]),y.getSnapshot!==l||U||gn!==null&&gn.memoizedState.tag&1){if(d.flags|=2048,io(9,Uc(),Bc.bind(null,d,y,h,l),null),ri===null)throw Error(i(349));S||(Un&124)!==0||Mh(d,l,h)}return h}function Mh(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=Tt.updateQueue,l===null?(l=Bl(),Tt.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function Bc(a,l,h,d){l.value=h,l.getSnapshot=d,Xp(l)&&Qp(a)}function Au(a,l,h){return h(function(){Xp(l)&&Qp(a)})}function Xp(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!Zi(a,h)}catch{return!0}}function Qp(a){var l=Ka(a,2);l!==null&&na(l,a,2)}function Vc(a){var l=kr();if(typeof a=="function"){var h=a;if(a=h(),qi){qt(!0);try{h()}finally{qt(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:a},l}function no(a,l,h,d){return a.baseState=h,Eu(a,Dt,typeof d=="function"?d:Yr)}function s0(a,l,h,d,y){if(ag(a))throw Error(i(485));if(a=l.action,a!==null){var S={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){S.listeners.push(U)}};re.T!==null?h(!0):S.isTransition=!1,d(S),h=l.pending,h===null?(S.next=l.pending=S,Zp(l,S)):(S.next=h.next,l.pending=h.next=S)}}function Zp(a,l){var h=l.action,d=l.payload,y=a.state;if(l.isTransition){var S=re.T,U={};re.T=U;try{var te=h(y,d),de=re.S;de!==null&&de(U,te),Jp(a,l,te)}catch(Me){xu(a,l,Me)}finally{re.T=S}}else try{S=h(y,d),Jp(a,l,S)}catch(Me){xu(a,l,Me)}}function Jp(a,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(d){Xf(a,l,d)},function(d){return xu(a,l,d)}):Xf(a,l,h)}function Xf(a,l,h){l.status="fulfilled",l.value=h,Qf(l),a.state=h,l=a.pending,l!==null&&(h=l.next,h===l?a.pending=null:(h=h.next,l.next=h,Zp(a,h)))}function xu(a,l,h){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do l.status="rejected",l.reason=h,Qf(l),l=l.next;while(l!==d)}a.action=null}function Qf(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Zf(a,l){return l}function Fc(a,l){if(En){var h=ri.formState;if(h!==null){e:{var d=Tt;if(En){if(pi){t:{for(var y=pi,S=Sa;y.nodeType!==8;){if(!S){y=null;break t}if(y=oo(y.nextSibling),y===null){y=null;break t}}S=y.data,y=S==="F!"||S==="F"?y:null}if(y){pi=oo(y.nextSibling),d=y.data==="F!";break e}}Ol(d)}d=!1}d&&(l=h[0])}}return h=kr(),h.memoizedState=h.baseState=l,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:l},h.queue=d,h=bb.bind(null,Tt,d),d.dispatch=h,d=Vc(!1),S=a0.bind(null,Tt,!1,d.queue),d=kr(),y={state:l,dispatch:null,action:a,pending:null},d.queue=y,h=s0.bind(null,Tt,y,S,h),y.dispatch=h,d.memoizedState=a,[l,h,!1]}function Oh(a){var l=ai();return Lu(l,Dt,a)}function Lu(a,l,h){if(l=Eu(a,l,Zf)[0],a=Dc(Yr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var d=Wo(l)}catch(U){throw U===$?J:U}else d=l;l=ai();var y=l.queue,S=y.dispatch;return h!==l.memoizedState&&(Tt.flags|=2048,io(9,Uc(),eg.bind(null,y,h),null)),[d,S,a]}function eg(a,l){a.action=l}function tg(a){var l=ai(),h=Dt;if(h!==null)return Lu(l,h,a);ai(),l=l.memoizedState,h=ai();var d=h.queue.dispatch;return h.memoizedState=a,[l,d,!1]}function io(a,l,h,d){return a={tag:a,create:h,deps:d,inst:l,next:null},l=Tt.updateQueue,l===null&&(l=Bl(),Tt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=a.next=a:(d=h.next,h.next=a,a.next=d,l.lastEffect=a),a}function Uc(){return{destroy:void 0,resource:void 0}}function Dh(){return ai().memoizedState}function Qs(a,l,h,d){var y=kr();d=d===void 0?null:d,Tt.flags|=a,y.memoizedState=io(1|l,Uc(),h,d)}function Tu(a,l,h,d){var y=ai();d=d===void 0?null:d;var S=y.memoizedState.inst;Dt!==null&&d!==null&&Pi(d,Dt.memoizedState.deps)?y.memoizedState=io(l,S,h,d):(Tt.flags|=a,y.memoizedState=io(1|l,S,h,d))}function Jf(a,l){Qs(8390656,8,a,l)}function ng(a,l){Tu(2048,8,a,l)}function ed(a,l){return Tu(4,2,a,l)}function Vl(a,l){return Tu(4,4,a,l)}function ig(a,l){if(typeof l=="function"){a=a();var h=l(a);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function td(a,l,h){h=h!=null?h.concat([a]):null,Tu(4,4,ig.bind(null,l,a),h)}function nd(){}function id(a,l){var h=ai();l=l===void 0?null:l;var d=h.memoizedState;return l!==null&&Pi(l,d[1])?d[0]:(h.memoizedState=[a,l],a)}function rg(a,l){var h=ai();l=l===void 0?null:l;var d=h.memoizedState;if(l!==null&&Pi(l,d[1]))return d[0];if(d=a(),qi){qt(!0);try{a()}finally{qt(!1)}}return h.memoizedState=[d,l],d}function Fl(a,l,h){return h===void 0||(Un&1073741824)!==0?a.memoizedState=l:(a.memoizedState=h,a=g5(),Tt.lanes|=a,Mu|=a,h)}function jh(a,l,h,d){return Zi(h,l)?h:Jt.current!==null?(a=Fl(a,h,d),Zi(a,l)||(wr=!0),a):(Un&42)===0?(wr=!0,a.memoizedState=h):(a=g5(),Tt.lanes|=a,Mu|=a,l)}function zc(a,l,h,d,y){var S=he.p;he.p=S!==0&&8>S?S:8;var U=re.T,te={};re.T=te,a0(a,!1,l,h);try{var de=y(),Me=re.S;if(Me!==null&&Me(te,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var ze=Yp(de,d);od(a,l,ze,ta(a))}else od(a,l,d,ta(a))}catch(Ye){od(a,l,{then:function(){},status:"rejected",reason:Ye},ta())}finally{he.p=S,re.T=U}}function ro(){}function La(a,l,h,d){if(a.tag!==5)throw Error(i(476));var y=so(a).queue;zc(a,y,l,ce,h===null?ro:function(){return qc(a),h(d)})}function so(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:ce},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:h},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function qc(a){var l=so(a).next.queue;od(a,l,{},ta())}function Hc(){return Ui(xd)}function rd(){return ai().memoizedState}function sg(){return ai().memoizedState}function sd(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var h=ta();a=Ue(h);var d=$e(l,a,h);d!==null&&(na(d,l,h),He(d,l,h)),l={cache:Kf()},a.payload=l;return}l=l.return}}function ad(a,l,h){var d=ta();h={lane:d,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},ag(a)?_b(l,h):(h=Vo(a,l,h,d),h!==null&&(na(h,a,d),wb(h,l,d)))}function bb(a,l,h){var d=ta();od(a,l,h,d)}function od(a,l,h,d){var y={lane:d,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(ag(a))_b(l,y);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var U=l.lastRenderedState,te=S(U,h);if(y.hasEagerState=!0,y.eagerState=te,Zi(te,U))return Bo(a,l,y,0),ri===null&&xs(),!1}catch{}finally{}if(h=Vo(a,l,y,d),h!==null)return na(h,a,d),wb(h,l,d),!0}return!1}function a0(a,l,h,d){if(d={lane:2,revertLane:B0(),action:d,hasEagerState:!1,eagerState:null,next:null},ag(a)){if(l)throw Error(i(479))}else l=Vo(a,h,d,2),l!==null&&na(l,a,2)}function ag(a){var l=a.alternate;return a===Tt||l!==null&&l===Tt}function _b(a,l){tr=bn=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function wb(a,l,h){if((h&4194048)!==0){var d=l.lanes;d&=a.pendingLanes,h|=d,l.lanes=h,Xt(a,h)}}var og={readContext:Ui,use:Kr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn},Sb={readContext:Ui,use:Kr,useCallback:function(a,l){return kr().memoizedState=[a,l===void 0?null:l],a},useContext:Ui,useEffect:Jf,useImperativeHandle:function(a,l,h){h=h!=null?h.concat([a]):null,Qs(4194308,4,ig.bind(null,l,a),h)},useLayoutEffect:function(a,l){return Qs(4194308,4,a,l)},useInsertionEffect:function(a,l){Qs(4,2,a,l)},useMemo:function(a,l){var h=kr();l=l===void 0?null:l;var d=a();if(qi){qt(!0);try{a()}finally{qt(!1)}}return h.memoizedState=[d,l],d},useReducer:function(a,l,h){var d=kr();if(h!==void 0){var y=h(l);if(qi){qt(!0);try{h(l)}finally{qt(!1)}}}else y=l;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=ad.bind(null,Tt,a),[d.memoizedState,a]},useRef:function(a){var l=kr();return a={current:a},l.memoizedState=a},useState:function(a){a=Vc(a);var l=a.queue,h=bb.bind(null,Tt,l);return l.dispatch=h,[a.memoizedState,h]},useDebugValue:nd,useDeferredValue:function(a,l){var h=kr();return Fl(h,a,l)},useTransition:function(){var a=Vc(!1);return a=zc.bind(null,Tt,a.queue,!0,!1),kr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,h){var d=Tt,y=kr();if(En){if(h===void 0)throw Error(i(407));h=h()}else{if(h=l(),ri===null)throw Error(i(349));(_n&124)!==0||Mh(d,l,h)}y.memoizedState=h;var S={value:h,getSnapshot:l};return y.queue=S,Jf(Au.bind(null,d,S,a),[a]),d.flags|=2048,io(9,Uc(),Bc.bind(null,d,S,h,l),null),h},useId:function(){var a=kr(),l=ri.identifierPrefix;if(En){var h=Za,d=Qa;h=(d&~(1<<32-dt(d)-1)).toString(32)+h,l=""+l+"R"+h,h=bi++,0<h&&(l+="H"+h.toString(32)),l+=""}else h=Cs++,l=""+l+"r"+h.toString(32)+"";return a.memoizedState=l},useHostTransitionStatus:Hc,useFormState:Fc,useActionState:Fc,useOptimistic:function(a){var l=kr();l.memoizedState=l.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=a0.bind(null,Tt,!0,h),h.dispatch=l,[a,l]},useMemoCache:$o,useCacheRefresh:function(){return kr().memoizedState=sd.bind(null,Tt)}},Eb={readContext:Ui,use:Kr,useCallback:id,useContext:Ui,useEffect:ng,useImperativeHandle:td,useInsertionEffect:ed,useLayoutEffect:Vl,useMemo:rg,useReducer:Dc,useRef:Dh,useState:function(){return Dc(Yr)},useDebugValue:nd,useDeferredValue:function(a,l){var h=ai();return jh(h,Dt.memoizedState,a,l)},useTransition:function(){var a=Dc(Yr)[0],l=ai().memoizedState;return[typeof a=="boolean"?a:Wo(a),l]},useSyncExternalStore:jc,useId:rd,useHostTransitionStatus:Hc,useFormState:Oh,useActionState:Oh,useOptimistic:function(a,l){var h=ai();return no(h,Dt,a,l)},useMemoCache:$o,useCacheRefresh:sg},g3={readContext:Ui,use:Kr,useCallback:id,useContext:Ui,useEffect:ng,useImperativeHandle:td,useInsertionEffect:ed,useLayoutEffect:Vl,useMemo:rg,useReducer:Ph,useRef:Dh,useState:function(){return Ph(Yr)},useDebugValue:nd,useDeferredValue:function(a,l){var h=ai();return Dt===null?Fl(h,a,l):jh(h,Dt.memoizedState,a,l)},useTransition:function(){var a=Ph(Yr)[0],l=ai().memoizedState;return[typeof a=="boolean"?a:Wo(a),l]},useSyncExternalStore:jc,useId:rd,useHostTransitionStatus:Hc,useFormState:tg,useActionState:tg,useOptimistic:function(a,l){var h=ai();return Dt!==null?no(h,Dt,a,l):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:$o,useCacheRefresh:sg},Bh=null,ld=0;function lg(a){var l=ld;return ld+=1,Bh===null&&(Bh=[]),ke(Bh,a,l)}function ud(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function ug(a,l){throw l.$$typeof===v?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Ab(a){var l=a._init;return l(a._payload)}function xb(a){function l(Te,_e){if(a){var Re=Te.deletions;Re===null?(Te.deletions=[_e],Te.flags|=16):Re.push(_e)}}function h(Te,_e){if(!a)return null;for(;_e!==null;)l(Te,_e),_e=_e.sibling;return null}function d(Te){for(var _e=new Map;Te!==null;)Te.key!==null?_e.set(Te.key,Te):_e.set(Te.index,Te),Te=Te.sibling;return _e}function y(Te,_e){return Te=wa(Te,_e),Te.index=0,Te.sibling=null,Te}function S(Te,_e,Re){return Te.index=Re,a?(Re=Te.alternate,Re!==null?(Re=Re.index,Re<_e?(Te.flags|=67108866,_e):Re):(Te.flags|=67108866,_e)):(Te.flags|=1048576,_e)}function U(Te){return a&&Te.alternate===null&&(Te.flags|=67108866),Te}function te(Te,_e,Re,Ge){return _e===null||_e.tag!==6?(_e=Lh(Re,Te.mode,Ge),_e.return=Te,_e):(_e=y(_e,Re),_e.return=Te,_e)}function de(Te,_e,Re,Ge){var bt=Re.type;return bt===A?ze(Te,_e,Re.props.children,Ge,Re.key):_e!==null&&(_e.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===N&&Ab(bt)===_e.type)?(_e=y(_e,Re.props),ud(_e,Re),_e.return=Te,_e):(_e=Nl(Re.type,Re.key,Re.props,null,Te.mode,Ge),ud(_e,Re),_e.return=Te,_e)}function Me(Te,_e,Re,Ge){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Re.containerInfo||_e.stateNode.implementation!==Re.implementation?(_e=Rc(Re,Te.mode,Ge),_e.return=Te,_e):(_e=y(_e,Re.children||[]),_e.return=Te,_e)}function ze(Te,_e,Re,Ge,bt){return _e===null||_e.tag!==7?(_e=Ya(Re,Te.mode,Ge,bt),_e.return=Te,_e):(_e=y(_e,Re),_e.return=Te,_e)}function Ye(Te,_e,Re){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=Lh(""+_e,Te.mode,Re),_e.return=Te,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case w:return Re=Nl(_e.type,_e.key,_e.props,null,Te.mode,Re),ud(Re,_e),Re.return=Te,Re;case b:return _e=Rc(_e,Te.mode,Re),_e.return=Te,_e;case N:var Ge=_e._init;return _e=Ge(_e._payload),Ye(Te,_e,Re)}if(pe(_e)||M(_e))return _e=Ya(_e,Te.mode,Re,null),_e.return=Te,_e;if(typeof _e.then=="function")return Ye(Te,lg(_e),Re);if(_e.$$typeof===W)return Ye(Te,qo(Te,_e),Re);ug(Te,_e)}return null}function Oe(Te,_e,Re,Ge){var bt=_e!==null?_e.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return bt!==null?null:te(Te,_e,""+Re,Ge);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case w:return Re.key===bt?de(Te,_e,Re,Ge):null;case b:return Re.key===bt?Me(Te,_e,Re,Ge):null;case N:return bt=Re._init,Re=bt(Re._payload),Oe(Te,_e,Re,Ge)}if(pe(Re)||M(Re))return bt!==null?null:ze(Te,_e,Re,Ge,null);if(typeof Re.then=="function")return Oe(Te,_e,lg(Re),Ge);if(Re.$$typeof===W)return Oe(Te,_e,qo(Te,Re),Ge);ug(Te,Re)}return null}function De(Te,_e,Re,Ge,bt){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Te=Te.get(Re)||null,te(_e,Te,""+Ge,bt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case w:return Te=Te.get(Ge.key===null?Re:Ge.key)||null,de(_e,Te,Ge,bt);case b:return Te=Te.get(Ge.key===null?Re:Ge.key)||null,Me(_e,Te,Ge,bt);case N:var ln=Ge._init;return Ge=ln(Ge._payload),De(Te,_e,Re,Ge,bt)}if(pe(Ge)||M(Ge))return Te=Te.get(Re)||null,ze(_e,Te,Ge,bt,null);if(typeof Ge.then=="function")return De(Te,_e,Re,lg(Ge),bt);if(Ge.$$typeof===W)return De(Te,_e,Re,qo(_e,Ge),bt);ug(_e,Ge)}return null}function Vt(Te,_e,Re,Ge){for(var bt=null,ln=null,Lt=_e,Pt=_e=0,Er=null;Lt!==null&&Pt<Re.length;Pt++){Lt.index>Pt?(Er=Lt,Lt=null):Er=Lt.sibling;var kn=Oe(Te,Lt,Re[Pt],Ge);if(kn===null){Lt===null&&(Lt=Er);break}a&&Lt&&kn.alternate===null&&l(Te,Lt),_e=S(kn,_e,Pt),ln===null?bt=kn:ln.sibling=kn,ln=kn,Lt=Er}if(Pt===Re.length)return h(Te,Lt),En&&Ml(Te,Pt),bt;if(Lt===null){for(;Pt<Re.length;Pt++)Lt=Ye(Te,Re[Pt],Ge),Lt!==null&&(_e=S(Lt,_e,Pt),ln===null?bt=Lt:ln.sibling=Lt,ln=Lt);return En&&Ml(Te,Pt),bt}for(Lt=d(Lt);Pt<Re.length;Pt++)Er=De(Lt,Te,Pt,Re[Pt],Ge),Er!==null&&(a&&Er.alternate!==null&&Lt.delete(Er.key===null?Pt:Er.key),_e=S(Er,_e,Pt),ln===null?bt=Er:ln.sibling=Er,ln=Er);return a&&Lt.forEach(function(qu){return l(Te,qu)}),En&&Ml(Te,Pt),bt}function Nt(Te,_e,Re,Ge){if(Re==null)throw Error(i(151));for(var bt=null,ln=null,Lt=_e,Pt=_e=0,Er=null,kn=Re.next();Lt!==null&&!kn.done;Pt++,kn=Re.next()){Lt.index>Pt?(Er=Lt,Lt=null):Er=Lt.sibling;var qu=Oe(Te,Lt,kn.value,Ge);if(qu===null){Lt===null&&(Lt=Er);break}a&&Lt&&qu.alternate===null&&l(Te,Lt),_e=S(qu,_e,Pt),ln===null?bt=qu:ln.sibling=qu,ln=qu,Lt=Er}if(kn.done)return h(Te,Lt),En&&Ml(Te,Pt),bt;if(Lt===null){for(;!kn.done;Pt++,kn=Re.next())kn=Ye(Te,kn.value,Ge),kn!==null&&(_e=S(kn,_e,Pt),ln===null?bt=kn:ln.sibling=kn,ln=kn);return En&&Ml(Te,Pt),bt}for(Lt=d(Lt);!kn.done;Pt++,kn=Re.next())kn=De(Lt,Te,Pt,kn.value,Ge),kn!==null&&(a&&kn.alternate!==null&&Lt.delete(kn.key===null?Pt:kn.key),_e=S(kn,_e,Pt),ln===null?bt=kn:ln.sibling=kn,ln=kn);return a&&Lt.forEach(function(mC){return l(Te,mC)}),En&&Ml(Te,Pt),bt}function Qn(Te,_e,Re,Ge){if(typeof Re=="object"&&Re!==null&&Re.type===A&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case w:e:{for(var bt=Re.key;_e!==null;){if(_e.key===bt){if(bt=Re.type,bt===A){if(_e.tag===7){h(Te,_e.sibling),Ge=y(_e,Re.props.children),Ge.return=Te,Te=Ge;break e}}else if(_e.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===N&&Ab(bt)===_e.type){h(Te,_e.sibling),Ge=y(_e,Re.props),ud(Ge,Re),Ge.return=Te,Te=Ge;break e}h(Te,_e);break}else l(Te,_e);_e=_e.sibling}Re.type===A?(Ge=Ya(Re.props.children,Te.mode,Ge,Re.key),Ge.return=Te,Te=Ge):(Ge=Nl(Re.type,Re.key,Re.props,null,Te.mode,Ge),ud(Ge,Re),Ge.return=Te,Te=Ge)}return U(Te);case b:e:{for(bt=Re.key;_e!==null;){if(_e.key===bt)if(_e.tag===4&&_e.stateNode.containerInfo===Re.containerInfo&&_e.stateNode.implementation===Re.implementation){h(Te,_e.sibling),Ge=y(_e,Re.children||[]),Ge.return=Te,Te=Ge;break e}else{h(Te,_e);break}else l(Te,_e);_e=_e.sibling}Ge=Rc(Re,Te.mode,Ge),Ge.return=Te,Te=Ge}return U(Te);case N:return bt=Re._init,Re=bt(Re._payload),Qn(Te,_e,Re,Ge)}if(pe(Re))return Vt(Te,_e,Re,Ge);if(M(Re)){if(bt=M(Re),typeof bt!="function")throw Error(i(150));return Re=bt.call(Re),Nt(Te,_e,Re,Ge)}if(typeof Re.then=="function")return Qn(Te,_e,lg(Re),Ge);if(Re.$$typeof===W)return Qn(Te,_e,qo(Te,Re),Ge);ug(Te,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,_e!==null&&_e.tag===6?(h(Te,_e.sibling),Ge=y(_e,Re),Ge.return=Te,Te=Ge):(h(Te,_e),Ge=Lh(Re,Te.mode,Ge),Ge.return=Te,Te=Ge),U(Te)):h(Te,_e)}return function(Te,_e,Re,Ge){try{ld=0;var bt=Qn(Te,_e,Re,Ge);return Bh=null,bt}catch(Lt){if(Lt===$||Lt===J)throw Lt;var ln=_r(29,Lt,null,Te.mode);return ln.lanes=Ge,ln.return=Te,ln}finally{}}}var Vh=xb(!0),Lb=xb(!1),Ta=ve(null),Ko=null;function Cu(a){var l=a.alternate;H(ur,ur.current&1),H(Ta,a),Ko===null&&(l===null||Jt.current!==null||l.memoizedState!==null)&&(Ko=a)}function Tb(a){if(a.tag===22){if(H(ur,ur.current),H(Ta,a),Ko===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Ko=a)}}else Iu()}function Iu(){H(ur,ur.current),H(Ta,Ta.current)}function Ul(a){F(Ta),Ko===a&&(Ko=null),F(ur)}var ur=ve(0);function cg(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||X0(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function o0(a,l,h,d){l=a.memoizedState,h=h(d,l),h=h==null?l:p({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var l0={enqueueSetState:function(a,l,h){a=a._reactInternals;var d=ta(),y=Ue(d);y.payload=l,h!=null&&(y.callback=h),l=$e(a,y,d),l!==null&&(na(l,a,d),He(l,a,d))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var d=ta(),y=Ue(d);y.tag=1,y.payload=l,h!=null&&(y.callback=h),l=$e(a,y,d),l!==null&&(na(l,a,d),He(l,a,d))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=ta(),d=Ue(h);d.tag=2,l!=null&&(d.callback=l),l=$e(a,d,h),l!==null&&(na(l,a,h),He(l,a,h))}};function Cb(a,l,h,d,y,S,U){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,S,U):l.prototype&&l.prototype.isPureReactComponent?!ko(h,d)||!ko(y,S):!0}function Ib(a,l,h,d){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,d),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,d),l.state!==a&&l0.enqueueReplaceState(l,l.state,null)}function Gc(a,l){var h=l;if("ref"in l){h={};for(var d in l)d!=="ref"&&(h[d]=l[d])}if(a=a.defaultProps){h===l&&(h=p({},h));for(var y in a)h[y]===void 0&&(h[y]=a[y])}return h}var hg=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Rb(a){hg(a)}function kb(a){console.error(a)}function Nb(a){hg(a)}function fg(a,l){try{var h=a.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(d){setTimeout(function(){throw d})}}function Pb(a,l,h){try{var d=a.onCaughtError;d(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function u0(a,l,h){return h=Ue(h),h.tag=3,h.payload={element:null},h.callback=function(){fg(a,l)},h}function Mb(a){return a=Ue(a),a.tag=3,a}function Ob(a,l,h,d){var y=h.type.getDerivedStateFromError;if(typeof y=="function"){var S=d.value;a.payload=function(){return y(S)},a.callback=function(){Pb(l,h,d)}}var U=h.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(a.callback=function(){Pb(l,h,d),typeof y!="function"&&(Ou===null?Ou=new Set([this]):Ou.add(this));var te=d.stack;this.componentDidCatch(d.value,{componentStack:te!==null?te:""})})}function m3(a,l,h,d,y){if(h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(l=h.alternate,l!==null&&Su(l,h,y,!0),h=Ta.current,h!==null){switch(h.tag){case 13:return Ko===null?P0():h.alternate===null&&Mi===0&&(Mi=3),h.flags&=-257,h.flags|=65536,h.lanes=y,d===ne?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([d]):l.add(d),O0(a,d,y)),!1;case 22:return h.flags|=65536,d===ne?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([d])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([d]):h.add(d)),O0(a,d,y)),!1}throw Error(i(435,h.tag))}return O0(a,d,y),P0(),!1}if(En)return l=Ta.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,d!==$f&&(a=Error(i(422),{cause:d}),wu(nn(a,h)))):(d!==$f&&(l=Error(i(423),{cause:d}),wu(nn(l,h))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=nn(d,h),y=u0(a.stateNode,d,y),ft(a,y),Mi!==4&&(Mi=2)),!1;var S=Error(i(520),{cause:d});if(S=nn(S,h),md===null?md=[S]:md.push(S),Mi!==4&&(Mi=2),l===null)return!0;d=nn(d,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,a=y&-y,h.lanes|=a,a=u0(h.stateNode,d,a),ft(h,a),!1;case 1:if(l=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ou===null||!Ou.has(S))))return h.flags|=65536,y&=-y,h.lanes|=y,y=Mb(y),Ob(y,a,h,d),ft(h,y),!1}h=h.return}while(h!==null);return!1}var Db=Error(i(461)),wr=!1;function Nr(a,l,h,d){l.child=a===null?Lb(l,null,h,d):Vh(l,a.child,h,d)}function jb(a,l,h,d,y){h=h.render;var S=l.ref;if("ref"in d){var U={};for(var te in d)te!=="ref"&&(U[te]=d[te])}else U=d;return xa(l),d=Xs(a,l,h,U,S,y),te=ii(),a!==null&&!wr?(Oc(a,l,y),zl(a,l,y)):(En&&te&&kc(l),l.flags|=1,Nr(a,l,d,y),l.child)}function Bb(a,l,h,d,y){if(a===null){var S=h.type;return typeof S=="function"&&!bu(S)&&S.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=S,Vb(a,l,S,d,y)):(a=Nl(h.type,null,d,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(S=a.child,!v0(a,y)){var U=S.memoizedProps;if(h=h.compare,h=h!==null?h:ko,h(U,d)&&a.ref===l.ref)return zl(a,l,y)}return l.flags|=1,a=wa(S,d),a.ref=l.ref,a.return=l,l.child=a}function Vb(a,l,h,d,y){if(a!==null){var S=a.memoizedProps;if(ko(S,d)&&a.ref===l.ref)if(wr=!1,l.pendingProps=d=S,v0(a,y))(a.flags&131072)!==0&&(wr=!0);else return l.lanes=a.lanes,zl(a,l,y)}return c0(a,l,h,d,y)}function Fb(a,l,h){var d=l.pendingProps,y=d.children,S=a!==null?a.memoizedState:null;if(d.mode==="hidden"){if((l.flags&128)!==0){if(d=S!==null?S.baseLanes|h:h,a!==null){for(y=l.child=a.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;l.childLanes=S&~d}else l.childLanes=0,l.child=null;return Ub(a,l,d,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&P(l,S!==null?S.cachePool:null),S!==null?jn(l,S):In(),Tb(l);else return l.lanes=l.childLanes=536870912,Ub(a,l,S!==null?S.baseLanes|h:h,h)}else S!==null?(P(l,S.cachePool),jn(l,S),Iu(),l.memoizedState=null):(a!==null&&P(l,null),In(),Iu());return Nr(a,l,y,h),l.child}function Ub(a,l,h,d){var y=x();return y=y===null?null:{parent:zi._currentValue,pool:y},l.memoizedState={baseLanes:h,cachePool:y},a!==null&&P(l,null),In(),Tb(l),a!==null&&Su(a,l,d,!0),null}function dg(a,l){var h=l.ref;if(h===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(a===null||a.ref!==h)&&(l.flags|=4194816)}}function c0(a,l,h,d,y){return xa(l),h=Xs(a,l,h,d,void 0,y),d=ii(),a!==null&&!wr?(Oc(a,l,y),zl(a,l,y)):(En&&d&&kc(l),l.flags|=1,Nr(a,l,h,y),l.child)}function zb(a,l,h,d,y,S){return xa(l),l.updateQueue=null,h=jl(l,d,h,y),Ho(a),d=ii(),a!==null&&!wr?(Oc(a,l,S),zl(a,l,S)):(En&&d&&kc(l),l.flags|=1,Nr(a,l,h,S),l.child)}function qb(a,l,h,d,y){if(xa(l),l.stateNode===null){var S=Ji,U=h.contextType;typeof U=="object"&&U!==null&&(S=Ui(U)),S=new h(d,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=l0,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=d,S.state=l.memoizedState,S.refs={},be(l),U=h.contextType,S.context=typeof U=="object"&&U!==null?Ui(U):Ji,S.state=l.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(o0(l,h,U,d),S.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(U=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),U!==S.state&&l0.enqueueReplaceState(S,S.state,null),lt(l,d,S,y),xt(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),d=!0}else if(a===null){S=l.stateNode;var te=l.memoizedProps,de=Gc(h,te);S.props=de;var Me=S.context,ze=h.contextType;U=Ji,typeof ze=="object"&&ze!==null&&(U=Ui(ze));var Ye=h.getDerivedStateFromProps;ze=typeof Ye=="function"||typeof S.getSnapshotBeforeUpdate=="function",te=l.pendingProps!==te,ze||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(te||Me!==U)&&Ib(l,S,d,U),Be=!1;var Oe=l.memoizedState;S.state=Oe,lt(l,d,S,y),xt(),Me=l.memoizedState,te||Oe!==Me||Be?(typeof Ye=="function"&&(o0(l,h,Ye,d),Me=l.memoizedState),(de=Be||Cb(l,h,de,d,Oe,Me,U))?(ze||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=d,l.memoizedState=Me),S.props=d,S.state=Me,S.context=U,d=de):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),d=!1)}else{S=l.stateNode,Ee(a,l),U=l.memoizedProps,ze=Gc(h,U),S.props=ze,Ye=l.pendingProps,Oe=S.context,Me=h.contextType,de=Ji,typeof Me=="object"&&Me!==null&&(de=Ui(Me)),te=h.getDerivedStateFromProps,(Me=typeof te=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(U!==Ye||Oe!==de)&&Ib(l,S,d,de),Be=!1,Oe=l.memoizedState,S.state=Oe,lt(l,d,S,y),xt();var De=l.memoizedState;U!==Ye||Oe!==De||Be||a!==null&&a.dependencies!==null&&Rh(a.dependencies)?(typeof te=="function"&&(o0(l,h,te,d),De=l.memoizedState),(ze=Be||Cb(l,h,ze,d,Oe,De,de)||a!==null&&a.dependencies!==null&&Rh(a.dependencies))?(Me||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,De,de),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,De,de)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||U===a.memoizedProps&&Oe===a.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&Oe===a.memoizedState||(l.flags|=1024),l.memoizedProps=d,l.memoizedState=De),S.props=d,S.state=De,S.context=de,d=ze):(typeof S.componentDidUpdate!="function"||U===a.memoizedProps&&Oe===a.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&Oe===a.memoizedState||(l.flags|=1024),d=!1)}return S=d,dg(a,l),d=(l.flags&128)!==0,S||d?(S=l.stateNode,h=d&&typeof h.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,a!==null&&d?(l.child=Vh(l,a.child,null,y),l.child=Vh(l,null,h,y)):Nr(a,l,h,y),l.memoizedState=S.state,a=l.child):a=zl(a,l,y),a}function Hb(a,l,h,d){return ps(),l.flags|=256,Nr(a,l,h,d),l.child}var h0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function f0(a){return{baseLanes:a,cachePool:z()}}function d0(a,l,h){return a=a!==null?a.childLanes&~h:0,l&&(a|=Ca),a}function Gb(a,l,h){var d=l.pendingProps,y=!1,S=(l.flags&128)!==0,U;if((U=S)||(U=a!==null&&a.memoizedState===null?!1:(ur.current&2)!==0),U&&(y=!0,l.flags&=-129),U=(l.flags&32)!==0,l.flags&=-33,a===null){if(En){if(y?Cu(l):Iu(),En){var te=pi,de;if(de=te){e:{for(de=te,te=Sa;de.nodeType!==8;){if(!te){te=null;break e}if(de=oo(de.nextSibling),de===null){te=null;break e}}te=de}te!==null?(l.memoizedState={dehydrated:te,treeContext:Pl!==null?{id:Qa,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},de=_r(18,null,null,0),de.stateNode=te,de.return=l,l.child=de,Fi=l,pi=null,de=!0):de=!1}de||Ol(l)}if(te=l.memoizedState,te!==null&&(te=te.dehydrated,te!==null))return X0(te)?l.lanes=32:l.lanes=536870912,null;Ul(l)}return te=d.children,d=d.fallback,y?(Iu(),y=l.mode,te=pg({mode:"hidden",children:te},y),d=Ya(d,y,h,null),te.return=l,d.return=l,te.sibling=d,l.child=te,y=l.child,y.memoizedState=f0(h),y.childLanes=d0(a,U,h),l.memoizedState=h0,d):(Cu(l),p0(l,te))}if(de=a.memoizedState,de!==null&&(te=de.dehydrated,te!==null)){if(S)l.flags&256?(Cu(l),l.flags&=-257,l=g0(a,l,h)):l.memoizedState!==null?(Iu(),l.child=a.child,l.flags|=128,l=null):(Iu(),y=d.fallback,te=l.mode,d=pg({mode:"visible",children:d.children},te),y=Ya(y,te,h,null),y.flags|=2,d.return=l,y.return=l,d.sibling=y,l.child=d,Vh(l,a.child,null,h),d=l.child,d.memoizedState=f0(h),d.childLanes=d0(a,U,h),l.memoizedState=h0,l=y);else if(Cu(l),X0(te)){if(U=te.nextSibling&&te.nextSibling.dataset,U)var Me=U.dgst;U=Me,d=Error(i(419)),d.stack="",d.digest=U,wu({value:d,source:null,stack:null}),l=g0(a,l,h)}else if(wr||Su(a,l,h,!1),U=(h&a.childLanes)!==0,wr||U){if(U=ri,U!==null&&(d=h&-h,d=(d&42)!==0?1:rr(d),d=(d&(U.suspendedLanes|h))!==0?0:d,d!==0&&d!==de.retryLane))throw de.retryLane=d,Ka(a,d),na(U,a,d),Db;te.data==="$?"||P0(),l=g0(a,l,h)}else te.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=de.treeContext,pi=oo(te.nextSibling),Fi=l,En=!0,Uo=null,Sa=!1,a!==null&&(Ts[ds++]=Qa,Ts[ds++]=Za,Ts[ds++]=Pl,Qa=a.id,Za=a.overflow,Pl=l),l=p0(l,d.children),l.flags|=4096);return l}return y?(Iu(),y=d.fallback,te=l.mode,de=a.child,Me=de.sibling,d=wa(de,{mode:"hidden",children:d.children}),d.subtreeFlags=de.subtreeFlags&65011712,Me!==null?y=wa(Me,y):(y=Ya(y,te,h,null),y.flags|=2),y.return=l,d.return=l,d.sibling=y,l.child=d,d=y,y=l.child,te=a.child.memoizedState,te===null?te=f0(h):(de=te.cachePool,de!==null?(Me=zi._currentValue,de=de.parent!==Me?{parent:Me,pool:Me}:de):de=z(),te={baseLanes:te.baseLanes|h,cachePool:de}),y.memoizedState=te,y.childLanes=d0(a,U,h),l.memoizedState=h0,d):(Cu(l),h=a.child,a=h.sibling,h=wa(h,{mode:"visible",children:d.children}),h.return=l,h.sibling=null,a!==null&&(U=l.deletions,U===null?(l.deletions=[a],l.flags|=16):U.push(a)),l.child=h,l.memoizedState=null,h)}function p0(a,l){return l=pg({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function pg(a,l){return a=_r(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function g0(a,l,h){return Vh(l,a.child,null,h),a=p0(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Wb(a,l,h){a.lanes|=l;var d=a.alternate;d!==null&&(d.lanes|=l),Ch(a.return,l,h)}function m0(a,l,h,d,y){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:d,tail:h,tailMode:y}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=h,S.tailMode=y)}function $b(a,l,h){var d=l.pendingProps,y=d.revealOrder,S=d.tail;if(Nr(a,l,d.children,h),d=ur.current,(d&2)!==0)d=d&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Wb(a,h,l);else if(a.tag===19)Wb(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}d&=1}switch(H(ur,d),y){case"forwards":for(h=l.child,y=null;h!==null;)a=h.alternate,a!==null&&cg(a)===null&&(y=h),h=h.sibling;h=y,h===null?(y=l.child,l.child=null):(y=h.sibling,h.sibling=null),m0(l,!1,y,h,S);break;case"backwards":for(h=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&cg(a)===null){l.child=y;break}a=y.sibling,y.sibling=h,h=y,y=a}m0(l,!0,h,null,S);break;case"together":m0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function zl(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),Mu|=l.lanes,(h&l.childLanes)===0)if(a!==null){if(Su(a,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,h=wa(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=wa(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function v0(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Rh(a)))}function v3(a,l,h){switch(l.tag){case 3:me(l,l.stateNode.containerInfo),zo(l,zi,a.memoizedState.cache),ps();break;case 27:case 5:je(l);break;case 4:me(l,l.stateNode.containerInfo);break;case 10:zo(l,l.type,l.memoizedProps.value);break;case 13:var d=l.memoizedState;if(d!==null)return d.dehydrated!==null?(Cu(l),l.flags|=128,null):(h&l.child.childLanes)!==0?Gb(a,l,h):(Cu(l),a=zl(a,l,h),a!==null?a.sibling:null);Cu(l);break;case 19:var y=(a.flags&128)!==0;if(d=(h&l.childLanes)!==0,d||(Su(a,l,h,!1),d=(h&l.childLanes)!==0),y){if(d)return $b(a,l,h);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),H(ur,ur.current),d)break;return null;case 22:case 23:return l.lanes=0,Fb(a,l,h);case 24:zo(l,zi,a.memoizedState.cache)}return zl(a,l,h)}function Kb(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps)wr=!0;else{if(!v0(a,h)&&(l.flags&128)===0)return wr=!1,v3(a,l,h);wr=(a.flags&131072)!==0}else wr=!1,En&&(l.flags&1048576)!==0&&Hp(l,Th,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var d=l.elementType,y=d._init;if(d=y(d._payload),l.type=d,typeof d=="function")bu(d)?(a=Gc(d,a),l.tag=1,l=qb(null,l,d,a,h)):(l.tag=0,l=c0(null,l,d,a,h));else{if(d!=null){if(y=d.$$typeof,y===Z){l.tag=11,l=jb(null,l,d,a,h);break e}else if(y===B){l.tag=14,l=Bb(null,l,d,a,h);break e}}throw l=oe(d)||d,Error(i(306,l,""))}}return l;case 0:return c0(a,l,l.type,l.pendingProps,h);case 1:return d=l.type,y=Gc(d,l.pendingProps),qb(a,l,d,y,h);case 3:e:{if(me(l,l.stateNode.containerInfo),a===null)throw Error(i(387));d=l.pendingProps;var S=l.memoizedState;y=S.element,Ee(a,l),lt(l,d,null,h);var U=l.memoizedState;if(d=U.cache,zo(l,zi,d),d!==S.cache&&Ih(l,[zi],h,!0),xt(),d=U.element,S.isDehydrated)if(S={element:d,isDehydrated:!1,cache:U.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=Hb(a,l,d,h);break e}else if(d!==y){y=nn(Error(i(424)),l),wu(y),l=Hb(a,l,d,h);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(pi=oo(a.firstChild),Fi=l,En=!0,Uo=null,Sa=!0,h=Lb(l,null,d,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(ps(),d===y){l=zl(a,l,h);break e}Nr(a,l,d,h)}l=l.child}return l;case 26:return dg(a,l),a===null?(h=Z5(l.type,null,l.pendingProps,null))?l.memoizedState=h:En||(h=l.type,a=l.pendingProps,d=Cg(ue.current).createElement(h),d[ht]=l,d[On]=a,Mr(d,h,a),xn(d),l.stateNode=d):l.memoizedState=Z5(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return je(l),a===null&&En&&(d=l.stateNode=Y5(l.type,l.pendingProps,ue.current),Fi=l,Sa=!0,y=pi,Bu(l.type)?(Q0=y,pi=oo(d.firstChild)):pi=y),Nr(a,l,l.pendingProps.children,h),dg(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&En&&((y=d=pi)&&(d=G3(d,l.type,l.pendingProps,Sa),d!==null?(l.stateNode=d,Fi=l,pi=oo(d.firstChild),Sa=!1,y=!0):y=!1),y||Ol(l)),je(l),y=l.type,S=l.pendingProps,U=a!==null?a.memoizedProps:null,d=S.children,$0(y,S)?d=null:U!==null&&$0(y,U)&&(l.flags|=32),l.memoizedState!==null&&(y=Xs(a,l,Go,null,null,h),xd._currentValue=y),dg(a,l),Nr(a,l,d,h),l.child;case 6:return a===null&&En&&((a=h=pi)&&(h=W3(h,l.pendingProps,Sa),h!==null?(l.stateNode=h,Fi=l,pi=null,a=!0):a=!1),a||Ol(l)),null;case 13:return Gb(a,l,h);case 4:return me(l,l.stateNode.containerInfo),d=l.pendingProps,a===null?l.child=Vh(l,null,d,h):Nr(a,l,d,h),l.child;case 11:return jb(a,l,l.type,l.pendingProps,h);case 7:return Nr(a,l,l.pendingProps,h),l.child;case 8:return Nr(a,l,l.pendingProps.children,h),l.child;case 12:return Nr(a,l,l.pendingProps.children,h),l.child;case 10:return d=l.pendingProps,zo(l,l.type,d.value),Nr(a,l,d.children,h),l.child;case 9:return y=l.type._context,d=l.pendingProps.children,xa(l),y=Ui(y),d=d(y),l.flags|=1,Nr(a,l,d,h),l.child;case 14:return Bb(a,l,l.type,l.pendingProps,h);case 15:return Vb(a,l,l.type,l.pendingProps,h);case 19:return $b(a,l,h);case 31:return d=l.pendingProps,h=l.mode,d={mode:d.mode,children:d.children},a===null?(h=pg(d,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=wa(a.child,d),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return Fb(a,l,h);case 24:return xa(l),d=Ui(zi),a===null?(y=x(),y===null&&(y=ri,S=Kf(),y.pooledCache=S,S.refCount++,S!==null&&(y.pooledCacheLanes|=h),y=S),l.memoizedState={parent:d,cache:y},be(l),zo(l,zi,y)):((a.lanes&h)!==0&&(Ee(a,l),lt(l,null,null,h),xt()),y=a.memoizedState,S=l.memoizedState,y.parent!==d?(y={parent:d,cache:d},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),zo(l,zi,d)):(d=S.cache,zo(l,zi,d),d!==y.cache&&Ih(l,[zi],h,!0))),Nr(a,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function ql(a){a.flags|=4}function Yb(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!i_(l)){if(l=Ta.current,l!==null&&((_n&4194048)===_n?Ko!==null:(_n&62914560)!==_n&&(_n&536870912)===0||l!==Ko))throw Ie=ne,Y;a.flags|=8192}}function gg(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Mn():536870912,a.lanes|=l,qh|=l)}function cd(a,l){if(!En)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var d=null;h!==null;)h.alternate!==null&&(d=h),h=h.sibling;d===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function wi(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,d=0;if(l)for(var y=a.child;y!==null;)h|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)h|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=h,l}function y3(a,l,h){var d=l.pendingProps;switch(Nc(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wi(l),null;case 1:return wi(l),null;case 3:return h=l.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Aa(zi),Ce(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Rr(l)?ql(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Wp())),wi(l),null;case 26:return h=l.memoizedState,a===null?(ql(l),h!==null?(wi(l),Yb(l,h)):(wi(l),l.flags&=-16777217)):h?h!==a.memoizedState?(ql(l),wi(l),Yb(l,h)):(wi(l),l.flags&=-16777217):(a.memoizedProps!==d&&ql(l),wi(l),l.flags&=-16777217),null;case 27:Ve(l),h=ue.current;var y=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==d&&ql(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return wi(l),null}a=ie.current,Rr(l)?Gp(l):(a=Y5(y,d,h),l.stateNode=a,ql(l))}return wi(l),null;case 5:if(Ve(l),h=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==d&&ql(l);else{if(!d){if(l.stateNode===null)throw Error(i(166));return wi(l),null}if(a=ie.current,Rr(l))Gp(l);else{switch(y=Cg(ue.current),a){case 1:a=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?a.multiple=!0:d.size&&(a.size=d.size);break;default:a=typeof d.is=="string"?y.createElement(h,{is:d.is}):y.createElement(h)}}a[ht]=l,a[On]=d;e:for(y=l.child;y!==null;){if(y.tag===5||y.tag===6)a.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===l)break e;for(;y.sibling===null;){if(y.return===null||y.return===l)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}l.stateNode=a;e:switch(Mr(a,h,d),h){case"button":case"input":case"select":case"textarea":a=!!d.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ql(l)}}return wi(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==d&&ql(l);else{if(typeof d!="string"&&l.stateNode===null)throw Error(i(166));if(a=ue.current,Rr(l)){if(a=l.stateNode,h=l.memoizedProps,d=null,y=Fi,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[ht]=l,a=!!(a.nodeValue===h||d!==null&&d.suppressHydrationWarning===!0||z5(a.nodeValue,h)),a||Ol(l)}else a=Cg(a).createTextNode(d),a[ht]=l,l.stateNode=a}return wi(l),null;case 13:if(d=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Rr(l),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(i(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[ht]=l}else ps(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;wi(l),y=!1}else y=Wp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(Ul(l),l):(Ul(l),null)}if(Ul(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=d!==null,a=a!==null&&a.memoizedState!==null,h){d=l.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var S=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(S=d.memoizedState.cachePool.pool),S!==y&&(d.flags|=2048)}return h!==a&&h&&(l.child.flags|=8192),gg(l,l.updateQueue),wi(l),null;case 4:return Ce(),a===null&&z0(l.stateNode.containerInfo),wi(l),null;case 10:return Aa(l.type),wi(l),null;case 19:if(F(ur),y=l.memoizedState,y===null)return wi(l),null;if(d=(l.flags&128)!==0,S=y.rendering,S===null)if(d)cd(y,!1);else{if(Mi!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(S=cg(a),S!==null){for(l.flags|=128,cd(y,!1),a=S.updateQueue,l.updateQueue=a,gg(l,a),l.subtreeFlags=0,a=h,h=l.child;h!==null;)Ic(h,a),h=h.sibling;return H(ur,ur.current&1|2),l.child}a=a.sibling}y.tail!==null&&Et()>yg&&(l.flags|=128,d=!0,cd(y,!1),l.lanes=4194304)}else{if(!d)if(a=cg(S),a!==null){if(l.flags|=128,d=!0,a=a.updateQueue,l.updateQueue=a,gg(l,a),cd(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!En)return wi(l),null}else 2*Et()-y.renderingStartTime>yg&&h!==536870912&&(l.flags|=128,d=!0,cd(y,!1),l.lanes=4194304);y.isBackwards?(S.sibling=l.child,l.child=S):(a=y.last,a!==null?a.sibling=S:l.child=S,y.last=S)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Et(),l.sibling=null,a=ur.current,H(ur,d?a&1|2:a&1),l):(wi(l),null);case 22:case 23:return Ul(l),zt(),d=l.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(l.flags|=8192):d&&(l.flags|=8192),d?(h&536870912)!==0&&(l.flags&128)===0&&(wi(l),l.subtreeFlags&6&&(l.flags|=8192)):wi(l),h=l.updateQueue,h!==null&&gg(l,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048),a!==null&&F(_),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Aa(zi),wi(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function b3(a,l){switch(Nc(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Aa(zi),Ce(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ve(l),null;case 13:if(Ul(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));ps()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return F(ur),null;case 4:return Ce(),null;case 10:return Aa(l.type),null;case 22:case 23:return Ul(l),zt(),a!==null&&F(_),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Aa(zi),null;case 25:return null;default:return null}}function Xb(a,l){switch(Nc(l),l.tag){case 3:Aa(zi),Ce();break;case 26:case 27:case 5:Ve(l);break;case 4:Ce();break;case 13:Ul(l);break;case 19:F(ur);break;case 10:Aa(l.type);break;case 22:case 23:Ul(l),zt(),a!==null&&F(_);break;case 24:Aa(zi)}}function hd(a,l){try{var h=l.updateQueue,d=h!==null?h.lastEffect:null;if(d!==null){var y=d.next;h=y;do{if((h.tag&a)===a){d=void 0;var S=h.create,U=h.inst;d=S(),U.destroy=d}h=h.next}while(h!==y)}}catch(te){ei(l,l.return,te)}}function Ru(a,l,h){try{var d=l.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var S=y.next;d=S;do{if((d.tag&a)===a){var U=d.inst,te=U.destroy;if(te!==void 0){U.destroy=void 0,y=l;var de=h,Me=te;try{Me()}catch(ze){ei(y,de,ze)}}}d=d.next}while(d!==S)}}catch(ze){ei(l,l.return,ze)}}function Qb(a){var l=a.updateQueue;if(l!==null){var h=a.stateNode;try{Cn(l,h)}catch(d){ei(a,a.return,d)}}}function Zb(a,l,h){h.props=Gc(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(d){ei(a,l,d)}}function fd(a,l){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof h=="function"?a.refCleanup=h(d):h.current=d}}catch(y){ei(a,l,y)}}function Yo(a,l){var h=a.ref,d=a.refCleanup;if(h!==null)if(typeof d=="function")try{d()}catch(y){ei(a,l,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(y){ei(a,l,y)}else h.current=null}function Jb(a){var l=a.type,h=a.memoizedProps,d=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&d.focus();break e;case"img":h.src?d.src=h.src:h.srcSet&&(d.srcset=h.srcSet)}}catch(y){ei(a,a.return,y)}}function y0(a,l,h){try{var d=a.stateNode;F3(d,a.type,h,l),d[On]=l}catch(y){ei(a,a.return,y)}}function e5(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Bu(a.type)||a.tag===4}function b0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||e5(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Bu(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function _0(a,l,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(a),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Tg));else if(d!==4&&(d===27&&Bu(a.type)&&(h=a.stateNode,l=null),a=a.child,a!==null))for(_0(a,l,h),a=a.sibling;a!==null;)_0(a,l,h),a=a.sibling}function mg(a,l,h){var d=a.tag;if(d===5||d===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(d!==4&&(d===27&&Bu(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(mg(a,l,h),a=a.sibling;a!==null;)mg(a,l,h),a=a.sibling}function t5(a){var l=a.stateNode,h=a.memoizedProps;try{for(var d=a.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);Mr(l,d,h),l[ht]=a,l[On]=h}catch(S){ei(a,a.return,S)}}var Hl=!1,Hi=!1,w0=!1,n5=typeof WeakSet=="function"?WeakSet:Set,Sr=null;function _3(a,l){if(a=a.containerInfo,G0=Mg,a=Ir(a),lr(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var d=h.getSelection&&h.getSelection();if(d&&d.rangeCount!==0){h=d.anchorNode;var y=d.anchorOffset,S=d.focusNode;d=d.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var U=0,te=-1,de=-1,Me=0,ze=0,Ye=a,Oe=null;t:for(;;){for(var De;Ye!==h||y!==0&&Ye.nodeType!==3||(te=U+y),Ye!==S||d!==0&&Ye.nodeType!==3||(de=U+d),Ye.nodeType===3&&(U+=Ye.nodeValue.length),(De=Ye.firstChild)!==null;)Oe=Ye,Ye=De;for(;;){if(Ye===a)break t;if(Oe===h&&++Me===y&&(te=U),Oe===S&&++ze===d&&(de=U),(De=Ye.nextSibling)!==null)break;Ye=Oe,Oe=Ye.parentNode}Ye=De}h=te===-1||de===-1?null:{start:te,end:de}}else h=null}h=h||{start:0,end:0}}else h=null;for(W0={focusedElem:a,selectionRange:h},Mg=!1,Sr=l;Sr!==null;)if(l=Sr,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Sr=a;else for(;Sr!==null;){switch(l=Sr,S=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,h=l,y=S.memoizedProps,S=S.memoizedState,d=h.stateNode;try{var Vt=Gc(h.type,y,h.elementType===h.type);a=d.getSnapshotBeforeUpdate(Vt,S),d.__reactInternalSnapshotBeforeUpdate=a}catch(Nt){ei(h,h.return,Nt)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,h=a.nodeType,h===9)Y0(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Y0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,Sr=a;break}Sr=l.return}}function i5(a,l,h){var d=h.flags;switch(h.tag){case 0:case 11:case 15:ku(a,h),d&4&&hd(5,h);break;case 1:if(ku(a,h),d&4)if(a=h.stateNode,l===null)try{a.componentDidMount()}catch(U){ei(h,h.return,U)}else{var y=Gc(h.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(y,l,a.__reactInternalSnapshotBeforeUpdate)}catch(U){ei(h,h.return,U)}}d&64&&Qb(h),d&512&&fd(h,h.return);break;case 3:if(ku(a,h),d&64&&(a=h.updateQueue,a!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{Cn(a,l)}catch(U){ei(h,h.return,U)}}break;case 27:l===null&&d&4&&t5(h);case 26:case 5:ku(a,h),l===null&&d&4&&Jb(h),d&512&&fd(h,h.return);break;case 12:ku(a,h);break;case 13:ku(a,h),d&4&&a5(a,h),d&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=I3.bind(null,h),$3(a,h))));break;case 22:if(d=h.memoizedState!==null||Hl,!d){l=l!==null&&l.memoizedState!==null||Hi,y=Hl;var S=Hi;Hl=d,(Hi=l)&&!S?Nu(a,h,(h.subtreeFlags&8772)!==0):ku(a,h),Hl=y,Hi=S}break;case 30:break;default:ku(a,h)}}function r5(a){var l=a.alternate;l!==null&&(a.alternate=null,r5(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Xi(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var gi=null,Is=!1;function Gl(a,l,h){for(h=h.child;h!==null;)s5(a,l,h),h=h.sibling}function s5(a,l,h){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(yt,h)}catch{}switch(h.tag){case 26:Hi||Yo(h,l),Gl(a,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Hi||Yo(h,l);var d=gi,y=Is;Bu(h.type)&&(gi=h.stateNode,Is=!1),Gl(a,l,h),wd(h.stateNode),gi=d,Is=y;break;case 5:Hi||Yo(h,l);case 6:if(d=gi,y=Is,gi=null,Gl(a,l,h),gi=d,Is=y,gi!==null)if(Is)try{(gi.nodeType===9?gi.body:gi.nodeName==="HTML"?gi.ownerDocument.body:gi).removeChild(h.stateNode)}catch(S){ei(h,l,S)}else try{gi.removeChild(h.stateNode)}catch(S){ei(h,l,S)}break;case 18:gi!==null&&(Is?(a=gi,$5(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Id(a)):$5(gi,h.stateNode));break;case 4:d=gi,y=Is,gi=h.stateNode.containerInfo,Is=!0,Gl(a,l,h),gi=d,Is=y;break;case 0:case 11:case 14:case 15:Hi||Ru(2,h,l),Hi||Ru(4,h,l),Gl(a,l,h);break;case 1:Hi||(Yo(h,l),d=h.stateNode,typeof d.componentWillUnmount=="function"&&Zb(h,l,d)),Gl(a,l,h);break;case 21:Gl(a,l,h);break;case 22:Hi=(d=Hi)||h.memoizedState!==null,Gl(a,l,h),Hi=d;break;default:Gl(a,l,h)}}function a5(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Id(a)}catch(h){ei(l,l.return,h)}}function w3(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new n5),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new n5),l;default:throw Error(i(435,a.tag))}}function S0(a,l){var h=w3(a);l.forEach(function(d){var y=R3.bind(null,a,d);h.has(d)||(h.add(d),d.then(y,y))})}function Zs(a,l){var h=l.deletions;if(h!==null)for(var d=0;d<h.length;d++){var y=h[d],S=a,U=l,te=U;e:for(;te!==null;){switch(te.tag){case 27:if(Bu(te.type)){gi=te.stateNode,Is=!1;break e}break;case 5:gi=te.stateNode,Is=!1;break e;case 3:case 4:gi=te.stateNode.containerInfo,Is=!0;break e}te=te.return}if(gi===null)throw Error(i(160));s5(S,U,y),gi=null,Is=!1,S=y.alternate,S!==null&&(S.return=null),y.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)o5(l,a),l=l.sibling}var ao=null;function o5(a,l){var h=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Zs(l,a),Js(a),d&4&&(Ru(3,a,a.return),hd(3,a),Ru(5,a,a.return));break;case 1:Zs(l,a),Js(a),d&512&&(Hi||h===null||Yo(h,h.return)),d&64&&Hl&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?d:h.concat(d))));break;case 26:var y=ao;if(Zs(l,a),Js(a),d&512&&(Hi||h===null||Yo(h,h.return)),d&4){var S=h!==null?h.memoizedState:null;if(d=a.memoizedState,h===null)if(d===null)if(a.stateNode===null){e:{d=a.type,h=a.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":S=y.getElementsByTagName("title")[0],(!S||S[Tr]||S[ht]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=y.createElement(d),y.head.insertBefore(S,y.querySelector("head > title"))),Mr(S,d,h),S[ht]=a,xn(S),d=S;break e;case"link":var U=t_("link","href",y).get(d+(h.href||""));if(U){for(var te=0;te<U.length;te++)if(S=U[te],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){U.splice(te,1);break t}}S=y.createElement(d),Mr(S,d,h),y.head.appendChild(S);break;case"meta":if(U=t_("meta","content",y).get(d+(h.content||""))){for(te=0;te<U.length;te++)if(S=U[te],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){U.splice(te,1);break t}}S=y.createElement(d),Mr(S,d,h),y.head.appendChild(S);break;default:throw Error(i(468,d))}S[ht]=a,xn(S),d=S}a.stateNode=d}else n_(y,a.type,a.stateNode);else a.stateNode=e_(y,d,a.memoizedProps);else S!==d?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,d===null?n_(y,a.type,a.stateNode):e_(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&y0(a,a.memoizedProps,h.memoizedProps)}break;case 27:Zs(l,a),Js(a),d&512&&(Hi||h===null||Yo(h,h.return)),h!==null&&d&4&&y0(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Zs(l,a),Js(a),d&512&&(Hi||h===null||Yo(h,h.return)),a.flags&32){y=a.stateNode;try{Fr(y,"")}catch(De){ei(a,a.return,De)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,y0(a,y,h!==null?h.memoizedProps:y)),d&1024&&(w0=!0);break;case 6:if(Zs(l,a),Js(a),d&4){if(a.stateNode===null)throw Error(i(162));d=a.memoizedProps,h=a.stateNode;try{h.nodeValue=d}catch(De){ei(a,a.return,De)}}break;case 3:if(kg=null,y=ao,ao=Ig(l.containerInfo),Zs(l,a),ao=y,Js(a),d&4&&h!==null&&h.memoizedState.isDehydrated)try{Id(l.containerInfo)}catch(De){ei(a,a.return,De)}w0&&(w0=!1,l5(a));break;case 4:d=ao,ao=Ig(a.stateNode.containerInfo),Zs(l,a),Js(a),ao=d;break;case 12:Zs(l,a),Js(a);break;case 13:Zs(l,a),Js(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(C0=Et()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,S0(a,d)));break;case 22:y=a.memoizedState!==null;var de=h!==null&&h.memoizedState!==null,Me=Hl,ze=Hi;if(Hl=Me||y,Hi=ze||de,Zs(l,a),Hi=ze,Hl=Me,Js(a),d&8192)e:for(l=a.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(h===null||de||Hl||Hi||Wc(a)),h=null,l=a;;){if(l.tag===5||l.tag===26){if(h===null){de=h=l;try{if(S=de.stateNode,y)U=S.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{te=de.stateNode;var Ye=de.memoizedProps.style,Oe=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;te.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(De){ei(de,de.return,De)}}}else if(l.tag===6){if(h===null){de=l;try{de.stateNode.nodeValue=y?"":de.memoizedProps}catch(De){ei(de,de.return,De)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}d&4&&(d=a.updateQueue,d!==null&&(h=d.retryQueue,h!==null&&(d.retryQueue=null,S0(a,h))));break;case 19:Zs(l,a),Js(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,S0(a,d)));break;case 30:break;case 21:break;default:Zs(l,a),Js(a)}}function Js(a){var l=a.flags;if(l&2){try{for(var h,d=a.return;d!==null;){if(e5(d)){h=d;break}d=d.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var y=h.stateNode,S=b0(a);mg(a,S,y);break;case 5:var U=h.stateNode;h.flags&32&&(Fr(U,""),h.flags&=-33);var te=b0(a);mg(a,te,U);break;case 3:case 4:var de=h.stateNode.containerInfo,Me=b0(a);_0(a,Me,de);break;default:throw Error(i(161))}}catch(ze){ei(a,a.return,ze)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function l5(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;l5(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function ku(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)i5(a,l.alternate,l),l=l.sibling}function Wc(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Ru(4,l,l.return),Wc(l);break;case 1:Yo(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&Zb(l,l.return,h),Wc(l);break;case 27:wd(l.stateNode);case 26:case 5:Yo(l,l.return),Wc(l);break;case 22:l.memoizedState===null&&Wc(l);break;case 30:Wc(l);break;default:Wc(l)}a=a.sibling}}function Nu(a,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var d=l.alternate,y=a,S=l,U=S.flags;switch(S.tag){case 0:case 11:case 15:Nu(y,S,h),hd(4,S);break;case 1:if(Nu(y,S,h),d=S,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Me){ei(d,d.return,Me)}if(d=S,y=d.updateQueue,y!==null){var te=d.stateNode;try{var de=y.shared.hiddenCallbacks;if(de!==null)for(y.shared.hiddenCallbacks=null,y=0;y<de.length;y++)yn(de[y],te)}catch(Me){ei(d,d.return,Me)}}h&&U&64&&Qb(S),fd(S,S.return);break;case 27:t5(S);case 26:case 5:Nu(y,S,h),h&&d===null&&U&4&&Jb(S),fd(S,S.return);break;case 12:Nu(y,S,h);break;case 13:Nu(y,S,h),h&&U&4&&a5(y,S);break;case 22:S.memoizedState===null&&Nu(y,S,h),fd(S,S.return);break;case 30:break;default:Nu(y,S,h)}l=l.sibling}}function E0(a,l){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Pc(h))}function A0(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Pc(a))}function Xo(a,l,h,d){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)u5(a,l,h,d),l=l.sibling}function u5(a,l,h,d){var y=l.flags;switch(l.tag){case 0:case 11:case 15:Xo(a,l,h,d),y&2048&&hd(9,l);break;case 1:Xo(a,l,h,d);break;case 3:Xo(a,l,h,d),y&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Pc(a)));break;case 12:if(y&2048){Xo(a,l,h,d),a=l.stateNode;try{var S=l.memoizedProps,U=S.id,te=S.onPostCommit;typeof te=="function"&&te(U,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(de){ei(l,l.return,de)}}else Xo(a,l,h,d);break;case 13:Xo(a,l,h,d);break;case 23:break;case 22:S=l.stateNode,U=l.alternate,l.memoizedState!==null?S._visibility&2?Xo(a,l,h,d):dd(a,l):S._visibility&2?Xo(a,l,h,d):(S._visibility|=2,Fh(a,l,h,d,(l.subtreeFlags&10256)!==0)),y&2048&&E0(U,l);break;case 24:Xo(a,l,h,d),y&2048&&A0(l.alternate,l);break;default:Xo(a,l,h,d)}}function Fh(a,l,h,d,y){for(y=y&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var S=a,U=l,te=h,de=d,Me=U.flags;switch(U.tag){case 0:case 11:case 15:Fh(S,U,te,de,y),hd(8,U);break;case 23:break;case 22:var ze=U.stateNode;U.memoizedState!==null?ze._visibility&2?Fh(S,U,te,de,y):dd(S,U):(ze._visibility|=2,Fh(S,U,te,de,y)),y&&Me&2048&&E0(U.alternate,U);break;case 24:Fh(S,U,te,de,y),y&&Me&2048&&A0(U.alternate,U);break;default:Fh(S,U,te,de,y)}l=l.sibling}}function dd(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=a,d=l,y=d.flags;switch(d.tag){case 22:dd(h,d),y&2048&&E0(d.alternate,d);break;case 24:dd(h,d),y&2048&&A0(d.alternate,d);break;default:dd(h,d)}l=l.sibling}}var pd=8192;function Uh(a){if(a.subtreeFlags&pd)for(a=a.child;a!==null;)c5(a),a=a.sibling}function c5(a){switch(a.tag){case 26:Uh(a),a.flags&pd&&a.memoizedState!==null&&aC(ao,a.memoizedState,a.memoizedProps);break;case 5:Uh(a);break;case 3:case 4:var l=ao;ao=Ig(a.stateNode.containerInfo),Uh(a),ao=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=pd,pd=16777216,Uh(a),pd=l):Uh(a));break;default:Uh(a)}}function h5(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function gd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];Sr=d,d5(d,a)}h5(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)f5(a),a=a.sibling}function f5(a){switch(a.tag){case 0:case 11:case 15:gd(a),a.flags&2048&&Ru(9,a,a.return);break;case 3:gd(a);break;case 12:gd(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,vg(a)):gd(a);break;default:gd(a)}}function vg(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var d=l[h];Sr=d,d5(d,a)}h5(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Ru(8,l,l.return),vg(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,vg(l));break;default:vg(l)}a=a.sibling}}function d5(a,l){for(;Sr!==null;){var h=Sr;switch(h.tag){case 0:case 11:case 15:Ru(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var d=h.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Pc(h.memoizedState.cache)}if(d=h.child,d!==null)d.return=h,Sr=d;else e:for(h=a;Sr!==null;){d=Sr;var y=d.sibling,S=d.return;if(r5(d),d===h){Sr=null;break e}if(y!==null){y.return=S,Sr=y;break e}Sr=S}}}var S3={getCacheForType:function(a){var l=Ui(zi),h=l.data.get(a);return h===void 0&&(h=a(),l.data.set(a,h)),h}},E3=typeof WeakMap=="function"?WeakMap:Map,zn=0,ri=null,un=null,_n=0,qn=0,ea=null,Pu=!1,zh=!1,x0=!1,Wl=0,Mi=0,Mu=0,$c=0,L0=0,Ca=0,qh=0,md=null,Rs=null,T0=!1,C0=0,yg=1/0,bg=null,Ou=null,Pr=0,Du=null,Hh=null,Gh=0,I0=0,R0=null,p5=null,vd=0,k0=null;function ta(){if((zn&2)!==0&&_n!==0)return _n&-_n;if(re.T!==null){var a=Dl;return a!==0?a:B0()}return Li()}function g5(){Ca===0&&(Ca=(_n&536870912)===0||En?pr():536870912);var a=Ta.current;return a!==null&&(a.flags|=32),Ca}function na(a,l,h){(a===ri&&(qn===2||qn===9)||a.cancelPendingCommit!==null)&&(Wh(a,0),ju(a,_n,Ca,!1)),xi(a,h),((zn&2)===0||a!==ri)&&(a===ri&&((zn&2)===0&&($c|=h),Mi===4&&ju(a,_n,Ca,!1)),Qo(a))}function m5(a,l,h){if((zn&6)!==0)throw Error(i(327));var d=!h&&(l&124)===0&&(l&a.expiredLanes)===0||mi(a,l),y=d?L3(a,l):M0(a,l,!0),S=d;do{if(y===0){zh&&!d&&ju(a,l,0,!1);break}else{if(h=a.current.alternate,S&&!A3(h)){y=M0(a,l,!1),S=!1;continue}if(y===2){if(S=l,a.errorRecoveryDisabledLanes&S)var U=0;else U=a.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){l=U;e:{var te=a;y=md;var de=te.current.memoizedState.isDehydrated;if(de&&(Wh(te,U).flags|=256),U=M0(te,U,!1),U!==2){if(x0&&!de){te.errorRecoveryDisabledLanes|=S,$c|=S,y=4;break e}S=Rs,Rs=y,S!==null&&(Rs===null?Rs=S:Rs.push.apply(Rs,S))}y=U}if(S=!1,y!==2)continue}}if(y===1){Wh(a,0),ju(a,l,0,!0);break}e:{switch(d=a,S=y,S){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:ju(d,l,Ca,!Pu);break e;case 2:Rs=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(y=C0+300-Et(),10<y)){if(ju(d,l,Ca,!Pu),vn(d,0,!0)!==0)break e;d.timeoutHandle=G5(v5.bind(null,d,h,Rs,bg,T0,l,Ca,$c,qh,Pu,S,2,-0,0),y);break e}v5(d,h,Rs,bg,T0,l,Ca,$c,qh,Pu,S,0,-0,0)}}break}while(!0);Qo(a)}function v5(a,l,h,d,y,S,U,te,de,Me,ze,Ye,Oe,De){if(a.timeoutHandle=-1,Ye=l.subtreeFlags,(Ye&8192||(Ye&16785408)===16785408)&&(Ad={stylesheets:null,count:0,unsuspend:sC},c5(l),Ye=oC(),Ye!==null)){a.cancelPendingCommit=Ye(A5.bind(null,a,l,S,h,d,y,U,te,de,ze,1,Oe,De)),ju(a,S,U,!Me);return}A5(a,l,S,h,d,y,U,te,de)}function A3(a){for(var l=a;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var d=0;d<h.length;d++){var y=h[d],S=y.getSnapshot;y=y.value;try{if(!Zi(S(),y))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ju(a,l,h,d){l&=~L0,l&=~$c,a.suspendedLanes|=l,a.pingedLanes&=~l,d&&(a.warmLanes|=l),d=a.expirationTimes;for(var y=l;0<y;){var S=31-dt(y),U=1<<S;d[S]=-1,y&=~U}h!==0&&At(a,h,l)}function _g(){return(zn&6)===0?(yd(0),!1):!0}function N0(){if(un!==null){if(qn===0)var a=un.return;else a=un,eo=er=null,Nh(a),Bh=null,ld=0,a=un;for(;a!==null;)Xb(a.alternate,a),a=a.return;un=null}}function Wh(a,l){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,z3(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),N0(),ri=a,un=h=wa(a.current,null),_n=l,qn=0,ea=null,Pu=!1,zh=mi(a,l),x0=!1,qh=Ca=L0=$c=Mu=Mi=0,Rs=md=null,T0=!1,(l&8)!==0&&(l|=l&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=l;0<d;){var y=31-dt(d),S=1<<y;l|=a[y],d&=~S}return Wl=l,xs(),h}function y5(a,l){Tt=null,re.H=og,l===$||l===J?(l=Le(),qn=3):l===Y?(l=Le(),qn=4):qn=l===Db?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ea=l,un===null&&(Mi=1,fg(a,nn(l,a.current)))}function b5(){var a=re.H;return re.H=og,a===null?og:a}function _5(){var a=re.A;return re.A=S3,a}function P0(){Mi=4,Pu||(_n&4194048)!==_n&&Ta.current!==null||(zh=!0),(Mu&134217727)===0&&($c&134217727)===0||ri===null||ju(ri,_n,Ca,!1)}function M0(a,l,h){var d=zn;zn|=2;var y=b5(),S=_5();(ri!==a||_n!==l)&&(bg=null,Wh(a,l)),l=!1;var U=Mi;e:do try{if(qn!==0&&un!==null){var te=un,de=ea;switch(qn){case 8:N0(),U=6;break e;case 3:case 2:case 9:case 6:Ta.current===null&&(l=!0);var Me=qn;if(qn=0,ea=null,$h(a,te,de,Me),h&&zh){U=0;break e}break;default:Me=qn,qn=0,ea=null,$h(a,te,de,Me)}}x3(),U=Mi;break}catch(ze){y5(a,ze)}while(!0);return l&&a.shellSuspendCounter++,eo=er=null,zn=d,re.H=y,re.A=S,un===null&&(ri=null,_n=0,xs()),U}function x3(){for(;un!==null;)w5(un)}function L3(a,l){var h=zn;zn|=2;var d=b5(),y=_5();ri!==a||_n!==l?(bg=null,yg=Et()+500,Wh(a,l)):zh=mi(a,l);e:do try{if(qn!==0&&un!==null){l=un;var S=ea;t:switch(qn){case 1:qn=0,ea=null,$h(a,l,S,1);break;case 2:case 9:if(ae(S)){qn=0,ea=null,S5(l);break}l=function(){qn!==2&&qn!==9||ri!==a||(qn=7),Qo(a)},S.then(l,l);break e;case 3:qn=7;break e;case 4:qn=5;break e;case 7:ae(S)?(qn=0,ea=null,S5(l)):(qn=0,ea=null,$h(a,l,S,7));break;case 5:var U=null;switch(un.tag){case 26:U=un.memoizedState;case 5:case 27:var te=un;if(!U||i_(U)){qn=0,ea=null;var de=te.sibling;if(de!==null)un=de;else{var Me=te.return;Me!==null?(un=Me,wg(Me)):un=null}break t}}qn=0,ea=null,$h(a,l,S,5);break;case 6:qn=0,ea=null,$h(a,l,S,6);break;case 8:N0(),Mi=6;break e;default:throw Error(i(462))}}T3();break}catch(ze){y5(a,ze)}while(!0);return eo=er=null,re.H=d,re.A=y,zn=h,un!==null?0:(ri=null,_n=0,xs(),Mi)}function T3(){for(;un!==null&&!Ne();)w5(un)}function w5(a){var l=Kb(a.alternate,a,Wl);a.memoizedProps=a.pendingProps,l===null?wg(a):un=l}function S5(a){var l=a,h=l.alternate;switch(l.tag){case 15:case 0:l=zb(h,l,l.pendingProps,l.type,void 0,_n);break;case 11:l=zb(h,l,l.pendingProps,l.type.render,l.ref,_n);break;case 5:Nh(l);default:Xb(h,l),l=un=Ic(l,Wl),l=Kb(h,l,Wl)}a.memoizedProps=a.pendingProps,l===null?wg(a):un=l}function $h(a,l,h,d){eo=er=null,Nh(l),Bh=null,ld=0;var y=l.return;try{if(m3(a,y,l,h,_n)){Mi=1,fg(a,nn(h,a.current)),un=null;return}}catch(S){if(y!==null)throw un=y,S;Mi=1,fg(a,nn(h,a.current)),un=null;return}l.flags&32768?(En||d===1?a=!0:zh||(_n&536870912)!==0?a=!1:(Pu=a=!0,(d===2||d===9||d===3||d===6)&&(d=Ta.current,d!==null&&d.tag===13&&(d.flags|=16384))),E5(l,a)):wg(l)}function wg(a){var l=a;do{if((l.flags&32768)!==0){E5(l,Pu);return}a=l.return;var h=y3(l.alternate,l,Wl);if(h!==null){un=h;return}if(l=l.sibling,l!==null){un=l;return}un=l=a}while(l!==null);Mi===0&&(Mi=5)}function E5(a,l){do{var h=b3(a.alternate,a);if(h!==null){h.flags&=32767,un=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(a=a.sibling,a!==null)){un=a;return}un=a=h}while(a!==null);Mi=6,un=null}function A5(a,l,h,d,y,S,U,te,de){a.cancelPendingCommit=null;do Sg();while(Pr!==0);if((zn&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(S=l.lanes|l.childLanes,S|=yi,Sn(a,h,S,U,te,de),a===ri&&(un=ri=null,_n=0),Hh=l,Du=a,Gh=h,I0=S,R0=y,p5=d,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,k3(rt,function(){return I5(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||d){d=re.T,re.T=null,y=he.p,he.p=2,U=zn,zn|=4;try{_3(a,l,h)}finally{zn=U,he.p=y,re.T=d}}Pr=1,x5(),L5(),T5()}}function x5(){if(Pr===1){Pr=0;var a=Du,l=Hh,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=re.T,re.T=null;var d=he.p;he.p=2;var y=zn;zn|=4;try{o5(l,a);var S=W0,U=Ir(a.containerInfo),te=S.focusedElem,de=S.selectionRange;if(U!==te&&te&&te.ownerDocument&&No(te.ownerDocument.documentElement,te)){if(de!==null&&lr(te)){var Me=de.start,ze=de.end;if(ze===void 0&&(ze=Me),"selectionStart"in te)te.selectionStart=Me,te.selectionEnd=Math.min(ze,te.value.length);else{var Ye=te.ownerDocument||document,Oe=Ye&&Ye.defaultView||window;if(Oe.getSelection){var De=Oe.getSelection(),Vt=te.textContent.length,Nt=Math.min(de.start,Vt),Qn=de.end===void 0?Nt:Math.min(de.end,Vt);!De.extend&&Nt>Qn&&(U=Qn,Qn=Nt,Nt=U);var Te=Wa(te,Nt),_e=Wa(te,Qn);if(Te&&_e&&(De.rangeCount!==1||De.anchorNode!==Te.node||De.anchorOffset!==Te.offset||De.focusNode!==_e.node||De.focusOffset!==_e.offset)){var Re=Ye.createRange();Re.setStart(Te.node,Te.offset),De.removeAllRanges(),Nt>Qn?(De.addRange(Re),De.extend(_e.node,_e.offset)):(Re.setEnd(_e.node,_e.offset),De.addRange(Re))}}}}for(Ye=[],De=te;De=De.parentNode;)De.nodeType===1&&Ye.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<Ye.length;te++){var Ge=Ye[te];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}Mg=!!G0,W0=G0=null}finally{zn=y,he.p=d,re.T=h}}a.current=l,Pr=2}}function L5(){if(Pr===2){Pr=0;var a=Du,l=Hh,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=re.T,re.T=null;var d=he.p;he.p=2;var y=zn;zn|=4;try{i5(a,l.alternate,l)}finally{zn=y,he.p=d,re.T=h}}Pr=3}}function T5(){if(Pr===4||Pr===3){Pr=0,fe();var a=Du,l=Hh,h=Gh,d=p5;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Pr=5:(Pr=0,Hh=Du=null,C5(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Ou=null),Vn(h),l=l.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(yt,l,void 0,(l.current.flags&128)===128)}catch{}if(d!==null){l=re.T,y=he.p,he.p=2,re.T=null;try{for(var S=a.onRecoverableError,U=0;U<d.length;U++){var te=d[U];S(te.value,{componentStack:te.stack})}}finally{re.T=l,he.p=y}}(Gh&3)!==0&&Sg(),Qo(a),y=a.pendingLanes,(h&4194090)!==0&&(y&42)!==0?a===k0?vd++:(vd=0,k0=a):vd=0,yd(0)}}function C5(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Pc(l)))}function Sg(a){return x5(),L5(),T5(),I5()}function I5(){if(Pr!==5)return!1;var a=Du,l=I0;I0=0;var h=Vn(Gh),d=re.T,y=he.p;try{he.p=32>h?32:h,re.T=null,h=R0,R0=null;var S=Du,U=Gh;if(Pr=0,Hh=Du=null,Gh=0,(zn&6)!==0)throw Error(i(331));var te=zn;if(zn|=4,f5(S.current),u5(S,S.current,U,h),zn=te,yd(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(yt,S)}catch{}return!0}finally{he.p=y,re.T=d,C5(a,l)}}function R5(a,l,h){l=nn(h,l),l=u0(a.stateNode,l,2),a=$e(a,l,2),a!==null&&(xi(a,2),Qo(a))}function ei(a,l,h){if(a.tag===3)R5(a,a,h);else for(;l!==null;){if(l.tag===3){R5(l,a,h);break}else if(l.tag===1){var d=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ou===null||!Ou.has(d))){a=nn(h,a),h=Mb(2),d=$e(l,h,2),d!==null&&(Ob(h,d,l,a),xi(d,2),Qo(d));break}}l=l.return}}function O0(a,l,h){var d=a.pingCache;if(d===null){d=a.pingCache=new E3;var y=new Set;d.set(l,y)}else y=d.get(l),y===void 0&&(y=new Set,d.set(l,y));y.has(h)||(x0=!0,y.add(h),a=C3.bind(null,a,l,h),l.then(a,a))}function C3(a,l,h){var d=a.pingCache;d!==null&&d.delete(l),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,ri===a&&(_n&h)===h&&(Mi===4||Mi===3&&(_n&62914560)===_n&&300>Et()-C0?(zn&2)===0&&Wh(a,0):L0|=h,qh===_n&&(qh=0)),Qo(a)}function k5(a,l){l===0&&(l=Mn()),a=Ka(a,l),a!==null&&(xi(a,l),Qo(a))}function I3(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),k5(a,h)}function R3(a,l){var h=0;switch(a.tag){case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(h=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(l),k5(a,h)}function k3(a,l){return nt(a,l)}var Eg=null,Kh=null,D0=!1,Ag=!1,j0=!1,Kc=0;function Qo(a){a!==Kh&&a.next===null&&(Kh===null?Eg=Kh=a:Kh=Kh.next=a),Ag=!0,D0||(D0=!0,P3())}function yd(a,l){if(!j0&&Ag){j0=!0;do for(var h=!1,d=Eg;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var S=0;else{var U=d.suspendedLanes,te=d.pingedLanes;S=(1<<31-dt(42|a)+1)-1,S&=y&~(U&~te),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,O5(d,S))}else S=_n,S=vn(d,d===ri?S:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(S&3)===0||mi(d,S)||(h=!0,O5(d,S));d=d.next}while(h);j0=!1}}function N3(){N5()}function N5(){Ag=D0=!1;var a=0;Kc!==0&&(U3()&&(a=Kc),Kc=0);for(var l=Et(),h=null,d=Eg;d!==null;){var y=d.next,S=P5(d,l);S===0?(d.next=null,h===null?Eg=y:h.next=y,y===null&&(Kh=h)):(h=d,(a!==0||(S&3)!==0)&&(Ag=!0)),d=y}yd(a)}function P5(a,l){for(var h=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var U=31-dt(S),te=1<<U,de=y[U];de===-1?((te&h)===0||(te&d)!==0)&&(y[U]=tn(te,l)):de<=l&&(a.expiredLanes|=te),S&=~te}if(l=ri,h=_n,h=vn(a,a===l?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,h===0||a===l&&(qn===2||qn===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&St(d),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||mi(a,h)){if(l=h&-h,l===a.callbackPriority)return l;switch(d!==null&&St(d),Vn(h)){case 2:case 8:h=it;break;case 32:h=rt;break;case 268435456:h=vt;break;default:h=rt}return d=M5.bind(null,a),h=nt(h,d),a.callbackPriority=l,a.callbackNode=h,l}return d!==null&&d!==null&&St(d),a.callbackPriority=2,a.callbackNode=null,2}function M5(a,l){if(Pr!==0&&Pr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Sg()&&a.callbackNode!==h)return null;var d=_n;return d=vn(a,a===ri?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(m5(a,d,l),P5(a,Et()),a.callbackNode!=null&&a.callbackNode===h?M5.bind(null,a):null)}function O5(a,l){if(Sg())return null;m5(a,l,!0)}function P3(){q3(function(){(zn&6)!==0?nt(et,N3):N5()})}function B0(){return Kc===0&&(Kc=pr()),Kc}function D5(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:zs(""+a)}function j5(a,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,a.id&&h.setAttribute("form",a.id),l.parentNode.insertBefore(h,l),a=new FormData(a),h.parentNode.removeChild(h),a}function M3(a,l,h,d,y){if(l==="submit"&&h&&h.stateNode===y){var S=D5((y[On]||null).action),U=d.submitter;U&&(l=(l=U[On]||null)?D5(l.formAction):U.getAttribute("formAction"),l!==null&&(S=l,U=null));var te=new fa("action","action",null,d,y);a.push({event:te,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Kc!==0){var de=U?j5(y,U):new FormData(y);La(h,{pending:!0,data:de,method:y.method,action:S},null,de)}}else typeof S=="function"&&(te.preventDefault(),de=U?j5(y,U):new FormData(y),La(h,{pending:!0,data:de,method:y.method,action:S},S,de))},currentTarget:y}]})}}for(var V0=0;V0<Rl.length;V0++){var F0=Rl[V0],O3=F0.toLowerCase(),D3=F0[0].toUpperCase()+F0.slice(1);di(O3,"on"+D3)}di(vu,"onAnimationEnd"),di(Mo,"onAnimationIteration"),di(Oo,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(Do,"onTransitionRun"),di(Il,"onTransitionStart"),di(yu,"onTransitionCancel"),di(jo,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bd));function B5(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var d=a[h],y=d.event;d=d.listeners;e:{var S=void 0;if(l)for(var U=d.length-1;0<=U;U--){var te=d[U],de=te.instance,Me=te.currentTarget;if(te=te.listener,de!==S&&y.isPropagationStopped())break e;S=te,y.currentTarget=Me;try{S(y)}catch(ze){hg(ze)}y.currentTarget=null,S=de}else for(U=0;U<d.length;U++){if(te=d[U],de=te.instance,Me=te.currentTarget,te=te.listener,de!==S&&y.isPropagationStopped())break e;S=te,y.currentTarget=Me;try{S(y)}catch(ze){hg(ze)}y.currentTarget=null,S=de}}}}function cn(a,l){var h=l[si];h===void 0&&(h=l[si]=new Set);var d=a+"__bubble";h.has(d)||(V5(l,a,2,!1),h.add(d))}function U0(a,l,h){var d=0;l&&(d|=4),V5(h,a,d,l)}var xg="_reactListening"+Math.random().toString(36).slice(2);function z0(a){if(!a[xg]){a[xg]=!0,Ds.forEach(function(h){h!=="selectionchange"&&(j3.has(h)||U0(h,!1,a),U0(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[xg]||(l[xg]=!0,U0("selectionchange",!1,l))}}function V5(a,l,h,d){switch(u_(l)){case 2:var y=cC;break;case 8:y=hC;break;default:y=ny}h=y.bind(null,l,h,a),y=void 0,!Cr||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(l,h,{capture:!0,passive:y}):a.addEventListener(l,h,!0):y!==void 0?a.addEventListener(l,h,{passive:y}):a.addEventListener(l,h,!1)}function q0(a,l,h,d,y){var S=d;if((l&1)===0&&(l&2)===0&&d!==null)e:for(;;){if(d===null)return;var U=d.tag;if(U===3||U===4){var te=d.stateNode.containerInfo;if(te===y)break;if(U===4)for(U=d.return;U!==null;){var de=U.tag;if((de===3||de===4)&&U.stateNode.containerInfo===y)return;U=U.return}for(;te!==null;){if(U=Di(te),U===null)return;if(de=U.tag,de===5||de===6||de===26||de===27){d=S=U;continue e}te=te.parentNode}}d=d.return}fu(function(){var Me=S,ze=Fn(h),Ye=[];e:{var Oe=$a.get(a);if(Oe!==void 0){var De=fa,Vt=a;switch(a){case"keypress":if(qr(h)===0)break e;case"keydown":case"keyup":De=Ws;break;case"focusin":Vt="focus",De=pa;break;case"focusout":Vt="blur",De=pa;break;case"beforeblur":case"afterblur":De=pa;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Ri;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=da;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=Co;break;case vu:case Mo:case Oo:De=xo;break;case jo:De=q;break;case"scroll":case"scrollend":De=El;break;case"wheel":De=ge;break;case"copy":case"cut":case"paste":De=Lo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=Ga;break;case"toggle":case"beforetoggle":De=Fe}var Nt=(l&4)!==0,Qn=!Nt&&(a==="scroll"||a==="scrollend"),Te=Nt?Oe!==null?Oe+"Capture":null:Oe;Nt=[];for(var _e=Me,Re;_e!==null;){var Ge=_e;if(Re=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||Re===null||Te===null||(Ge=mr(_e,Te),Ge!=null&&Nt.push(_d(_e,Ge,Re))),Qn)break;_e=_e.return}0<Nt.length&&(Oe=new De(Oe,Vt,null,h,ze),Ye.push({event:Oe,listeners:Nt}))}}if((l&7)===0){e:{if(Oe=a==="mouseover"||a==="pointerover",De=a==="mouseout"||a==="pointerout",Oe&&h!==vs&&(Vt=h.relatedTarget||h.fromElement)&&(Di(Vt)||Vt[Jn]))break e;if((De||Oe)&&(Oe=ze.window===ze?ze:(Oe=ze.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,De?(Vt=h.relatedTarget||h.toElement,De=Me,Vt=Vt?Di(Vt):null,Vt!==null&&(Qn=s(Vt),Nt=Vt.tag,Vt!==Qn||Nt!==5&&Nt!==27&&Nt!==6)&&(Vt=null)):(De=null,Vt=Me),De!==Vt)){if(Nt=Ri,Ge="onMouseLeave",Te="onMouseEnter",_e="mouse",(a==="pointerout"||a==="pointerover")&&(Nt=Ga,Ge="onPointerLeave",Te="onPointerEnter",_e="pointer"),Qn=De==null?Oe:ji(De),Re=Vt==null?Oe:ji(Vt),Oe=new Nt(Ge,_e+"leave",De,h,ze),Oe.target=Qn,Oe.relatedTarget=Re,Ge=null,Di(ze)===Me&&(Nt=new Nt(Te,_e+"enter",Vt,h,ze),Nt.target=Re,Nt.relatedTarget=Qn,Ge=Nt),Qn=Ge,De&&Vt)t:{for(Nt=De,Te=Vt,_e=0,Re=Nt;Re;Re=Yh(Re))_e++;for(Re=0,Ge=Te;Ge;Ge=Yh(Ge))Re++;for(;0<_e-Re;)Nt=Yh(Nt),_e--;for(;0<Re-_e;)Te=Yh(Te),Re--;for(;_e--;){if(Nt===Te||Te!==null&&Nt===Te.alternate)break t;Nt=Yh(Nt),Te=Yh(Te)}Nt=null}else Nt=null;De!==null&&F5(Ye,Oe,De,Nt,!1),Vt!==null&&Qn!==null&&F5(Ye,Qn,Vt,Nt,!0)}}e:{if(Oe=Me?ji(Me):window,De=Oe.nodeName&&Oe.nodeName.toLowerCase(),De==="select"||De==="input"&&Oe.type==="file")var bt=gu;else if(Dn(Oe))if(xl)bt=Ah;else{bt=Wf;var ln=Gr}else De=Oe.nodeName,!De||De.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Me&&wl(Me.elementType)&&(bt=gu):bt=Tc;if(bt&&(bt=bt(a,Me))){Es(Ye,bt,h,ze);break e}ln&&ln(a,Oe,Me),a==="focusout"&&Me&&Oe.type==="number"&&Me.memoizedProps.value!=null&&ua(Oe,"number",Oe.value)}switch(ln=Me?ji(Me):window,a){case"focusin":(Dn(ln)||ln.contentEditable==="true")&&(Wr=ln,$s=Me,ba=null);break;case"focusout":ba=$s=Wr=null;break;case"mousedown":Ks=!0;break;case"contextmenu":case"mouseup":case"dragend":Ks=!1,fi(Ye,h,ze);break;case"selectionchange":if(Po)break;case"keydown":case"keyup":fi(Ye,h,ze)}var Lt;if(ot)e:{switch(a){case"compositionstart":var Pt="onCompositionStart";break e;case"compositionend":Pt="onCompositionEnd";break e;case"compositionupdate":Pt="onCompositionUpdate";break e}Pt=void 0}else kt?Pe(a,h)&&(Pt="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Pt="onCompositionStart");Pt&&(D&&h.locale!=="ko"&&(kt||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&kt&&(Lt=Sl()):(zr=ze,ha="value"in zr?zr.value:zr.textContent,kt=!0)),ln=Lg(Me,Pt),0<ln.length&&(Pt=new za(Pt,a,null,h,ze),Ye.push({event:Pt,listeners:ln}),Lt?Pt.data=Lt:(Lt=Je(h),Lt!==null&&(Pt.data=Lt)))),(Lt=L?on(a,h):Ut(a,h))&&(Pt=Lg(Me,"onBeforeInput"),0<Pt.length&&(ln=new za("onBeforeInput","beforeinput",null,h,ze),Ye.push({event:ln,listeners:Pt}),ln.data=Lt)),M3(Ye,a,Me,h,ze)}B5(Ye,l)})}function _d(a,l,h){return{instance:a,listener:l,currentTarget:h}}function Lg(a,l){for(var h=l+"Capture",d=[];a!==null;){var y=a,S=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||S===null||(y=mr(a,h),y!=null&&d.unshift(_d(a,y,S)),y=mr(a,l),y!=null&&d.push(_d(a,y,S))),a.tag===3)return d;a=a.return}return[]}function Yh(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function F5(a,l,h,d,y){for(var S=l._reactName,U=[];h!==null&&h!==d;){var te=h,de=te.alternate,Me=te.stateNode;if(te=te.tag,de!==null&&de===d)break;te!==5&&te!==26&&te!==27||Me===null||(de=Me,y?(Me=mr(h,S),Me!=null&&U.unshift(_d(h,Me,de))):y||(Me=mr(h,S),Me!=null&&U.push(_d(h,Me,de)))),h=h.return}U.length!==0&&a.push({event:l,listeners:U})}var B3=/\r\n?/g,V3=/\u0000|\uFFFD/g;function U5(a){return(typeof a=="string"?a:""+a).replace(B3,`
`).replace(V3,"")}function z5(a,l){return l=U5(l),U5(a)===l}function Tg(){}function Xn(a,l,h,d,y,S){switch(h){case"children":typeof d=="string"?l==="body"||l==="textarea"&&d===""||Fr(a,d):(typeof d=="number"||typeof d=="bigint")&&l!=="body"&&Fr(a,""+d);break;case"className":cs(a,"class",d);break;case"tabIndex":cs(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":cs(a,h,d);break;case"style":_l(a,d,S);break;case"data":if(l!=="object"){cs(a,"data",d);break}case"src":case"href":if(d===""&&(l!=="a"||h!=="href")){a.removeAttribute(h);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(h);break}d=zs(""+d),a.setAttribute(h,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(l!=="input"&&Xn(a,l,"name",y.name,y,null),Xn(a,l,"formEncType",y.formEncType,y,null),Xn(a,l,"formMethod",y.formMethod,y,null),Xn(a,l,"formTarget",y.formTarget,y,null)):(Xn(a,l,"encType",y.encType,y,null),Xn(a,l,"method",y.method,y,null),Xn(a,l,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(h);break}d=zs(""+d),a.setAttribute(h,d);break;case"onClick":d!=null&&(a.onclick=Tg);break;case"onScroll":d!=null&&cn("scroll",a);break;case"onScrollEnd":d!=null&&cn("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(h=d.__html,h!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}h=zs(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,""+d):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":d===!0?a.setAttribute(h,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(h,d):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(h,d):a.removeAttribute(h);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(h):a.setAttribute(h,d);break;case"popover":cn("beforetoggle",a),cn("toggle",a),us(a,"popover",d);break;case"xlinkActuate":Bi(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Bi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Bi(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Bi(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Bi(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Bi(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Bi(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Bi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Bi(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":us(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Us.get(h)||h,us(a,h,d))}}function H0(a,l,h,d,y,S){switch(h){case"style":_l(a,d,S);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(h=d.__html,h!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=h}}break;case"children":typeof d=="string"?Fr(a,d):(typeof d=="number"||typeof d=="bigint")&&Fr(a,""+d);break;case"onScroll":d!=null&&cn("scroll",a);break;case"onScrollEnd":d!=null&&cn("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Tg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!js.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(y=h.endsWith("Capture"),l=h.slice(2,y?h.length-7:void 0),S=a[On]||null,S=S!=null?S[h]:null,typeof S=="function"&&a.removeEventListener(l,S,y),typeof d=="function")){typeof S!="function"&&S!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(l,d,y);break e}h in a?a[h]=d:d===!0?a.setAttribute(h,""):us(a,h,d)}}}function Mr(a,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":cn("error",a),cn("load",a);var d=!1,y=!1,S;for(S in h)if(h.hasOwnProperty(S)){var U=h[S];if(U!=null)switch(S){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Xn(a,l,S,U,h,null)}}y&&Xn(a,l,"srcSet",h.srcSet,h,null),d&&Xn(a,l,"src",h.src,h,null);return;case"input":cn("invalid",a);var te=S=U=y=null,de=null,Me=null;for(d in h)if(h.hasOwnProperty(d)){var ze=h[d];if(ze!=null)switch(d){case"name":y=ze;break;case"type":U=ze;break;case"checked":de=ze;break;case"defaultChecked":Me=ze;break;case"value":S=ze;break;case"defaultValue":te=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,l));break;default:Xn(a,l,d,ze,h,null)}}la(a,S,te,de,Me,U,y,!1),oa(a);return;case"select":cn("invalid",a),d=U=S=null;for(y in h)if(h.hasOwnProperty(y)&&(te=h[y],te!=null))switch(y){case"value":S=te;break;case"defaultValue":U=te;break;case"multiple":d=te;default:Xn(a,l,y,te,h,null)}l=S,h=U,a.multiple=!!d,l!=null?ms(a,!!d,l,!1):h!=null&&ms(a,!!d,h,!0);return;case"textarea":cn("invalid",a),S=y=d=null;for(U in h)if(h.hasOwnProperty(U)&&(te=h[U],te!=null))switch(U){case"value":d=te;break;case"defaultValue":y=te;break;case"children":S=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(91));break;default:Xn(a,l,U,te,h,null)}ca(a,d,y,S),oa(a);return;case"option":for(de in h)if(h.hasOwnProperty(de)&&(d=h[de],d!=null))switch(de){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Xn(a,l,de,d,h,null)}return;case"dialog":cn("beforetoggle",a),cn("toggle",a),cn("cancel",a),cn("close",a);break;case"iframe":case"object":cn("load",a);break;case"video":case"audio":for(d=0;d<bd.length;d++)cn(bd[d],a);break;case"image":cn("error",a),cn("load",a);break;case"details":cn("toggle",a);break;case"embed":case"source":case"link":cn("error",a),cn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in h)if(h.hasOwnProperty(Me)&&(d=h[Me],d!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Xn(a,l,Me,d,h,null)}return;default:if(wl(l)){for(ze in h)h.hasOwnProperty(ze)&&(d=h[ze],d!==void 0&&H0(a,l,ze,d,h,void 0));return}}for(te in h)h.hasOwnProperty(te)&&(d=h[te],d!=null&&Xn(a,l,te,d,h,null))}function F3(a,l,h,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,S=null,U=null,te=null,de=null,Me=null,ze=null;for(De in h){var Ye=h[De];if(h.hasOwnProperty(De)&&Ye!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":de=Ye;default:d.hasOwnProperty(De)||Xn(a,l,De,null,d,Ye)}}for(var Oe in d){var De=d[Oe];if(Ye=h[Oe],d.hasOwnProperty(Oe)&&(De!=null||Ye!=null))switch(Oe){case"type":S=De;break;case"name":y=De;break;case"checked":Me=De;break;case"defaultChecked":ze=De;break;case"value":U=De;break;case"defaultValue":te=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,l));break;default:De!==Ye&&Xn(a,l,Oe,De,d,Ye)}}ar(a,U,te,de,Me,ze,S,y);return;case"select":De=U=te=Oe=null;for(S in h)if(de=h[S],h.hasOwnProperty(S)&&de!=null)switch(S){case"value":break;case"multiple":De=de;default:d.hasOwnProperty(S)||Xn(a,l,S,null,d,de)}for(y in d)if(S=d[y],de=h[y],d.hasOwnProperty(y)&&(S!=null||de!=null))switch(y){case"value":Oe=S;break;case"defaultValue":te=S;break;case"multiple":U=S;default:S!==de&&Xn(a,l,y,S,d,de)}l=te,h=U,d=De,Oe!=null?ms(a,!!h,Oe,!1):!!d!=!!h&&(l!=null?ms(a,!!h,l,!0):ms(a,!!h,h?[]:"",!1));return;case"textarea":De=Oe=null;for(te in h)if(y=h[te],h.hasOwnProperty(te)&&y!=null&&!d.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:Xn(a,l,te,null,d,y)}for(U in d)if(y=d[U],S=h[U],d.hasOwnProperty(U)&&(y!=null||S!=null))switch(U){case"value":Oe=y;break;case"defaultValue":De=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==S&&Xn(a,l,U,y,d,S)}Ln(a,Oe,De);return;case"option":for(var Vt in h)if(Oe=h[Vt],h.hasOwnProperty(Vt)&&Oe!=null&&!d.hasOwnProperty(Vt))switch(Vt){case"selected":a.selected=!1;break;default:Xn(a,l,Vt,null,d,Oe)}for(de in d)if(Oe=d[de],De=h[de],d.hasOwnProperty(de)&&Oe!==De&&(Oe!=null||De!=null))switch(de){case"selected":a.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol";break;default:Xn(a,l,de,Oe,d,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in h)Oe=h[Nt],h.hasOwnProperty(Nt)&&Oe!=null&&!d.hasOwnProperty(Nt)&&Xn(a,l,Nt,null,d,Oe);for(Me in d)if(Oe=d[Me],De=h[Me],d.hasOwnProperty(Me)&&Oe!==De&&(Oe!=null||De!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(i(137,l));break;default:Xn(a,l,Me,Oe,d,De)}return;default:if(wl(l)){for(var Qn in h)Oe=h[Qn],h.hasOwnProperty(Qn)&&Oe!==void 0&&!d.hasOwnProperty(Qn)&&H0(a,l,Qn,void 0,d,Oe);for(ze in d)Oe=d[ze],De=h[ze],!d.hasOwnProperty(ze)||Oe===De||Oe===void 0&&De===void 0||H0(a,l,ze,Oe,d,De);return}}for(var Te in h)Oe=h[Te],h.hasOwnProperty(Te)&&Oe!=null&&!d.hasOwnProperty(Te)&&Xn(a,l,Te,null,d,Oe);for(Ye in d)Oe=d[Ye],De=h[Ye],!d.hasOwnProperty(Ye)||Oe===De||Oe==null&&De==null||Xn(a,l,Ye,Oe,d,De)}var G0=null,W0=null;function Cg(a){return a.nodeType===9?a:a.ownerDocument}function q5(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H5(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function $0(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var K0=null;function U3(){var a=window.event;return a&&a.type==="popstate"?a===K0?!1:(K0=a,!0):(K0=null,!1)}var G5=typeof setTimeout=="function"?setTimeout:void 0,z3=typeof clearTimeout=="function"?clearTimeout:void 0,W5=typeof Promise=="function"?Promise:void 0,q3=typeof queueMicrotask=="function"?queueMicrotask:typeof W5<"u"?function(a){return W5.resolve(null).then(a).catch(H3)}:G5;function H3(a){setTimeout(function(){throw a})}function Bu(a){return a==="head"}function $5(a,l){var h=l,d=0,y=0;do{var S=h.nextSibling;if(a.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(0<d&&8>d){h=d;var U=a.ownerDocument;if(h&1&&wd(U.documentElement),h&2&&wd(U.body),h&4)for(h=U.head,wd(h),U=h.firstChild;U;){var te=U.nextSibling,de=U.nodeName;U[Tr]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&U.rel.toLowerCase()==="stylesheet"||h.removeChild(U),U=te}}if(y===0){a.removeChild(S),Id(l);return}y--}else h==="$"||h==="$?"||h==="$!"?y++:d=h.charCodeAt(0)-48;else d=0;h=S}while(h);Id(l)}function Y0(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Y0(h),Xi(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function G3(a,l,h,d){for(;a.nodeType===1;){var y=h;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Tr])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var S=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=oo(a.nextSibling),a===null)break}return null}function W3(a,l,h){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=oo(a.nextSibling),a===null))return null;return a}function X0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function $3(a,l){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")l();else{var d=function(){l(),h.removeEventListener("DOMContentLoaded",d)};h.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function oo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var Q0=null;function K5(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}function Y5(a,l,h){switch(l=Cg(h),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function wd(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Xi(a)}var Ia=new Map,X5=new Set;function Ig(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var $l=he.d;he.d={f:K3,r:Y3,D:X3,C:Q3,L:Z3,m:J3,X:tC,S:eC,M:nC};function K3(){var a=$l.f(),l=_g();return a||l}function Y3(a){var l=Ci(a);l!==null&&l.tag===5&&l.type==="form"?qc(l):$l.r(a)}var Xh=typeof document>"u"?null:document;function Q5(a,l,h){var d=Xh;if(d&&typeof l=="string"&&l){var y=pn(l);y='link[rel="'+a+'"][href="'+y+'"]',typeof h=="string"&&(y+='[crossorigin="'+h+'"]'),X5.has(y)||(X5.add(y),a={rel:a,crossOrigin:h,href:l},d.querySelector(y)===null&&(l=d.createElement("link"),Mr(l,"link",a),xn(l),d.head.appendChild(l)))}}function X3(a){$l.D(a),Q5("dns-prefetch",a,null)}function Q3(a,l){$l.C(a,l),Q5("preconnect",a,l)}function Z3(a,l,h){$l.L(a,l,h);var d=Xh;if(d&&a&&l){var y='link[rel="preload"][as="'+pn(l)+'"]';l==="image"&&h&&h.imageSrcSet?(y+='[imagesrcset="'+pn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(y+='[imagesizes="'+pn(h.imageSizes)+'"]')):y+='[href="'+pn(a)+'"]';var S=y;switch(l){case"style":S=Qh(a);break;case"script":S=Zh(a)}Ia.has(S)||(a=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:a,as:l},h),Ia.set(S,a),d.querySelector(y)!==null||l==="style"&&d.querySelector(Sd(S))||l==="script"&&d.querySelector(Ed(S))||(l=d.createElement("link"),Mr(l,"link",a),xn(l),d.head.appendChild(l)))}}function J3(a,l){$l.m(a,l);var h=Xh;if(h&&a){var d=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+pn(d)+'"][href="'+pn(a)+'"]',S=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Zh(a)}if(!Ia.has(S)&&(a=p({rel:"modulepreload",href:a},l),Ia.set(S,a),h.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ed(S)))return}d=h.createElement("link"),Mr(d,"link",a),xn(d),h.head.appendChild(d)}}}function eC(a,l,h){$l.S(a,l,h);var d=Xh;if(d&&a){var y=$n(d).hoistableStyles,S=Qh(a);l=l||"default";var U=y.get(S);if(!U){var te={loading:0,preload:null};if(U=d.querySelector(Sd(S)))te.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},h),(h=Ia.get(S))&&Z0(a,h);var de=U=d.createElement("link");xn(de),Mr(de,"link",a),de._p=new Promise(function(Me,ze){de.onload=Me,de.onerror=ze}),de.addEventListener("load",function(){te.loading|=1}),de.addEventListener("error",function(){te.loading|=2}),te.loading|=4,Rg(U,l,d)}U={type:"stylesheet",instance:U,count:1,state:te},y.set(S,U)}}}function tC(a,l){$l.X(a,l);var h=Xh;if(h&&a){var d=$n(h).hoistableScripts,y=Zh(a),S=d.get(y);S||(S=h.querySelector(Ed(y)),S||(a=p({src:a,async:!0},l),(l=Ia.get(y))&&J0(a,l),S=h.createElement("script"),xn(S),Mr(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(y,S))}}function nC(a,l){$l.M(a,l);var h=Xh;if(h&&a){var d=$n(h).hoistableScripts,y=Zh(a),S=d.get(y);S||(S=h.querySelector(Ed(y)),S||(a=p({src:a,async:!0,type:"module"},l),(l=Ia.get(y))&&J0(a,l),S=h.createElement("script"),xn(S),Mr(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},d.set(y,S))}}function Z5(a,l,h,d){var y=(y=ue.current)?Ig(y):null;if(!y)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Qh(h.href),h=$n(y).hoistableStyles,d=h.get(l),d||(d={type:"style",instance:null,count:0,state:null},h.set(l,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Qh(h.href);var S=$n(y).hoistableStyles,U=S.get(a);if(U||(y=y.ownerDocument||y,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,U),(S=y.querySelector(Sd(a)))&&!S._p&&(U.instance=S,U.state.loading=5),Ia.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ia.set(a,h),S||iC(y,a,h,U.state))),l&&d===null)throw Error(i(528,""));return U}if(l&&d!==null)throw Error(i(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Zh(h),h=$n(y).hoistableScripts,d=h.get(l),d||(d={type:"script",instance:null,count:0,state:null},h.set(l,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Qh(a){return'href="'+pn(a)+'"'}function Sd(a){return'link[rel="stylesheet"]['+a+"]"}function J5(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function iC(a,l,h,d){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?d.loading=1:(l=a.createElement("link"),d.preload=l,l.addEventListener("load",function(){return d.loading|=1}),l.addEventListener("error",function(){return d.loading|=2}),Mr(l,"link",h),xn(l),a.head.appendChild(l))}function Zh(a){return'[src="'+pn(a)+'"]'}function Ed(a){return"script[async]"+a}function e_(a,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var d=a.querySelector('style[data-href~="'+pn(h.href)+'"]');if(d)return l.instance=d,xn(d),d;var y=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),xn(d),Mr(d,"style",y),Rg(d,h.precedence,a),l.instance=d;case"stylesheet":y=Qh(h.href);var S=a.querySelector(Sd(y));if(S)return l.state.loading|=4,l.instance=S,xn(S),S;d=J5(h),(y=Ia.get(y))&&Z0(d,y),S=(a.ownerDocument||a).createElement("link"),xn(S);var U=S;return U._p=new Promise(function(te,de){U.onload=te,U.onerror=de}),Mr(S,"link",d),l.state.loading|=4,Rg(S,h.precedence,a),l.instance=S;case"script":return S=Zh(h.src),(y=a.querySelector(Ed(S)))?(l.instance=y,xn(y),y):(d=h,(y=Ia.get(S))&&(d=p({},h),J0(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),xn(y),Mr(y,"link",d),a.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(d=l.instance,l.state.loading|=4,Rg(d,h.precedence,a));return l.instance}function Rg(a,l,h){for(var d=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,S=y,U=0;U<d.length;U++){var te=d[U];if(te.dataset.precedence===l)S=te;else if(S!==y)break}S?S.parentNode.insertBefore(a,S.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(a,l.firstChild))}function Z0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function J0(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var kg=null;function t_(a,l,h){if(kg===null){var d=new Map,y=kg=new Map;y.set(h,d)}else y=kg,d=y.get(h),d||(d=new Map,y.set(h,d));if(d.has(a))return d;for(d.set(a,null),h=h.getElementsByTagName(a),y=0;y<h.length;y++){var S=h[y];if(!(S[Tr]||S[ht]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var U=S.getAttribute(l)||"";U=a+U;var te=d.get(U);te?te.push(S):d.set(U,[S])}}return d}function n_(a,l,h){a=a.ownerDocument||a,a.head.insertBefore(h,l==="title"?a.querySelector("head > title"):null)}function rC(a,l,h){if(h===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function i_(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Ad=null;function sC(){}function aC(a,l,h){if(Ad===null)throw Error(i(475));var d=Ad;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=Qh(h.href),S=a.querySelector(Sd(y));if(S){a=S._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(d.count++,d=Ng.bind(d),a.then(d,d)),l.state.loading|=4,l.instance=S,xn(S);return}S=a.ownerDocument||a,h=J5(h),(y=Ia.get(y))&&Z0(h,y),S=S.createElement("link"),xn(S);var U=S;U._p=new Promise(function(te,de){U.onload=te,U.onerror=de}),Mr(S,"link",h),l.instance=S}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(d.count++,l=Ng.bind(d),a.addEventListener("load",l),a.addEventListener("error",l))}}function oC(){if(Ad===null)throw Error(i(475));var a=Ad;return a.stylesheets&&a.count===0&&ey(a,a.stylesheets),0<a.count?function(l){var h=setTimeout(function(){if(a.stylesheets&&ey(a,a.stylesheets),a.unsuspend){var d=a.unsuspend;a.unsuspend=null,d()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(h)}}:null}function Ng(){if(this.count--,this.count===0){if(this.stylesheets)ey(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Pg=null;function ey(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Pg=new Map,l.forEach(lC,a),Pg=null,Ng.call(a))}function lC(a,l){if(!(l.state.loading&4)){var h=Pg.get(a);if(h)var d=h.get(null);else{h=new Map,Pg.set(a,h);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<y.length;S++){var U=y[S];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(h.set(U.dataset.precedence,U),d=U)}d&&h.set(null,d)}y=l.instance,U=y.getAttribute("data-precedence"),S=h.get(U)||d,S===d&&h.set(null,y),h.set(U,y),this.count++,d=Ng.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),S?S.parentNode.insertBefore(y,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),l.state.loading|=4}}var xd={$$typeof:W,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function uC(a,l,h,d,y,S,U,te){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=S,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function r_(a,l,h,d,y,S,U,te,de,Me,ze,Ye){return a=new uC(a,l,h,U,te,de,Me,Ye),l=1,S===!0&&(l|=24),S=_r(3,null,null,l),a.current=S,S.stateNode=a,l=Kf(),l.refCount++,a.pooledCache=l,l.refCount++,S.memoizedState={element:d,isDehydrated:h,cache:l},be(S),a}function s_(a){return a?(a=Ji,a):Ji}function a_(a,l,h,d,y,S){y=s_(y),d.context===null?d.context=y:d.pendingContext=y,d=Ue(l),d.payload={element:h},S=S===void 0?null:S,S!==null&&(d.callback=S),h=$e(a,d,l),h!==null&&(na(h,a,l),He(h,a,l))}function o_(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function ty(a,l){o_(a,l),(a=a.alternate)&&o_(a,l)}function l_(a){if(a.tag===13){var l=Ka(a,67108864);l!==null&&na(l,a,67108864),ty(a,67108864)}}var Mg=!0;function cC(a,l,h,d){var y=re.T;re.T=null;var S=he.p;try{he.p=2,ny(a,l,h,d)}finally{he.p=S,re.T=y}}function hC(a,l,h,d){var y=re.T;re.T=null;var S=he.p;try{he.p=8,ny(a,l,h,d)}finally{he.p=S,re.T=y}}function ny(a,l,h,d){if(Mg){var y=iy(d);if(y===null)q0(a,l,d,Og,h),c_(a,d);else if(dC(y,a,l,h,d))d.stopPropagation();else if(c_(a,d),l&4&&-1<fC.indexOf(a)){for(;y!==null;){var S=Ci(y);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var U=$t(S.pendingLanes);if(U!==0){var te=S;for(te.pendingLanes|=2,te.entangledLanes|=2;U;){var de=1<<31-dt(U);te.entanglements[1]|=de,U&=~de}Qo(S),(zn&6)===0&&(yg=Et()+500,yd(0))}}break;case 13:te=Ka(S,2),te!==null&&na(te,S,2),_g(),ty(S,2)}if(S=iy(d),S===null&&q0(a,l,d,Og,h),S===y)break;y=S}y!==null&&d.stopPropagation()}else q0(a,l,d,null,h)}}function iy(a){return a=Fn(a),ry(a)}var Og=null;function ry(a){if(Og=null,a=Di(a),a!==null){var l=s(a);if(l===null)a=null;else{var h=l.tag;if(h===13){if(a=o(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Og=a,null}function u_(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case et:return 2;case it:return 8;case rt:case at:return 32;case vt:return 268435456;default:return 32}default:return 32}}var sy=!1,Vu=null,Fu=null,Uu=null,Ld=new Map,Td=new Map,zu=[],fC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c_(a,l){switch(a){case"focusin":case"focusout":Vu=null;break;case"dragenter":case"dragleave":Fu=null;break;case"mouseover":case"mouseout":Uu=null;break;case"pointerover":case"pointerout":Ld.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Td.delete(l.pointerId)}}function Cd(a,l,h,d,y,S){return a===null||a.nativeEvent!==S?(a={blockedOn:l,domEventName:h,eventSystemFlags:d,nativeEvent:S,targetContainers:[y]},l!==null&&(l=Ci(l),l!==null&&l_(l)),a):(a.eventSystemFlags|=d,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function dC(a,l,h,d,y){switch(l){case"focusin":return Vu=Cd(Vu,a,l,h,d,y),!0;case"dragenter":return Fu=Cd(Fu,a,l,h,d,y),!0;case"mouseover":return Uu=Cd(Uu,a,l,h,d,y),!0;case"pointerover":var S=y.pointerId;return Ld.set(S,Cd(Ld.get(S)||null,a,l,h,d,y)),!0;case"gotpointercapture":return S=y.pointerId,Td.set(S,Cd(Td.get(S)||null,a,l,h,d,y)),!0}return!1}function h_(a){var l=Di(a.target);if(l!==null){var h=s(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){a.blockedOn=l,Lr(a.priority,function(){if(h.tag===13){var d=ta();d=rr(d);var y=Ka(h,d);y!==null&&na(y,h,d),ty(h,d)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Dg(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=iy(a.nativeEvent);if(h===null){h=a.nativeEvent;var d=new h.constructor(h.type,h);vs=d,h.target.dispatchEvent(d),vs=null}else return l=Ci(h),l!==null&&l_(l),a.blockedOn=h,!1;l.shift()}return!0}function f_(a,l,h){Dg(a)&&h.delete(l)}function pC(){sy=!1,Vu!==null&&Dg(Vu)&&(Vu=null),Fu!==null&&Dg(Fu)&&(Fu=null),Uu!==null&&Dg(Uu)&&(Uu=null),Ld.forEach(f_),Td.forEach(f_)}function jg(a,l){a.blockedOn===l&&(a.blockedOn=null,sy||(sy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,pC)))}var Bg=null;function d_(a){Bg!==a&&(Bg=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bg===a&&(Bg=null);for(var l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],y=a[l+2];if(typeof d!="function"){if(ry(d||h)===null)continue;break}var S=Ci(h);S!==null&&(a.splice(l,3),l-=3,La(S,{pending:!0,data:y,method:h.method,action:d},d,y))}}))}function Id(a){function l(de){return jg(de,a)}Vu!==null&&jg(Vu,a),Fu!==null&&jg(Fu,a),Uu!==null&&jg(Uu,a),Ld.forEach(l),Td.forEach(l);for(var h=0;h<zu.length;h++){var d=zu[h];d.blockedOn===a&&(d.blockedOn=null)}for(;0<zu.length&&(h=zu[0],h.blockedOn===null);)h_(h),h.blockedOn===null&&zu.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(d=0;d<h.length;d+=3){var y=h[d],S=h[d+1],U=y[On]||null;if(typeof S=="function")U||d_(h);else if(U){var te=null;if(S&&S.hasAttribute("formAction")){if(y=S,U=S[On]||null)te=U.formAction;else if(ry(y)!==null)continue}else te=U.action;typeof te=="function"?h[d+1]=te:(h.splice(d,3),d-=3),d_(h)}}}function ay(a){this._internalRoot=a}Vg.prototype.render=ay.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var h=l.current,d=ta();a_(h,d,a,l,null,null)},Vg.prototype.unmount=ay.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;a_(a.current,2,null,a,null,null),_g(),l[Jn]=null}};function Vg(a){this._internalRoot=a}Vg.prototype.unstable_scheduleHydration=function(a){if(a){var l=Li();a={blockedOn:null,target:a,priority:l};for(var h=0;h<zu.length&&l!==0&&l<zu[h].priority;h++);zu.splice(h,0,a),h===0&&h_(a)}};var p_=e.version;if(p_!=="19.1.0")throw Error(i(527,p_,"19.1.0"));he.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=c(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var gC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fg.isDisabled&&Fg.supportsFiber)try{yt=Fg.inject(gC),pt=Fg}catch{}}return kd.createRoot=function(a,l){if(!r(a))throw Error(i(299));var h=!1,d="",y=Rb,S=kb,U=Nb,te=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(U=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(te=l.unstable_transitionCallbacks)),l=r_(a,1,!1,null,null,h,d,y,S,U,te,null),a[Jn]=l.current,z0(a),new ay(l)},kd.hydrateRoot=function(a,l,h){if(!r(a))throw Error(i(299));var d=!1,y="",S=Rb,U=kb,te=Nb,de=null,Me=null;return h!=null&&(h.unstable_strictMode===!0&&(d=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(U=h.onCaughtError),h.onRecoverableError!==void 0&&(te=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(de=h.unstable_transitionCallbacks),h.formState!==void 0&&(Me=h.formState)),l=r_(a,1,!0,l,h??null,d,y,S,U,te,de,Me),l.context=s_(null),h=l.current,d=ta(),d=rr(d),y=Ue(d),y.callback=null,$e(h,y,d),h=d,l.current.lanes=h,xi(l,h),Qo(l),a[Jn]=l.current,z0(a),new Vg(l)},kd.version="19.1.0",kd}var A_;function TC(){if(A_)return uy.exports;A_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),uy.exports=LC(),uy.exports}var CC=TC(),Nd={},x_;function IC(){if(x_)return Nd;x_=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.parse=o,Nd.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,s=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function o(w,b){const A=new s,T=w.length;if(T<2)return A;const C=(b==null?void 0:b.decode)||p;let I=0;do{const j=w.indexOf("=",I);if(j===-1)break;const W=w.indexOf(";",I),Z=W===-1?T:W;if(j>Z){I=w.lastIndexOf(";",j-1)+1;continue}const X=u(w,I,j),se=c(w,j,X),B=w.slice(X,se);if(A[B]===void 0){let N=u(w,j+1,Z),O=c(w,Z,N);const G=C(w.slice(N,O));A[B]=G}I=Z+1}while(I<T);return A}function u(w,b,A){do{const T=w.charCodeAt(b);if(T!==32&&T!==9)return b}while(++b<A);return A}function c(w,b,A){for(;b>A;){const T=w.charCodeAt(--b);if(T!==32&&T!==9)return b+1}return A}function f(w,b,A){const T=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const C=T(b);if(!e.test(C))throw new TypeError(`argument val is invalid: ${b}`);let I=w+"="+C;if(!A)return I;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);I+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);I+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);I+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);I+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(I+="; HttpOnly"),A.secure&&(I+="; Secure"),A.partitioned&&(I+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return I}function p(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return r.call(w)==="[object Date]"}return Nd}IC();var L_="popstate";function RC(n={}){function e(i,r){let{pathname:s,search:o,hash:u}=i.location;return e1("",{pathname:s,search:o,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:cp(r)}return NC(e,t,null,n)}function Si(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cl(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kC(){return Math.random().toString(36).substring(2,10)}function T_(n,e){return{usr:n.state,key:n.key,idx:e}}function e1(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Pf(e):e,state:t,key:e&&e.key||i||kC()}}function cp({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Pf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function NC(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,u="POP",c=null,f=p();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function p(){return(o.state||{idx:null}).idx}function v(){u="POP";let C=p(),I=C==null?null:C-f;f=C,c&&c({action:u,location:T.location,delta:I})}function w(C,I){u="PUSH";let j=e1(T.location,C,I);f=p()+1;let W=T_(j,f),Z=T.createHref(j);try{o.pushState(W,"",Z)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;r.location.assign(Z)}s&&c&&c({action:u,location:T.location,delta:1})}function b(C,I){u="REPLACE";let j=e1(T.location,C,I);f=p();let W=T_(j,f),Z=T.createHref(j);o.replaceState(W,"",Z),s&&c&&c({action:u,location:T.location,delta:0})}function A(C){let I=r.location.origin!=="null"?r.location.origin:r.location.href,j=typeof C=="string"?C:cp(C);return j=j.replace(/ $/,"%20"),Si(I,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,I)}let T={get action(){return u},get location(){return n(r,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(L_,v),c=C,()=>{r.removeEventListener(L_,v),c=null}},createHref(C){return e(r,C)},createURL:A,encodeLocation(C){let I=A(C);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:w,replace:b,go(C){return o.go(C)}};return T}function ax(n,e,t="/"){return PC(n,e,t,!1)}function PC(n,e,t,i){let r=typeof e=="string"?Pf(e):e,s=nu(r.pathname||"/",t);if(s==null)return null;let o=ox(n);MC(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let f=GC(s);u=qC(o[c],f,i)}return u}function ox(n,e=[],t=[],i=""){let r=(s,o,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Si(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let f=tu([i,c.relativePath]),p=t.concat(c);s.children&&s.children.length>0&&(Si(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),ox(s.children,e,p,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:UC(f,s.index),routesMeta:p})};return n.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))r(s,o);else for(let c of lx(s.path))r(s,o,c)}),e}function lx(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=lx(i.join("/")),u=[];return u.push(...o.map(c=>c===""?s:[s,c].join("/"))),r&&u.push(...o),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function MC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var OC=/^:[\w-]+$/,DC=3,jC=2,BC=1,VC=10,FC=-2,C_=n=>n==="*";function UC(n,e){let t=n.split("/"),i=t.length;return t.some(C_)&&(i+=FC),e&&(i+=jC),t.filter(r=>!C_(r)).reduce((r,s)=>r+(OC.test(s)?DC:s===""?BC:VC),i)}function zC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function qC(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let u=0;u<i.length;++u){let c=i[u],f=u===i.length-1,p=s==="/"?e:e.slice(s.length)||"/",v=Dm({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),w=c.route;if(!v&&f&&t&&!i[i.length-1].route.index&&(v=Dm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!v)return null;Object.assign(r,v.params),o.push({params:r,pathname:tu([s,v.pathname]),pathnameBase:YC(tu([s,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(s=tu([s,v.pathnameBase]))}return o}function Dm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=HC(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:v},w)=>{if(p==="*"){let A=u[w]||"";o=s.slice(0,s.length-A.length).replace(/(.)\/+$/,"$1")}const b=u[w];return v&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:n}}function HC(n,e=!1,t=!0){cl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(i.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function GC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cl(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function nu(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function WC(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Pf(n):n;return{pathname:t?t.startsWith("/")?t:$C(t,e):e,search:XC(i),hash:QC(r)}}function $C(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function dy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ux(n){let e=KC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function cx(n,e,t,i=!1){let r;typeof n=="string"?r=Pf(n):(r={...n},Si(!r.pathname||!r.pathname.includes("?"),dy("?","pathname","search",r)),Si(!r.pathname||!r.pathname.includes("#"),dy("#","pathname","hash",r)),Si(!r.search||!r.search.includes("#"),dy("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,u;if(o==null)u=t;else{let v=e.length-1;if(!i&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),v-=1;r.pathname=w.join("/")}u=v>=0?e[v]:"/"}let c=WC(r,u),f=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}var tu=n=>n.join("/").replace(/\/\/+/g,"/"),YC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),XC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,QC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ZC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hx=["POST","PUT","PATCH","DELETE"];new Set(hx);var JC=["GET",...hx];new Set(JC);var Mf=R.createContext(null);Mf.displayName="DataRouter";var xv=R.createContext(null);xv.displayName="DataRouterState";var fx=R.createContext({isTransitioning:!1});fx.displayName="ViewTransition";var eI=R.createContext(new Map);eI.displayName="Fetchers";var tI=R.createContext(null);tI.displayName="Await";var dl=R.createContext(null);dl.displayName="Navigation";var Cp=R.createContext(null);Cp.displayName="Location";var ou=R.createContext({outlet:null,matches:[],isDataRoute:!1});ou.displayName="Route";var J1=R.createContext(null);J1.displayName="RouteError";function nI(n,{relative:e}={}){Si(Ip(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=R.useContext(dl),{hash:r,pathname:s,search:o}=Rp(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:tu([t,s])),i.createHref({pathname:u,search:o,hash:r})}function Ip(){return R.useContext(Cp)!=null}function yh(){return Si(Ip(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Cp).location}var dx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function px(n){R.useContext(dl).static||R.useLayoutEffect(n)}function gx(){let{isDataRoute:n}=R.useContext(ou);return n?gI():iI()}function iI(){Si(Ip(),"useNavigate() may be used only in the context of a <Router> component.");let n=R.useContext(Mf),{basename:e,navigator:t}=R.useContext(dl),{matches:i}=R.useContext(ou),{pathname:r}=yh(),s=JSON.stringify(ux(i)),o=R.useRef(!1);return px(()=>{o.current=!0}),R.useCallback((c,f={})=>{if(cl(o.current,dx),!o.current)return;if(typeof c=="number"){t.go(c);return}let p=cx(c,JSON.parse(s),r,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:tu([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,s,r,n])}R.createContext(null);function Rp(n,{relative:e}={}){let{matches:t}=R.useContext(ou),{pathname:i}=yh(),r=JSON.stringify(ux(t));return R.useMemo(()=>cx(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function rI(n,e){return mx(n,e)}function mx(n,e,t,i){var j;Si(Ip(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:s}=R.useContext(dl),{matches:o}=R.useContext(ou),u=o[o.length-1],c=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let W=v&&v.path||"";vx(f,!v||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=yh(),b;if(e){let W=typeof e=="string"?Pf(e):e;Si(p==="/"||((j=W.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${W.pathname}" was given in the \`location\` prop.`),b=W}else b=w;let A=b.pathname||"/",T=A;if(p!=="/"){let W=p.replace(/^\//,"").split("/");T="/"+A.replace(/^\//,"").split("/").slice(W.length).join("/")}let C=!s&&t&&t.matches&&t.matches.length>0?t.matches:ax(n,{pathname:T});cl(v||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),cl(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=uI(C&&C.map(W=>Object.assign({},W,{params:Object.assign({},c,W.params),pathname:tu([p,r.encodeLocation?r.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?p:tu([p,r.encodeLocation?r.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),o,t,i);return e&&I?R.createElement(Cp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},I):I}function sI(){let n=pI(),e=ZC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:s},"ErrorBoundary")," or"," ",R.createElement("code",{style:s},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:r},t):null,o)}var aI=R.createElement(sI,null),oI=class extends R.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?R.createElement(ou.Provider,{value:this.props.routeContext},R.createElement(J1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lI({routeContext:n,match:e,children:t}){let i=R.useContext(Mf);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(ou.Provider,{value:n},t)}function uI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,s=t==null?void 0:t.errors;if(s!=null){let c=r.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Si(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,c+1))}let o=!1,u=-1;if(t)for(let c=0;c<r.length;c++){let f=r[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:p,errors:v}=t,w=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||w){o=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((c,f,p)=>{let v,w=!1,b=null,A=null;t&&(v=s&&f.route.id?s[f.route.id]:void 0,b=f.route.errorElement||aI,o&&(u<0&&p===0?(vx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):u===p&&(w=!0,A=f.route.hydrateFallbackElement||null)));let T=e.concat(r.slice(0,p+1)),C=()=>{let I;return v?I=b:w?I=A:f.route.Component?I=R.createElement(f.route.Component,null):f.route.element?I=f.route.element:I=c,R.createElement(lI,{match:f,routeContext:{outlet:c,matches:T,isDataRoute:t!=null},children:I})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?R.createElement(oI,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:C(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):C()},null)}function e2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cI(n){let e=R.useContext(Mf);return Si(e,e2(n)),e}function hI(n){let e=R.useContext(xv);return Si(e,e2(n)),e}function fI(n){let e=R.useContext(ou);return Si(e,e2(n)),e}function t2(n){let e=fI(n),t=e.matches[e.matches.length-1];return Si(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function dI(){return t2("useRouteId")}function pI(){var i;let n=R.useContext(J1),e=hI("useRouteError"),t=t2("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function gI(){let{router:n}=cI("useNavigate"),e=t2("useNavigate"),t=R.useRef(!1);return px(()=>{t.current=!0}),R.useCallback(async(r,s={})=>{cl(t.current,dx),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var I_={};function vx(n,e,t){!e&&!I_[n]&&(I_[n]=!0,cl(!1,t))}R.memo(mI);function mI({routes:n,future:e,state:t}){return mx(n,void 0,t,e)}function eh(n){Si(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1}){Si(!Ip(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof t=="string"&&(t=Pf(t));let{pathname:c="/",search:f="",hash:p="",state:v=null,key:w="default"}=t,b=R.useMemo(()=>{let A=nu(c,o);return A==null?null:{location:{pathname:A,search:f,hash:p,state:v,key:w},navigationType:i}},[o,c,f,p,v,w,i]);return cl(b!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:R.createElement(dl.Provider,{value:u},R.createElement(Cp.Provider,{children:e,value:b}))}function R_({children:n,location:e}){return rI(t1(n),e)}function t1(n,e=[]){let t=[];return R.Children.forEach(n,(i,r)=>{if(!R.isValidElement(i))return;let s=[...e,r];if(i.type===R.Fragment){t.push.apply(t,t1(i.props.children,s));return}Si(i.type===eh,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Si(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=t1(i.props.children,s)),t.push(o)}),t}var gm="get",mm="application/x-www-form-urlencoded";function Lv(n){return n!=null&&typeof n.tagName=="string"}function yI(n){return Lv(n)&&n.tagName.toLowerCase()==="button"}function bI(n){return Lv(n)&&n.tagName.toLowerCase()==="form"}function _I(n){return Lv(n)&&n.tagName.toLowerCase()==="input"}function wI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function SI(n,e){return n.button===0&&(!e||e==="_self")&&!wI(n)}var Ug=null;function EI(){if(Ug===null)try{new FormData(document.createElement("form"),0),Ug=!1}catch{Ug=!0}return Ug}var AI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function py(n){return n!=null&&!AI.has(n)?(cl(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mm}"`),null):n}function xI(n,e){let t,i,r,s,o;if(bI(n)){let u=n.getAttribute("action");i=u?nu(u,e):null,t=n.getAttribute("method")||gm,r=py(n.getAttribute("enctype"))||mm,s=new FormData(n)}else if(yI(n)||_I(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(i=c?nu(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||gm,r=py(n.getAttribute("formenctype"))||py(u.getAttribute("enctype"))||mm,s=new FormData(u,n),!EI()){let{name:f,type:p,value:v}=n;if(p==="image"){let w=f?`${f}.`:"";s.append(`${w}x`,"0"),s.append(`${w}y`,"0")}else f&&s.append(f,v)}}else{if(Lv(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gm,i=null,r=mm,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:o}}function n2(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function LI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function CI(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await LI(s,t);return o.links?o.links():[]}return[]}));return NI(i.flat(1).filter(TI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function k_(n,e,t,i,r,s){let o=(c,f)=>t[f]?c.route.id!==t[f].route.id:!0,u=(c,f)=>{var p;return t[f].pathname!==c.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,f)=>o(c,f)||u(c,f)):s==="data"?e.filter((c,f)=>{var v;let p=i.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(o(c,f)||u(c,f))return!0;if(c.route.shouldRevalidate){let w=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function II(n,e,{includeHydrateFallback:t}={}){return RI(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function RI(n){return[...new Set(n)]}function kI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function NI(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(kI(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}var PI=new Set([100,101,204,205]);function MI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&nu(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function yx(){let n=R.useContext(Mf);return n2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function OI(){let n=R.useContext(xv);return n2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var i2=R.createContext(void 0);i2.displayName="FrameworkContext";function bx(){let n=R.useContext(i2);return n2(n,"You must render this element inside a <HydratedRouter> element"),n}function DI(n,e){let t=R.useContext(i2),[i,r]=R.useState(!1),[s,o]=R.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:f,onMouseLeave:p,onTouchStart:v}=e,w=R.useRef(null);R.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let T=I=>{I.forEach(j=>{o(j.isIntersecting)})},C=new IntersectionObserver(T,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[n]),R.useEffect(()=>{if(i){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[i]);let b=()=>{r(!0)},A=()=>{r(!1),o(!1)};return t?n!=="intent"?[s,w,{}]:[s,w,{onFocus:Pd(u,b),onBlur:Pd(c,A),onMouseEnter:Pd(f,b),onMouseLeave:Pd(p,A),onTouchStart:Pd(v,b)}]:[!1,w,{}]}function Pd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function jI({page:n,...e}){let{router:t}=yx(),i=R.useMemo(()=>ax(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?R.createElement(VI,{page:n,matches:i,...e}):null}function BI(n){let{manifest:e,routeModules:t}=bx(),[i,r]=R.useState([]);return R.useEffect(()=>{let s=!1;return CI(n,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[n,e,t]),i}function VI({page:n,matches:e,...t}){let i=yh(),{manifest:r,routeModules:s}=bx(),{basename:o}=yx(),{loaderData:u,matches:c}=OI(),f=R.useMemo(()=>k_(n,e,c,r,i,"data"),[n,e,c,r,i]),p=R.useMemo(()=>k_(n,e,c,r,i,"assets"),[n,e,c,r,i]),v=R.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,T=!1;if(e.forEach(I=>{var W;let j=r.routes[I.route.id];!j||!j.hasLoader||(!f.some(Z=>Z.route.id===I.route.id)&&I.route.id in u&&((W=s[I.route.id])!=null&&W.shouldRevalidate)||j.hasClientLoader?T=!0:A.add(I.route.id))}),A.size===0)return[];let C=MI(n,o);return T&&A.size>0&&C.searchParams.set("_routes",e.filter(I=>A.has(I.route.id)).map(I=>I.route.id).join(",")),[C.pathname+C.search]},[o,u,i,r,f,e,n,s]),w=R.useMemo(()=>II(p,r),[p,r]),b=BI(p);return R.createElement(R.Fragment,null,v.map(A=>R.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),w.map(A=>R.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),b.map(({key:A,link:T})=>R.createElement("link",{key:A,...T})))}function FI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var _x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_x&&(window.__reactRouterVersion="7.5.2")}catch{}function UI({basename:n,children:e,window:t}){let i=R.useRef();i.current==null&&(i.current=RC({window:t,v5Compat:!0}));let r=i.current,[s,o]=R.useState({action:r.action,location:r.location}),u=R.useCallback(c=>{R.startTransition(()=>o(c))},[o]);return R.useLayoutEffect(()=>r.listen(u),[r,u]),R.createElement(vI,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:r})}var wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sx=R.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:u,target:c,to:f,preventScrollReset:p,viewTransition:v,...w},b){let{basename:A}=R.useContext(dl),T=typeof f=="string"&&wx.test(f),C,I=!1;if(typeof f=="string"&&T&&(C=f,_x))try{let O=new URL(window.location.href),G=f.startsWith("//")?new URL(O.protocol+f):new URL(f),k=nu(G.pathname,A);G.origin===O.origin&&k!=null?f=k+G.search+G.hash:I=!0}catch{cl(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=nI(f,{relative:r}),[W,Z,X]=DI(i,w),se=HI(f,{replace:o,state:u,target:c,preventScrollReset:p,relative:r,viewTransition:v});function B(O){e&&e(O),O.defaultPrevented||se(O)}let N=R.createElement("a",{...w,...X,href:C||j,onClick:I||s?e:B,ref:FI(b,Z),target:c,"data-discover":!T&&t==="render"?"true":void 0});return W&&!T?R.createElement(R.Fragment,null,N,R.createElement(jI,{page:j})):N});Sx.displayName="Link";var Hd=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:u,children:c,...f},p){let v=Rp(o,{relative:f.relative}),w=yh(),b=R.useContext(xv),{navigator:A,basename:T}=R.useContext(dl),C=b!=null&&YI(v)&&u===!0,I=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,j=w.pathname,W=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(j=j.toLowerCase(),W=W?W.toLowerCase():null,I=I.toLowerCase()),W&&T&&(W=nu(W,T)||W);const Z=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let X=j===I||!r&&j.startsWith(I)&&j.charAt(Z)==="/",se=W!=null&&(W===I||!r&&W.startsWith(I)&&W.charAt(I.length)==="/"),B={isActive:X,isPending:se,isTransitioning:C},N=X?e:void 0,O;typeof i=="function"?O=i(B):O=[i,X?"active":null,se?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(B):s;return R.createElement(Sx,{...f,"aria-current":N,className:O,ref:p,style:G,to:o,viewTransition:u},typeof c=="function"?c(B):c)});Hd.displayName="NavLink";var zI=R.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:o=gm,action:u,onSubmit:c,relative:f,preventScrollReset:p,viewTransition:v,...w},b)=>{let A=$I(),T=KI(u,{relative:f}),C=o.toLowerCase()==="get"?"get":"post",I=typeof u=="string"&&wx.test(u),j=W=>{if(c&&c(W),W.defaultPrevented)return;W.preventDefault();let Z=W.nativeEvent.submitter,X=(Z==null?void 0:Z.getAttribute("formmethod"))||o;A(Z||W.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:r,state:s,relative:f,preventScrollReset:p,viewTransition:v})};return R.createElement("form",{ref:b,method:C,action:T,onSubmit:i?c:j,...w,"data-discover":!I&&n==="render"?"true":void 0})});zI.displayName="Form";function qI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ex(n){let e=R.useContext(Mf);return Si(e,qI(n)),e}function HI(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:o}={}){let u=gx(),c=yh(),f=Rp(n,{relative:s});return R.useCallback(p=>{if(SI(p,e)){p.preventDefault();let v=t!==void 0?t:cp(c)===cp(f);u(n,{replace:v,state:i,preventScrollReset:r,relative:s,viewTransition:o})}},[c,u,f,t,i,e,n,r,s,o])}var GI=0,WI=()=>`__${String(++GI)}__`;function $I(){let{router:n}=Ex("useSubmit"),{basename:e}=R.useContext(dl),t=dI();return R.useCallback(async(i,r={})=>{let{action:s,method:o,encType:u,formData:c,body:f}=xI(i,e);if(r.navigate===!1){let p=r.fetcherKey||WI();await n.fetch(p,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||o,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:c,body:f,formMethod:r.method||o,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function KI(n,{relative:e}={}){let{basename:t}=R.useContext(dl),i=R.useContext(ou);Si(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Rp(n||".",{relative:e})},o=yh();if(n==null){s.search=o.search;let u=new URLSearchParams(s.search),c=u.getAll("index");if(c.some(p=>p==="")){u.delete("index"),c.filter(v=>v).forEach(v=>u.append("index",v));let p=u.toString();s.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:tu([t,s.pathname])),cp(s)}function YI(n,e={}){let t=R.useContext(fx);Si(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ex("useViewTransitionState"),r=Rp(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=nu(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=nu(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Dm(r.pathname,o)!=null||Dm(r.pathname,s)!=null}new TextEncoder;[...PI];var Of=sx();const XI=()=>Ke.jsx("div",{className:"sidebar",children:Ke.jsxs("nav",{children:[Ke.jsx(Hd,{to:"/dashboard",className:({isActive:n})=>n?"active-link":"",children:"Dashboard"}),Ke.jsx(Hd,{to:"/register",className:({isActive:n})=>n?"active-link":"",children:"Register Doctor"}),Ke.jsx(Hd,{to:"/analytics",className:({isActive:n})=>n?"active-link":"",children:"Analytics"}),Ke.jsx(Hd,{to:"/reports",className:({isActive:n})=>n?"active-link":"",children:"Reports"})]})}),QI=()=>{};var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},ZI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],o=n[t++],u=n[t++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,u=o?n[r+1]:0,c=r+2<n.length,f=c?n[r+2]:0,p=s>>2,v=(s&3)<<4|u>>4;let w=(u&15)<<2|f>>6,b=f&63;c||(b=64,o||(w=64)),i.push(t[p],t[v],t[w],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Ax(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ZI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],u=r<n.length?t[n.charAt(r)]:0;++r;const f=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||u==null||f==null||v==null)throw new JI;const w=s<<2|u>>4;if(i.push(w),f!==64){const b=u<<4&240|f>>2;if(i.push(b),v!==64){const A=f<<6&192|v;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class JI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e6=function(n){const e=Ax(n);return xx.encodeByteArray(e,!0)},jm=function(n){return e6(n).replace(/\./g,"")},Lx=function(n){try{return xx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=()=>t6().__FIREBASE_DEFAULTS__,i6=()=>{if(typeof process>"u"||typeof N_>"u")return;const n=N_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},r6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Lx(n[1]);return e&&JSON.parse(e)},Tv=()=>{try{return QI()||n6()||i6()||r6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Tx=n=>{var e,t;return(t=(e=Tv())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Cx=n=>{const e=Tx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Ix=()=>{var n;return(n=Tv())===null||n===void 0?void 0:n.config},Rx=n=>{var e;return(e=Tv())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[jm(JSON.stringify(t)),jm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ls())}function o6(){var n;const e=(n=Tv())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u6(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function c6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h6(){const n=ls();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function f6(){return!o6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d6(){try{return typeof indexedDB=="object"}catch{return!1}}function p6(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="FirebaseError";class pl extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=g6,Object.setPrototypeOf(this,pl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kp.prototype.create)}}class kp{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?m6(s,i):"Error",u=`${this.serviceName}: ${o} (${r}).`;return new pl(r,u,i)}}function m6(n,e){return n.replace(v6,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const v6=/\{\$([^}]+)}/g;function y6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hh(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],o=e[r];if(P_(s)&&P_(o)){if(!hh(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function P_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Wd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function b6(n,e){const t=new _6(n,e);return t.subscribe.bind(t)}class _6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");w6(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=gy),r.error===void 0&&(r.error=gy),r.complete===void 0&&(r.complete=gy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function gy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(n){return n&&n._delegate?n._delegate:n}class dc{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new s6;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A6(e))try{this.getOrInitializeService({instanceIdentifier:th})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=th){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=th){return this.instances.has(e)}getOptions(e=th){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);i===u&&o.resolve(r)}return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:E6(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=th){return this.component?this.component.multipleInstances?e:th:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E6(n){return n===th?void 0:n}function A6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new S6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(hn||(hn={}));const L6={debug:hn.DEBUG,verbose:hn.VERBOSE,info:hn.INFO,warn:hn.WARN,error:hn.ERROR,silent:hn.SILENT},T6=hn.INFO,C6={[hn.DEBUG]:"log",[hn.VERBOSE]:"log",[hn.INFO]:"info",[hn.WARN]:"warn",[hn.ERROR]:"error"},I6=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=C6[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class r2{constructor(e){this.name=e,this._logLevel=T6,this._logHandler=I6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,hn.DEBUG,...e),this._logHandler(this,hn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,hn.VERBOSE,...e),this._logHandler(this,hn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,hn.INFO,...e),this._logHandler(this,hn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,hn.WARN,...e),this._logHandler(this,hn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,hn.ERROR,...e),this._logHandler(this,hn.ERROR,...e)}}const R6=(n,e)=>e.some(t=>n instanceof t);let M_,O_;function k6(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N6(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nx=new WeakMap,n1=new WeakMap,Px=new WeakMap,my=new WeakMap,s2=new WeakMap;function P6(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(rc(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Nx.set(t,n)}).catch(()=>{}),s2.set(e,n),e}function M6(n){if(n1.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});n1.set(n,e)}let i1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return n1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Px.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rc(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function O6(n){i1=n(i1)}function D6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(vy(this),e,...t);return Px.set(i,e.sort?e.sort():[e]),rc(i)}:N6().includes(n)?function(...e){return n.apply(vy(this),e),rc(Nx.get(this))}:function(...e){return rc(n.apply(vy(this),e))}}function j6(n){return typeof n=="function"?D6(n):(n instanceof IDBTransaction&&M6(n),R6(n,k6())?new Proxy(n,i1):n)}function rc(n){if(n instanceof IDBRequest)return P6(n);if(my.has(n))return my.get(n);const e=j6(n);return e!==n&&(my.set(n,e),s2.set(e,n)),e}const vy=n=>s2.get(n);function B6(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(n,e),u=rc(o);return i&&o.addEventListener("upgradeneeded",c=>{i(rc(o.result),c.oldVersion,c.newVersion,rc(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const V6=["get","getKey","getAll","getAllKeys","count"],F6=["put","add","delete","clear"],yy=new Map;function D_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(yy.get(e))return yy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=F6.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||V6.includes(t)))return;const s=async function(o,...u){const c=this.transaction(o,r?"readwrite":"readonly");let f=c.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),r&&c.done]))[0]};return yy.set(e,s),s}O6(n=>({...n,get:(e,t,i)=>D_(e,t)||n.get(e,t,i),has:(e,t)=>!!D_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(z6(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function z6(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const r1="@firebase/app",j_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new r2("@firebase/app"),q6="@firebase/app-compat",H6="@firebase/analytics-compat",G6="@firebase/analytics",W6="@firebase/app-check-compat",$6="@firebase/app-check",K6="@firebase/auth",Y6="@firebase/auth-compat",X6="@firebase/database",Q6="@firebase/data-connect",Z6="@firebase/database-compat",J6="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",iR="@firebase/messaging",rR="@firebase/messaging-compat",sR="@firebase/performance",aR="@firebase/performance-compat",oR="@firebase/remote-config",lR="@firebase/remote-config-compat",uR="@firebase/storage",cR="@firebase/storage-compat",hR="@firebase/firestore",fR="@firebase/vertexai",dR="@firebase/firestore-compat",pR="firebase",gR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="[DEFAULT]",mR={[r1]:"fire-core",[q6]:"fire-core-compat",[G6]:"fire-analytics",[H6]:"fire-analytics-compat",[$6]:"fire-app-check",[W6]:"fire-app-check-compat",[K6]:"fire-auth",[Y6]:"fire-auth-compat",[X6]:"fire-rtdb",[Q6]:"fire-data-connect",[Z6]:"fire-rtdb-compat",[J6]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[iR]:"fire-fcm",[rR]:"fire-fcm-compat",[sR]:"fire-perf",[aR]:"fire-perf-compat",[oR]:"fire-rc",[lR]:"fire-rc-compat",[uR]:"fire-gcs",[cR]:"fire-gcs-compat",[hR]:"fire-fst",[dR]:"fire-fst-compat",[fR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=new Map,vR=new Map,a1=new Map;function B_(n,e){try{n.container.addComponent(e)}catch(t){iu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function fh(n){const e=n.name;if(a1.has(e))return iu.debug(`There were multiple attempts to register component ${e}.`),!1;a1.set(e,n);for(const t of Bm.values())B_(t,n);for(const t of vR.values())B_(t,n);return!0}function Cv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Na(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sc=new kp("app","Firebase",yR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=gR;function Mx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:s1,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw sc.create("bad-app-name",{appName:String(r)});if(t||(t=Ix()),!t)throw sc.create("no-options");const s=Bm.get(r);if(s){if(hh(t,s.options)&&hh(i,s.config))return s;throw sc.create("duplicate-app",{appName:r})}const o=new x6(r);for(const c of a1.values())o.addComponent(c);const u=new bR(t,i,o);return Bm.set(r,u),u}function a2(n=s1){const e=Bm.get(n);if(!e&&n===s1&&Ix())return Mx();if(!e)throw sc.create("no-app",{appName:n});return e}function rl(n,e,t){var i;let r=(i=mR[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),iu.warn(u.join(" "));return}fh(new dc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firebase-heartbeat-database",wR=1,hp="firebase-heartbeat-store";let by=null;function Ox(){return by||(by=B6(_R,wR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hp)}catch(t){console.warn(t)}}}}).catch(n=>{throw sc.create("idb-open",{originalErrorMessage:n.message})})),by}async function SR(n){try{const t=(await Ox()).transaction(hp),i=await t.objectStore(hp).get(Dx(n));return await t.done,i}catch(e){if(e instanceof pl)iu.warn(e.message);else{const t=sc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});iu.warn(t.message)}}}async function V_(n,e){try{const i=(await Ox()).transaction(hp,"readwrite");await i.objectStore(hp).put(e,Dx(n)),await i.done}catch(t){if(t instanceof pl)iu.warn(t.message);else{const i=sc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});iu.warn(i.message)}}}function Dx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1024,AR=30;class xR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=F_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>AR){const o=CR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){iu.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=F_(),{heartbeatsToSend:i,unsentEntries:r}=LR(this._heartbeatsCache.heartbeats),s=jm(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return iu.warn(t),""}}}function F_(){return new Date().toISOString().substring(0,10)}function LR(n,e=ER){const t=[];let i=n.slice();for(const r of n){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),U_(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),U_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class TR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d6()?p6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return V_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const r=await this.read();return V_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function U_(n){return jm(JSON.stringify({version:2,heartbeats:n})).length}function CR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n){fh(new dc("platform-logger",e=>new U6(e),"PRIVATE")),fh(new dc("heartbeat",e=>new xR(e),"PRIVATE")),rl(r1,j_,n),rl(r1,j_,"esm2017"),rl("fire-js","")}IR("");var RR="firebase",kR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rl(RR,kR,"app");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ac,jx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,N){function O(){}O.prototype=N.prototype,B.D=N.prototype,B.prototype=new O,B.prototype.constructor=B,B.C=function(G,k,M){for(var V=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)V[oe-2]=arguments[oe];return N.prototype[k].apply(G,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(B,N,O){O||(O=0);var G=Array(16);if(typeof N=="string")for(var k=0;16>k;++k)G[k]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(k=0;16>k;++k)G[k]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=B.g[0],O=B.g[1],k=B.g[2];var M=B.g[3],V=N+(M^O&(k^M))+G[0]+3614090360&4294967295;N=O+(V<<7&4294967295|V>>>25),V=M+(k^N&(O^k))+G[1]+3905402710&4294967295,M=N+(V<<12&4294967295|V>>>20),V=k+(O^M&(N^O))+G[2]+606105819&4294967295,k=M+(V<<17&4294967295|V>>>15),V=O+(N^k&(M^N))+G[3]+3250441966&4294967295,O=k+(V<<22&4294967295|V>>>10),V=N+(M^O&(k^M))+G[4]+4118548399&4294967295,N=O+(V<<7&4294967295|V>>>25),V=M+(k^N&(O^k))+G[5]+1200080426&4294967295,M=N+(V<<12&4294967295|V>>>20),V=k+(O^M&(N^O))+G[6]+2821735955&4294967295,k=M+(V<<17&4294967295|V>>>15),V=O+(N^k&(M^N))+G[7]+4249261313&4294967295,O=k+(V<<22&4294967295|V>>>10),V=N+(M^O&(k^M))+G[8]+1770035416&4294967295,N=O+(V<<7&4294967295|V>>>25),V=M+(k^N&(O^k))+G[9]+2336552879&4294967295,M=N+(V<<12&4294967295|V>>>20),V=k+(O^M&(N^O))+G[10]+4294925233&4294967295,k=M+(V<<17&4294967295|V>>>15),V=O+(N^k&(M^N))+G[11]+2304563134&4294967295,O=k+(V<<22&4294967295|V>>>10),V=N+(M^O&(k^M))+G[12]+1804603682&4294967295,N=O+(V<<7&4294967295|V>>>25),V=M+(k^N&(O^k))+G[13]+4254626195&4294967295,M=N+(V<<12&4294967295|V>>>20),V=k+(O^M&(N^O))+G[14]+2792965006&4294967295,k=M+(V<<17&4294967295|V>>>15),V=O+(N^k&(M^N))+G[15]+1236535329&4294967295,O=k+(V<<22&4294967295|V>>>10),V=N+(k^M&(O^k))+G[1]+4129170786&4294967295,N=O+(V<<5&4294967295|V>>>27),V=M+(O^k&(N^O))+G[6]+3225465664&4294967295,M=N+(V<<9&4294967295|V>>>23),V=k+(N^O&(M^N))+G[11]+643717713&4294967295,k=M+(V<<14&4294967295|V>>>18),V=O+(M^N&(k^M))+G[0]+3921069994&4294967295,O=k+(V<<20&4294967295|V>>>12),V=N+(k^M&(O^k))+G[5]+3593408605&4294967295,N=O+(V<<5&4294967295|V>>>27),V=M+(O^k&(N^O))+G[10]+38016083&4294967295,M=N+(V<<9&4294967295|V>>>23),V=k+(N^O&(M^N))+G[15]+3634488961&4294967295,k=M+(V<<14&4294967295|V>>>18),V=O+(M^N&(k^M))+G[4]+3889429448&4294967295,O=k+(V<<20&4294967295|V>>>12),V=N+(k^M&(O^k))+G[9]+568446438&4294967295,N=O+(V<<5&4294967295|V>>>27),V=M+(O^k&(N^O))+G[14]+3275163606&4294967295,M=N+(V<<9&4294967295|V>>>23),V=k+(N^O&(M^N))+G[3]+4107603335&4294967295,k=M+(V<<14&4294967295|V>>>18),V=O+(M^N&(k^M))+G[8]+1163531501&4294967295,O=k+(V<<20&4294967295|V>>>12),V=N+(k^M&(O^k))+G[13]+2850285829&4294967295,N=O+(V<<5&4294967295|V>>>27),V=M+(O^k&(N^O))+G[2]+4243563512&4294967295,M=N+(V<<9&4294967295|V>>>23),V=k+(N^O&(M^N))+G[7]+1735328473&4294967295,k=M+(V<<14&4294967295|V>>>18),V=O+(M^N&(k^M))+G[12]+2368359562&4294967295,O=k+(V<<20&4294967295|V>>>12),V=N+(O^k^M)+G[5]+4294588738&4294967295,N=O+(V<<4&4294967295|V>>>28),V=M+(N^O^k)+G[8]+2272392833&4294967295,M=N+(V<<11&4294967295|V>>>21),V=k+(M^N^O)+G[11]+1839030562&4294967295,k=M+(V<<16&4294967295|V>>>16),V=O+(k^M^N)+G[14]+4259657740&4294967295,O=k+(V<<23&4294967295|V>>>9),V=N+(O^k^M)+G[1]+2763975236&4294967295,N=O+(V<<4&4294967295|V>>>28),V=M+(N^O^k)+G[4]+1272893353&4294967295,M=N+(V<<11&4294967295|V>>>21),V=k+(M^N^O)+G[7]+4139469664&4294967295,k=M+(V<<16&4294967295|V>>>16),V=O+(k^M^N)+G[10]+3200236656&4294967295,O=k+(V<<23&4294967295|V>>>9),V=N+(O^k^M)+G[13]+681279174&4294967295,N=O+(V<<4&4294967295|V>>>28),V=M+(N^O^k)+G[0]+3936430074&4294967295,M=N+(V<<11&4294967295|V>>>21),V=k+(M^N^O)+G[3]+3572445317&4294967295,k=M+(V<<16&4294967295|V>>>16),V=O+(k^M^N)+G[6]+76029189&4294967295,O=k+(V<<23&4294967295|V>>>9),V=N+(O^k^M)+G[9]+3654602809&4294967295,N=O+(V<<4&4294967295|V>>>28),V=M+(N^O^k)+G[12]+3873151461&4294967295,M=N+(V<<11&4294967295|V>>>21),V=k+(M^N^O)+G[15]+530742520&4294967295,k=M+(V<<16&4294967295|V>>>16),V=O+(k^M^N)+G[2]+3299628645&4294967295,O=k+(V<<23&4294967295|V>>>9),V=N+(k^(O|~M))+G[0]+4096336452&4294967295,N=O+(V<<6&4294967295|V>>>26),V=M+(O^(N|~k))+G[7]+1126891415&4294967295,M=N+(V<<10&4294967295|V>>>22),V=k+(N^(M|~O))+G[14]+2878612391&4294967295,k=M+(V<<15&4294967295|V>>>17),V=O+(M^(k|~N))+G[5]+4237533241&4294967295,O=k+(V<<21&4294967295|V>>>11),V=N+(k^(O|~M))+G[12]+1700485571&4294967295,N=O+(V<<6&4294967295|V>>>26),V=M+(O^(N|~k))+G[3]+2399980690&4294967295,M=N+(V<<10&4294967295|V>>>22),V=k+(N^(M|~O))+G[10]+4293915773&4294967295,k=M+(V<<15&4294967295|V>>>17),V=O+(M^(k|~N))+G[1]+2240044497&4294967295,O=k+(V<<21&4294967295|V>>>11),V=N+(k^(O|~M))+G[8]+1873313359&4294967295,N=O+(V<<6&4294967295|V>>>26),V=M+(O^(N|~k))+G[15]+4264355552&4294967295,M=N+(V<<10&4294967295|V>>>22),V=k+(N^(M|~O))+G[6]+2734768916&4294967295,k=M+(V<<15&4294967295|V>>>17),V=O+(M^(k|~N))+G[13]+1309151649&4294967295,O=k+(V<<21&4294967295|V>>>11),V=N+(k^(O|~M))+G[4]+4149444226&4294967295,N=O+(V<<6&4294967295|V>>>26),V=M+(O^(N|~k))+G[11]+3174756917&4294967295,M=N+(V<<10&4294967295|V>>>22),V=k+(N^(M|~O))+G[2]+718787259&4294967295,k=M+(V<<15&4294967295|V>>>17),V=O+(M^(k|~N))+G[9]+3951481745&4294967295,B.g[0]=B.g[0]+N&4294967295,B.g[1]=B.g[1]+(k+(V<<21&4294967295|V>>>11))&4294967295,B.g[2]=B.g[2]+k&4294967295,B.g[3]=B.g[3]+M&4294967295}i.prototype.u=function(B,N){N===void 0&&(N=B.length);for(var O=N-this.blockSize,G=this.B,k=this.h,M=0;M<N;){if(k==0)for(;M<=O;)r(this,B,M),M+=this.blockSize;if(typeof B=="string"){for(;M<N;)if(G[k++]=B.charCodeAt(M++),k==this.blockSize){r(this,G),k=0;break}}else for(;M<N;)if(G[k++]=B[M++],k==this.blockSize){r(this,G),k=0;break}}this.h=k,this.o+=N},i.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var N=1;N<B.length-8;++N)B[N]=0;var O=8*this.o;for(N=B.length-8;N<B.length;++N)B[N]=O&255,O/=256;for(this.u(B),B=Array(16),N=O=0;4>N;++N)for(var G=0;32>G;G+=8)B[O++]=this.g[N]>>>G&255;return B};function s(B,N){var O=u;return Object.prototype.hasOwnProperty.call(O,B)?O[B]:O[B]=N(B)}function o(B,N){this.h=N;for(var O=[],G=!0,k=B.length-1;0<=k;k--){var M=B[k]|0;G&&M==N||(O[k]=M,G=!1)}this.g=O}var u={};function c(B){return-128<=B&&128>B?s(B,function(N){return new o([N|0],0>N?-1:0)}):new o([B|0],0>B?-1:0)}function f(B){if(isNaN(B)||!isFinite(B))return v;if(0>B)return C(f(-B));for(var N=[],O=1,G=0;B>=O;G++)N[G]=B/O|0,O*=4294967296;return new o(N,0)}function p(B,N){if(B.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(B.charAt(0)=="-")return C(p(B.substring(1),N));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=f(Math.pow(N,8)),G=v,k=0;k<B.length;k+=8){var M=Math.min(8,B.length-k),V=parseInt(B.substring(k,k+M),N);8>M?(M=f(Math.pow(N,M)),G=G.j(M).add(f(V))):(G=G.j(O),G=G.add(f(V)))}return G}var v=c(0),w=c(1),b=c(16777216);n=o.prototype,n.m=function(){if(T(this))return-C(this).m();for(var B=0,N=1,O=0;O<this.g.length;O++){var G=this.i(O);B+=(0<=G?G:4294967296+G)*N,N*=4294967296}return B},n.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(A(this))return"0";if(T(this))return"-"+C(this).toString(B);for(var N=f(Math.pow(B,6)),O=this,G="";;){var k=Z(O,N).g;O=I(O,k.j(N));var M=((0<O.g.length?O.g[0]:O.h)>>>0).toString(B);if(O=k,A(O))return M+G;for(;6>M.length;)M="0"+M;G=M+G}},n.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function A(B){if(B.h!=0)return!1;for(var N=0;N<B.g.length;N++)if(B.g[N]!=0)return!1;return!0}function T(B){return B.h==-1}n.l=function(B){return B=I(this,B),T(B)?-1:A(B)?0:1};function C(B){for(var N=B.g.length,O=[],G=0;G<N;G++)O[G]=~B.g[G];return new o(O,~B.h).add(w)}n.abs=function(){return T(this)?C(this):this},n.add=function(B){for(var N=Math.max(this.g.length,B.g.length),O=[],G=0,k=0;k<=N;k++){var M=G+(this.i(k)&65535)+(B.i(k)&65535),V=(M>>>16)+(this.i(k)>>>16)+(B.i(k)>>>16);G=V>>>16,M&=65535,V&=65535,O[k]=V<<16|M}return new o(O,O[O.length-1]&-2147483648?-1:0)};function I(B,N){return B.add(C(N))}n.j=function(B){if(A(this)||A(B))return v;if(T(this))return T(B)?C(this).j(C(B)):C(C(this).j(B));if(T(B))return C(this.j(C(B)));if(0>this.l(b)&&0>B.l(b))return f(this.m()*B.m());for(var N=this.g.length+B.g.length,O=[],G=0;G<2*N;G++)O[G]=0;for(G=0;G<this.g.length;G++)for(var k=0;k<B.g.length;k++){var M=this.i(G)>>>16,V=this.i(G)&65535,oe=B.i(k)>>>16,pe=B.i(k)&65535;O[2*G+2*k]+=V*pe,j(O,2*G+2*k),O[2*G+2*k+1]+=M*pe,j(O,2*G+2*k+1),O[2*G+2*k+1]+=V*oe,j(O,2*G+2*k+1),O[2*G+2*k+2]+=M*oe,j(O,2*G+2*k+2)}for(G=0;G<N;G++)O[G]=O[2*G+1]<<16|O[2*G];for(G=N;G<2*N;G++)O[G]=0;return new o(O,0)};function j(B,N){for(;(B[N]&65535)!=B[N];)B[N+1]+=B[N]>>>16,B[N]&=65535,N++}function W(B,N){this.g=B,this.h=N}function Z(B,N){if(A(N))throw Error("division by zero");if(A(B))return new W(v,v);if(T(B))return N=Z(C(B),N),new W(C(N.g),C(N.h));if(T(N))return N=Z(B,C(N)),new W(C(N.g),N.h);if(30<B.g.length){if(T(B)||T(N))throw Error("slowDivide_ only works with positive integers.");for(var O=w,G=N;0>=G.l(B);)O=X(O),G=X(G);var k=se(O,1),M=se(G,1);for(G=se(G,2),O=se(O,2);!A(G);){var V=M.add(G);0>=V.l(B)&&(k=k.add(O),M=V),G=se(G,1),O=se(O,1)}return N=I(B,k.j(N)),new W(k,N)}for(k=v;0<=B.l(N);){for(O=Math.max(1,Math.floor(B.m()/N.m())),G=Math.ceil(Math.log(O)/Math.LN2),G=48>=G?1:Math.pow(2,G-48),M=f(O),V=M.j(N);T(V)||0<V.l(B);)O-=G,M=f(O),V=M.j(N);A(M)&&(M=w),k=k.add(M),B=I(B,V)}return new W(k,B)}n.A=function(B){return Z(this,B).h},n.and=function(B){for(var N=Math.max(this.g.length,B.g.length),O=[],G=0;G<N;G++)O[G]=this.i(G)&B.i(G);return new o(O,this.h&B.h)},n.or=function(B){for(var N=Math.max(this.g.length,B.g.length),O=[],G=0;G<N;G++)O[G]=this.i(G)|B.i(G);return new o(O,this.h|B.h)},n.xor=function(B){for(var N=Math.max(this.g.length,B.g.length),O=[],G=0;G<N;G++)O[G]=this.i(G)^B.i(G);return new o(O,this.h^B.h)};function X(B){for(var N=B.g.length+1,O=[],G=0;G<N;G++)O[G]=B.i(G)<<1|B.i(G-1)>>>31;return new o(O,B.h)}function se(B,N){var O=N>>5;N%=32;for(var G=B.g.length-O,k=[],M=0;M<G;M++)k[M]=0<N?B.i(M+O)>>>N|B.i(M+O+1)<<32-N:B.i(M+O);return new o(k,B.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,jx=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=p,ac=o}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bx,$d,Vx,vm,o1,Fx,Ux,zx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,L,D){return m==Array.prototype||m==Object.prototype||(m[L]=D.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof zg=="object"&&zg];for(var L=0;L<m.length;++L){var D=m[L];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var i=t(this);function r(m,L){if(L)e:{var D=i;m=m.split(".");for(var ee=0;ee<m.length-1;ee++){var Ae=m[ee];if(!(Ae in D))break e;D=D[Ae]}m=m[m.length-1],ee=D[m],L=L(ee),L!=ee&&L!=null&&e(D,m,{configurable:!0,writable:!0,value:L})}}function s(m,L){m instanceof String&&(m+="");var D=0,ee=!1,Ae={next:function(){if(!ee&&D<m.length){var Pe=D++;return{value:L(Pe,m[Pe]),done:!1}}return ee=!0,{done:!0,value:void 0}}};return Ae[Symbol.iterator]=function(){return Ae},Ae}r("Array.prototype.values",function(m){return m||function(){return s(this,function(L,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function c(m){var L=typeof m;return L=L!="object"?L:m?Array.isArray(m)?"array":L:"null",L=="array"||L=="object"&&typeof m.length=="number"}function f(m){var L=typeof m;return L=="object"&&m!=null||L=="function"}function p(m,L,D){return m.call.apply(m.bind,arguments)}function v(m,L,D){if(!m)throw Error();if(2<arguments.length){var ee=Array.prototype.slice.call(arguments,2);return function(){var Ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ae,ee),m.apply(L,Ae)}}return function(){return m.apply(L,arguments)}}function w(m,L,D){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:v,w.apply(null,arguments)}function b(m,L){var D=Array.prototype.slice.call(arguments,1);return function(){var ee=D.slice();return ee.push.apply(ee,arguments),m.apply(this,ee)}}function A(m,L){function D(){}D.prototype=L.prototype,m.aa=L.prototype,m.prototype=new D,m.prototype.constructor=m,m.Qb=function(ee,Ae,Pe){for(var Je=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)Je[kt-2]=arguments[kt];return L.prototype[Ae].apply(ee,Je)}}function T(m){const L=m.length;if(0<L){const D=Array(L);for(let ee=0;ee<L;ee++)D[ee]=m[ee];return D}return[]}function C(m,L){for(let D=1;D<arguments.length;D++){const ee=arguments[D];if(c(ee)){const Ae=m.length||0,Pe=ee.length||0;m.length=Ae+Pe;for(let Je=0;Je<Pe;Je++)m[Ae+Je]=ee[Je]}else m.push(ee)}}class I{constructor(L,D){this.i=L,this.j=D,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function j(m){return/^[\s\xa0]*$/.test(m)}function W(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function Z(m){return Z[" "](m),m}Z[" "]=function(){};var X=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function se(m,L,D){for(const ee in m)L.call(D,m[ee],ee,m)}function B(m,L){for(const D in m)L.call(void 0,m[D],D,m)}function N(m){const L={};for(const D in m)L[D]=m[D];return L}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(m,L){let D,ee;for(let Ae=1;Ae<arguments.length;Ae++){ee=arguments[Ae];for(D in ee)m[D]=ee[D];for(let Pe=0;Pe<O.length;Pe++)D=O[Pe],Object.prototype.hasOwnProperty.call(ee,D)&&(m[D]=ee[D])}}function k(m){var L=1;m=m.split(":");const D=[];for(;0<L&&m.length;)D.push(m.shift()),L--;return m.length&&D.push(m.join(":")),D}function M(m){u.setTimeout(()=>{throw m},0)}function V(){var m=Se;let L=null;return m.g&&(L=m.g,m.g=m.g.next,m.g||(m.h=null),L.next=null),L}class oe{constructor(){this.h=this.g=null}add(L,D){const ee=pe.get();ee.set(L,D),this.h?this.h.next=ee:this.g=ee,this.h=ee}}var pe=new I(()=>new re,m=>m.reset());class re{constructor(){this.next=this.g=this.h=null}set(L,D){this.h=L,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ce=!1,Se=new oe,K=()=>{const m=u.Promise.resolve(void 0);he=()=>{m.then(ve)}};var ve=()=>{for(var m;m=V();){try{m.h.call(m.g)}catch(D){M(D)}var L=pe;L.j(m),100>L.h&&(L.h++,m.next=L.g,L.g=m)}ce=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(m,L){this.type=m,this.g=this.target=L,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,L=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const D=()=>{};u.addEventListener("test",D,L),u.removeEventListener("test",D,L)}catch{}return m}();function Q(m,L){if(H.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var D=this.type=m.type,ee=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=L,L=m.relatedTarget){if(X){e:{try{Z(L.nodeName);var Ae=!0;break e}catch{}Ae=!1}Ae||(L=null)}}else D=="mouseover"?L=m.fromElement:D=="mouseout"&&(L=m.toElement);this.relatedTarget=L,ee?(this.clientX=ee.clientX!==void 0?ee.clientX:ee.pageX,this.clientY=ee.clientY!==void 0?ee.clientY:ee.pageY,this.screenX=ee.screenX||0,this.screenY=ee.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ue[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Q.aa.h.call(this)}}A(Q,H);var ue={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),me=0;function Ce(m,L,D,ee,Ae){this.listener=m,this.proxy=null,this.src=L,this.type=D,this.capture=!!ee,this.ha=Ae,this.key=++me,this.da=this.fa=!1}function je(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ve(m){this.src=m,this.g={},this.h=0}Ve.prototype.add=function(m,L,D,ee,Ae){var Pe=m.toString();m=this.g[Pe],m||(m=this.g[Pe]=[],this.h++);var Je=nt(m,L,ee,Ae);return-1<Je?(L=m[Je],D||(L.fa=!1)):(L=new Ce(L,this.src,Pe,!!ee,Ae),L.fa=D,m.push(L)),L};function tt(m,L){var D=L.type;if(D in m.g){var ee=m.g[D],Ae=Array.prototype.indexOf.call(ee,L,void 0),Pe;(Pe=0<=Ae)&&Array.prototype.splice.call(ee,Ae,1),Pe&&(je(L),m.g[D].length==0&&(delete m.g[D],m.h--))}}function nt(m,L,D,ee){for(var Ae=0;Ae<m.length;++Ae){var Pe=m[Ae];if(!Pe.da&&Pe.listener==L&&Pe.capture==!!D&&Pe.ha==ee)return Ae}return-1}var St="closure_lm_"+(1e6*Math.random()|0),Ne={};function fe(m,L,D,ee,Ae){if(Array.isArray(L)){for(var Pe=0;Pe<L.length;Pe++)fe(m,L[Pe],D,ee,Ae);return null}return D=Ot(D),m&&m[we]?m.K(L,D,f(ee)?!!ee.capture:!1,Ae):Et(m,L,D,!1,ee,Ae)}function Et(m,L,D,ee,Ae,Pe){if(!L)throw Error("Invalid event type");var Je=f(Ae)?!!Ae.capture:!!Ae,kt=vt(m);if(kt||(m[St]=kt=new Ve(m)),D=kt.add(L,D,ee,Je,Pe),D.proxy)return D;if(ee=mt(),D.proxy=ee,ee.src=m,ee.listener=D,m.addEventListener)ie||(Ae=Je),Ae===void 0&&(Ae=!1),m.addEventListener(L.toString(),ee,Ae);else if(m.attachEvent)m.attachEvent(rt(L.toString()),ee);else if(m.addListener&&m.removeListener)m.addListener(ee);else throw Error("addEventListener and attachEvent are unavailable.");return D}function mt(){function m(D){return L.call(m.src,m.listener,D)}const L=at;return m}function et(m,L,D,ee,Ae){if(Array.isArray(L))for(var Pe=0;Pe<L.length;Pe++)et(m,L[Pe],D,ee,Ae);else ee=f(ee)?!!ee.capture:!!ee,D=Ot(D),m&&m[we]?(m=m.i,L=String(L).toString(),L in m.g&&(Pe=m.g[L],D=nt(Pe,D,ee,Ae),-1<D&&(je(Pe[D]),Array.prototype.splice.call(Pe,D,1),Pe.length==0&&(delete m.g[L],m.h--)))):m&&(m=vt(m))&&(L=m.g[L.toString()],m=-1,L&&(m=nt(L,D,ee,Ae)),(D=-1<m?L[m]:null)&&it(D))}function it(m){if(typeof m!="number"&&m&&!m.da){var L=m.src;if(L&&L[we])tt(L.i,m);else{var D=m.type,ee=m.proxy;L.removeEventListener?L.removeEventListener(D,ee,m.capture):L.detachEvent?L.detachEvent(rt(D),ee):L.addListener&&L.removeListener&&L.removeListener(ee),(D=vt(L))?(tt(D,m),D.h==0&&(D.src=null,L[St]=null)):je(m)}}}function rt(m){return m in Ne?Ne[m]:Ne[m]="on"+m}function at(m,L){if(m.da)m=!0;else{L=new Q(L,this);var D=m.listener,ee=m.ha||m.src;m.fa&&it(m),m=D.call(ee,L)}return m}function vt(m){return m=m[St],m instanceof Ve?m:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(m){return typeof m=="function"?m:(m[It]||(m[It]=function(L){return m.handleEvent(L)}),m[It])}function yt(){F.call(this),this.i=new Ve(this),this.M=this,this.F=null}A(yt,F),yt.prototype[we]=!0,yt.prototype.removeEventListener=function(m,L,D,ee){et(this,m,L,D,ee)};function pt(m,L){var D,ee=m.F;if(ee)for(D=[];ee;ee=ee.F)D.push(ee);if(m=m.M,ee=L.type||L,typeof L=="string")L=new H(L,m);else if(L instanceof H)L.target=L.target||m;else{var Ae=L;L=new H(ee,m),G(L,Ae)}if(Ae=!0,D)for(var Pe=D.length-1;0<=Pe;Pe--){var Je=L.g=D[Pe];Ae=qt(Je,ee,!0,L)&&Ae}if(Je=L.g=m,Ae=qt(Je,ee,!0,L)&&Ae,Ae=qt(Je,ee,!1,L)&&Ae,D)for(Pe=0;Pe<D.length;Pe++)Je=L.g=D[Pe],Ae=qt(Je,ee,!1,L)&&Ae}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var m=this.i,L;for(L in m.g){for(var D=m.g[L],ee=0;ee<D.length;ee++)je(D[ee]);delete m.g[L],m.h--}}this.F=null},yt.prototype.K=function(m,L,D,ee){return this.i.add(String(m),L,!1,D,ee)},yt.prototype.L=function(m,L,D,ee){return this.i.add(String(m),L,!0,D,ee)};function qt(m,L,D,ee){if(L=m.i.g[String(L)],!L)return!0;L=L.concat();for(var Ae=!0,Pe=0;Pe<L.length;++Pe){var Je=L[Pe];if(Je&&!Je.da&&Je.capture==D){var kt=Je.listener,on=Je.ha||Je.src;Je.fa&&tt(m.i,Je),Ae=kt.call(on,ee)!==!1&&Ae}}return Ae&&!ee.defaultPrevented}function dt(m,L,D){if(typeof m=="function")D&&(m=w(m,D));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:u.setTimeout(m,L||0)}function Ht(m){m.g=dt(()=>{m.g=null,m.i&&(m.i=!1,Ht(m))},m.l);const L=m.h;m.h=null,m.m.apply(null,L)}class ut extends F{constructor(L,D){super(),this.m=L,this.l=D,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(m){F.call(this),this.h=m,this.g={}}A(Zn,F);var Gt=[];function Ai(m){se(m.g,function(L,D){this.g.hasOwnProperty(D)&&it(L)},m),m.g={}}Zn.prototype.N=function(){Zn.aa.N.call(this),Ai(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=u.JSON.stringify,vn=u.JSON.parse,mi=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function tn(){}tn.prototype.h=null;function pr(m){return m.h||(m.h=m.i())}function Mn(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xi(){H.call(this,"d")}A(xi,H);function Sn(){H.call(this,"c")}A(Sn,H);var At={},Xt=null;function rr(){return Xt=Xt||new yt}At.La="serverreachability";function Vn(m){H.call(this,At.La,m)}A(Vn,H);function Li(m){const L=rr();pt(L,new Vn(L))}At.STAT_EVENT="statevent";function Lr(m,L){H.call(this,At.STAT_EVENT,m),this.stat=L}A(Lr,H);function ct(m){const L=rr();pt(L,new Lr(L,m))}At.Ma="timingevent";function ht(m,L){H.call(this,At.Ma,m),this.size=L}A(ht,H);function On(m,L){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},L)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function si(m,L,D,ee,Ae,Pe){m.info(function(){if(m.g)if(Pe)for(var Je="",kt=Pe.split("&"),on=0;on<kt.length;on++){var Ut=kt[on].split("=");if(1<Ut.length){var Tn=Ut[0];Ut=Ut[1];var Dn=Tn.split("_");Je=2<=Dn.length&&Dn[1]=="type"?Je+(Tn+"="+Ut+"&"):Je+(Tn+"=redacted&")}}else Je=null;else Je=Pe;return"XMLHTTP REQ ("+ee+") [attempt "+Ae+"]: "+L+`
`+D+`
`+Je})}function hi(m,L,D,ee,Ae,Pe,Je){m.info(function(){return"XMLHTTP RESP ("+ee+") [ attempt "+Ae+"]: "+L+`
`+D+`
`+Pe+" "+Je})}function Ti(m,L,D,ee){m.info(function(){return"XMLHTTP TEXT ("+L+"): "+Tr(m,D)+(ee?" "+ee:"")})}function Da(m,L){m.info(function(){return"TIMEOUT: "+L})}Jn.prototype.info=function(){};function Tr(m,L){if(!m.g)return L;if(!L)return null;try{var D=JSON.parse(L);if(D){for(m=0;m<D.length;m++)if(Array.isArray(D[m])){var ee=D[m];if(!(2>ee.length)){var Ae=ee[1];if(Array.isArray(Ae)&&!(1>Ae.length)){var Pe=Ae[0];if(Pe!="noop"&&Pe!="stop"&&Pe!="close")for(var Je=1;Je<Ae.length;Je++)Ae[Je]=""}}}}return $t(D)}catch{return L}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ci;function ji(){}A(ji,tn),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},Ci=new ji;function $n(m,L,D,ee){this.j=m,this.i=L,this.l=D,this.R=ee||1,this.U=new Zn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}var Ds={},js={};function gr(m,L,D){m.L=1,m.v=ca(ar(L)),m.m=D,m.P=!0,Vr(m,null)}function Vr(m,L){m.F=Date.now(),Ba(m),m.A=ar(m.v);var D=m.A,ee=m.R;Array.isArray(ee)||(ee=[String(ee)]),Rt(D.i,"t",ee),m.C=0,D=m.j.J,m.h=new xn,m.g=q(m.j,D?L:null,!m.m),0<m.O&&(m.M=new ut(w(m.Y,m,m.g),m.O)),L=m.U,D=m.g,ee=m.ca;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(Gt[0]=Ae.toString()),Ae=Gt);for(var Pe=0;Pe<Ae.length;Pe++){var Je=fe(D,Ae[Pe],ee||L.handleEvent,!1,L.h||L);if(!Je)break;L.g[Je.key]=Je}L=m.H?N(m.H):{},m.m?(m.u||(m.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,L)):(m.u="GET",m.g.ea(m.A,m.u,null,L)),Li(),si(m.i,m.u,m.A,m.l,m.R,m.m)}$n.prototype.ca=function(m){m=m.target;const L=this.M;L&&Ri(m)==3?L.j():this.Y(m)},$n.prototype.Y=function(m){try{if(m==this.g)e:{const Dn=Ri(this.g);var L=this.g.Ba();const Es=this.g.Z();if(!(3>Dn)&&(Dn!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||Dn!=4||L==7||(L==8||0>=Es?Li(3):Li(2)),us(this);var D=this.g.Z();this.X=D;t:if(ja(this)){var ee=du(this.g);m="";var Ae=ee.length,Pe=Ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bi(this),cs(this);var Je="";break t}this.h.i=new u.TextDecoder}for(L=0;L<Ae;L++)this.h.h=!0,m+=this.h.i.decode(ee[L],{stream:!(Pe&&L==Ae-1)});ee.length=0,this.h.g+=m,this.C=0,Je=this.h.g}else Je=this.g.oa();if(this.o=D==200,hi(this.i,this.u,this.A,this.l,this.R,Dn,D),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,on=this.g;if((kt=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(kt)){var Ut=kt;break t}}Ut=null}if(D=Ut)Ti(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bs(this,D);else{this.o=!1,this.s=3,ct(12),Bi(this),cs(this);break e}}if(this.P){D=!0;let vi;for(;!this.J&&this.C<Je.length;)if(vi=vl(this,Je),vi==js){Dn==4&&(this.s=4,ct(14),D=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(vi==Ds){this.s=4,ct(15),Ti(this.i,this.l,Je,"[Invalid Chunk]"),D=!1;break}else Ti(this.i,this.l,vi,null),Bs(this,vi);if(ja(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dn!=4||Je.length!=0||this.h.h||(this.s=1,ct(16),D=!1),this.o=this.o&&D,!D)Ti(this.i,this.l,Je,"[Invalid Chunked Response]"),Bi(this),cs(this);else if(0<Je.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+Je.length),ma(Tn),Tn.M=!0,ct(11))}}else Ti(this.i,this.l,Je,null),Bs(this,Je);Dn==4&&Bi(this),this.o&&!this.J&&(Dn==4?va(this.j,this):(this.o=!1,Ba(this)))}else da(this.g),D==400&&0<Je.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Bi(this),cs(this)}}}catch{}finally{}};function ja(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function vl(m,L){var D=m.C,ee=L.indexOf(`
`,D);return ee==-1?js:(D=Number(L.substring(D,ee)),isNaN(D)?Ds:(ee+=1,ee+D>L.length?js:(L=L.slice(ee,ee+D),m.C=ee+D,L)))}$n.prototype.cancel=function(){this.J=!0,Bi(this)};function Ba(m){m.S=Date.now()+m.I,lu(m,m.I)}function lu(m,L){if(m.B!=null)throw Error("WatchDog timer not null");m.B=On(w(m.ba,m),L)}function us(m){m.B&&(u.clearTimeout(m.B),m.B=null)}$n.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Da(this.i,this.A),this.L!=2&&(Li(),ct(17)),Bi(this),this.s=2,cs(this)):lu(this,this.S-m)};function cs(m){m.j.G==0||m.J||va(m.j,m)}function Bi(m){us(m);var L=m.M;L&&typeof L.ma=="function"&&L.ma(),m.M=null,Ai(m.U),m.g&&(L=m.g,m.g=null,L.abort(),L.ma())}function Bs(m,L){try{var D=m.j;if(D.G!=0&&(D.g==m||yl(D.h,m))){if(!m.K&&yl(D.h,m)&&D.G==3){try{var ee=D.Da.g.parse(L)}catch{ee=null}if(Array.isArray(ee)&&ee.length==3){var Ae=ee;if(Ae[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<m.F)Ws(D),xo(D);else break e;Ha(D),ct(18)}}else D.za=Ae[1],0<D.za-D.T&&37500>Ae[2]&&D.F&&D.v==0&&!D.C&&(D.C=On(w(D.Za,D),6e3));if(1>=Vs(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else br(D,11)}else if((m.K||D.g==m)&&Ws(D),!j(L))for(Ae=D.Da.g.parse(L),L=0;L<Ae.length;L++){let Ut=Ae[L];if(D.T=Ut[0],Ut=Ut[1],D.G==2)if(Ut[0]=="c"){D.K=Ut[1],D.ia=Ut[2];const Tn=Ut[3];Tn!=null&&(D.la=Tn,D.j.info("VER="+D.la));const Dn=Ut[4];Dn!=null&&(D.Aa=Dn,D.j.info("SVER="+D.Aa));const Es=Ut[5];Es!=null&&typeof Es=="number"&&0<Es&&(ee=1.5*Es,D.L=ee,D.j.info("backChannelRequestTimeoutMs_="+ee)),ee=D;const vi=m.g;if(vi){const Hr=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var Pe=ee.h;Pe.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(Kn(Pe,Pe.h),Pe.h=null))}if(ee.D){const ya=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(ee.ya=ya,Ln(ee.I,ee.D,ya))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-m.F,D.j.info("Handshake RTT: "+D.R+"ms")),ee=D;var Je=m;if(ee.qa=E(ee,ee.J?ee.ia:null,ee.W),Je.K){Qi(ee.h,Je);var kt=Je,on=ee.L;on&&(kt.I=on),kt.B&&(us(kt),Ba(kt)),ee.g=Je}else To(ee);0<D.i.length&&Lo(D)}else Ut[0]!="stop"&&Ut[0]!="close"||br(D,7);else D.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?br(D,7):Gs(D):Ut[0]!="noop"&&D.l&&D.l.ta(Ut),D.v=0)}}Li(4)}catch{}}var uu=class{constructor(m,L){this.g=m,this.map=L}};function gs(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wo(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Vs(m){return m.h?1:m.g?m.g.size:0}function yl(m,L){return m.h?m.h==L:m.g?m.g.has(L):!1}function Kn(m,L){m.g?m.g.add(L):m.h=L}function Qi(m,L){m.h&&m.h==L?m.h=null:m.g&&m.g.has(L)&&m.g.delete(L)}gs.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function So(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let L=m.i;for(const D of m.g.values())L=L.concat(D.D);return L}return T(m.i)}function cu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var L=[],D=m.length,ee=0;ee<D;ee++)L.push(m[ee]);return L}L=[],D=0;for(ee in m)L[D++]=m[ee];return L}function oa(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var L=[];m=m.length;for(var D=0;D<m;D++)L.push(D);return L}L=[],D=0;for(const ee in m)L[D++]=ee;return L}}}function bl(m,L){if(m.forEach&&typeof m.forEach=="function")m.forEach(L,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,L,void 0);else for(var D=oa(m),ee=cu(m),Ae=ee.length,Pe=0;Pe<Ae;Pe++)L.call(void 0,ee[Pe],D&&D[Pe],m)}var sr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eo(m,L){if(m){m=m.split("&");for(var D=0;D<m.length;D++){var ee=m[D].indexOf("="),Ae=null;if(0<=ee){var Pe=m[D].substring(0,ee);Ae=m[D].substring(ee+1)}else Pe=m[D];L(Pe,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function pn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof pn){this.h=m.h,la(this,m.j),this.o=m.o,this.g=m.g,ua(this,m.s),this.l=m.l;var L=m.i,D=new vs;D.i=L.i,L.g&&(D.g=new Map(L.g),D.h=L.h),ms(this,D),this.m=m.m}else m&&(L=String(m).match(sr))?(this.h=!1,la(this,L[1]||"",!0),this.o=Fr(L[2]||""),this.g=Fr(L[3]||"",!0),ua(this,L[4]),this.l=Fr(L[5]||"",!0),ms(this,L[6]||"",!0),this.m=Fr(L[7]||"")):(this.h=!1,this.i=new vs(null,this.h))}pn.prototype.toString=function(){var m=[],L=this.j;L&&m.push(Fs(L,_l,!0),":");var D=this.g;return(D||L=="file")&&(m.push("//"),(L=this.o)&&m.push(Fs(L,_l,!0),"@"),m.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&m.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&m.push("/"),m.push(Fs(D,D.charAt(0)=="/"?Us:wl,!0))),(D=this.i.toString())&&m.push("?",D),(D=this.m)&&m.push("#",Fs(D,zs)),m.join("")};function ar(m){return new pn(m)}function la(m,L,D){m.j=D?Fr(L,!0):L,m.j&&(m.j=m.j.replace(/:$/,""))}function ua(m,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);m.s=L}else m.s=null}function ms(m,L,D){L instanceof vs?(m.i=L,fu(m.i,m.h)):(D||(L=Fs(L,Ao)),m.i=new vs(L,m.h))}function Ln(m,L,D){m.i.set(L,D)}function ca(m){return Ln(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Fr(m,L){return m?L?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Fs(m,L,D){return typeof m=="string"?(m=encodeURI(m).replace(L,hu),D&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function hu(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var _l=/[#\/\?@]/g,wl=/[#\?:]/g,Us=/[#\?]/g,Ao=/[#\?@]/g,zs=/#/g;function vs(m,L){this.h=this.g=null,this.i=m||null,this.j=!!L}function Fn(m){m.g||(m.g=new Map,m.h=0,m.i&&Eo(m.i,function(L,D){m.add(decodeURIComponent(L.replace(/\+/g," ")),D)}))}n=vs.prototype,n.add=function(m,L){Fn(this),this.i=null,m=bs(this,m);var D=this.g.get(m);return D||this.g.set(m,D=[]),D.push(L),this.h+=1,this};function qs(m,L){Fn(m),L=bs(m,L),m.g.has(L)&&(m.i=null,m.h-=m.g.get(L).length,m.g.delete(L))}function ys(m,L){return Fn(m),L=bs(m,L),m.g.has(L)}n.forEach=function(m,L){Fn(this),this.g.forEach(function(D,ee){D.forEach(function(Ae){m.call(L,Ae,ee,this)},this)},this)},n.na=function(){Fn(this);const m=Array.from(this.g.values()),L=Array.from(this.g.keys()),D=[];for(let ee=0;ee<L.length;ee++){const Ae=m[ee];for(let Pe=0;Pe<Ae.length;Pe++)D.push(L[ee])}return D},n.V=function(m){Fn(this);let L=[];if(typeof m=="string")ys(this,m)&&(L=L.concat(this.g.get(bs(this,m))));else{m=Array.from(this.g.values());for(let D=0;D<m.length;D++)L=L.concat(m[D])}return L},n.set=function(m,L){return Fn(this),this.i=null,m=bs(this,m),ys(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[L]),this.h+=1,this},n.get=function(m,L){return m?(m=this.V(m),0<m.length?String(m[0]):L):L};function Rt(m,L,D){qs(m,L),0<D.length&&(m.i=null,m.g.set(bs(m,L),T(D)),m.h+=D.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],L=Array.from(this.g.keys());for(var D=0;D<L.length;D++){var ee=L[D];const Pe=encodeURIComponent(String(ee)),Je=this.V(ee);for(ee=0;ee<Je.length;ee++){var Ae=Pe;Je[ee]!==""&&(Ae+="="+encodeURIComponent(String(Je[ee]))),m.push(Ae)}}return this.i=m.join("&")};function bs(m,L){return L=String(L),m.j&&(L=L.toLowerCase()),L}function fu(m,L){L&&!m.j&&(Fn(m),m.i=null,m.g.forEach(function(D,ee){var Ae=ee.toLowerCase();ee!=Ae&&(qs(this,ee),Rt(this,Ae,D))},m)),m.j=L}function mr(m,L){const D=new Jn;if(u.Image){const ee=new Image;ee.onload=b(Cr,D,"TestLoadImage: loaded",!0,L,ee),ee.onerror=b(Cr,D,"TestLoadImage: error",!1,L,ee),ee.onabort=b(Cr,D,"TestLoadImage: abort",!1,L,ee),ee.ontimeout=b(Cr,D,"TestLoadImage: timeout",!1,L,ee),u.setTimeout(function(){ee.ontimeout&&ee.ontimeout()},1e4),ee.src=m}else L(!1)}function Ur(m,L){const D=new Jn,ee=new AbortController,Ae=setTimeout(()=>{ee.abort(),Cr(D,"TestPingServer: timeout",!1,L)},1e4);fetch(m,{signal:ee.signal}).then(Pe=>{clearTimeout(Ae),Pe.ok?Cr(D,"TestPingServer: ok",!0,L):Cr(D,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Ae),Cr(D,"TestPingServer: error",!1,L)})}function Cr(m,L,D,ee,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),ee(D)}catch{}}function _s(){this.g=new mi}function zr(m,L,D){const ee=D||"";try{bl(m,function(Ae,Pe){let Je=Ae;f(Ae)&&(Je=$t(Ae)),L.push(ee+Pe+"="+encodeURIComponent(Je))})}catch(Ae){throw L.push(ee+"type="+encodeURIComponent("_badmap")),Ae}}function ha(m){this.l=m.Ub||null,this.j=m.eb||!1}A(ha,tn),ha.prototype.g=function(){return new Hs(this.l,this.j)},ha.prototype.i=function(m){return function(){return m}}({});function Hs(m,L){yt.call(this),this.D=m,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Hs,yt),n=Hs.prototype,n.open=function(m,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=L,this.readyState=1,vr(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(L.body=m),(this.D||u).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qr(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sl(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sl(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var L=m.value?m.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!m.done}))&&(this.response=this.responseText+=L)}m.done?qr(this):vr(this),this.readyState==3&&Sl(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,qr(this))},n.Qa=function(m){this.g&&(this.response=m,qr(this))},n.ga=function(){this.g&&qr(this)};function qr(m){m.readyState=4,m.l=null,m.j=null,m.v=null,vr(m)}n.setRequestHeader=function(m,L){this.u.append(m,L)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],L=this.h.entries();for(var D=L.next();!D.done;)D=D.value,m.push(D[0]+": "+D[1]),D=L.next();return m.join(`\r
`)};function vr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ws(m){let L="";return se(m,function(D,ee){L+=ee,L+=":",L+=D,L+=`\r
`}),L}function Ii(m,L,D){e:{for(ee in D){var ee=!1;break e}ee=!0}ee||(D=ws(D),typeof m=="string"?D!=null&&encodeURIComponent(String(D)):Ln(m,L,D))}function an(m){yt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(an,yt);var fa=/^https?$/i,Ss=["POST","PUT"];n=an.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,L,D,ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);L=L?L.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ci.g(),this.v=this.o?pr(this.o):pr(Ci),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(L,String(m),!0),this.B=!1}catch(Pe){El(this,Pe);return}if(m=D||"",D=new Map(this.headers),ee)if(Object.getPrototypeOf(ee)===Object.prototype)for(var Ae in ee)D.set(Ae,ee[Ae]);else if(typeof ee.keys=="function"&&typeof ee.get=="function")for(const Pe of ee.keys())D.set(Pe,ee.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(ee));ee=Array.from(D.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),Ae=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ss,L,void 0))||ee||Ae||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,Je]of D)this.g.setRequestHeader(Pe,Je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yr(this),this.u=!0,this.g.send(m),this.u=!1}catch(Pe){El(this,Pe)}};function El(m,L){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=L,m.m=5,Va(m),hs(m)}function Va(m){m.A||(m.A=!0,pt(m,"complete"),pt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,pt(this,"complete"),pt(this,"abort"),hs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),an.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},n.bb=function(){Fa(this)};function Fa(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Ri(m)!=4||m.Z()!=2)){if(m.u&&Ri(m)==4)dt(m.Ea,0,m);else if(pt(m,"readystatechange"),Ri(m)==4){m.h=!1;try{const Je=m.Z();e:switch(Je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var D;if(!(D=L)){var ee;if(ee=Je===0){var Ae=String(m.D).match(sr)[1]||null;!Ae&&u.self&&u.self.location&&(Ae=u.self.location.protocol.slice(0,-1)),ee=!fa.test(Ae?Ae.toLowerCase():"")}D=ee}if(D)pt(m,"complete"),pt(m,"success");else{m.m=6;try{var Pe=2<Ri(m)?m.g.statusText:""}catch{Pe=""}m.l=Pe+" ["+m.Z()+"]",Va(m)}}finally{hs(m)}}}}function hs(m,L){if(m.g){yr(m);const D=m.g,ee=m.v[0]?()=>{}:null;m.g=null,m.v=null,L||pt(m,"ready");try{D.onreadystatechange=ee}catch{}}}function yr(m){m.I&&(u.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Ri(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Ri(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var L=this.g.responseText;return m&&L.indexOf(m)==0&&(L=L.substring(m.length)),vn(L)}};function du(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function da(m){const L={};m=(m.g&&2<=Ri(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let ee=0;ee<m.length;ee++){if(j(m[ee]))continue;var D=k(m[ee]);const Ae=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const Pe=L[Ae]||[];L[Ae]=Pe,Pe.push(D)}B(L,function(ee){return ee.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(m,L,D){return D&&D.internalChannelParams&&D.internalChannelParams[m]||L}function pa(m){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,m),this.cb=or("retryDelaySeedMs",1e4,m),this.Wa=or("forwardChannelMaxRetries",2,m),this.wa=or("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new gs(m&&m.concurrentRequestLimit),this.Da=new _s,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=pa.prototype,n.la=8,n.G=1,n.connect=function(m,L,D,ee){ct(0),this.W=m,this.H=L||{},D&&ee!==void 0&&(this.H.OSID=D,this.H.OAID=ee),this.F=this.X,this.I=E(this,null,this.W),Lo(this)};function Gs(m){if(Ua(m),m.G==3){var L=m.U++,D=ar(m.I);if(Ln(D,"SID",m.K),Ln(D,"RID",L),Ln(D,"TYPE","terminate"),ga(m,D),L=new $n(m,m.j,L),L.L=2,L.v=ca(ar(D)),D=!1,u.navigator&&u.navigator.sendBeacon)try{D=u.navigator.sendBeacon(L.v.toString(),"")}catch{}!D&&u.Image&&(new Image().src=L.v,D=!0),D||(L.g=q(L.j,null),L.g.ea(L.v)),L.F=Date.now(),Ba(L)}Co(m)}function xo(m){m.g&&(ma(m),m.g.cancel(),m.g=null)}function Ua(m){xo(m),m.u&&(u.clearTimeout(m.u),m.u=null),Ws(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Lo(m){if(!wo(m.h)&&!m.s){m.s=!0;var L=m.Ga;he||K(),ce||(he(),ce=!0),Se.add(L,m),m.B=0}}function Al(m,L){return Vs(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=L.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=On(w(m.Ga,m,L),Ga(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Ae=new $n(this,this.j,m);let Pe=this.o;if(this.S&&(Pe?(Pe=N(Pe),G(Pe,this.S)):Pe=this.S),this.m!==null||this.O||(Ae.H=Pe,Pe=null),this.P)e:{for(var L=0,D=0;D<this.i.length;D++){t:{var ee=this.i[D];if("__data__"in ee.map&&(ee=ee.map.__data__,typeof ee=="string")){ee=ee.length;break t}ee=void 0}if(ee===void 0)break;if(L+=ee,4096<L){L=D;break e}if(L===4096||D===this.i.length-1){L=D+1;break e}}L=1e3}else L=1e3;L=qa(this,Ae,L),D=ar(this.I),Ln(D,"RID",m),Ln(D,"CVER",22),this.D&&Ln(D,"X-HTTP-Session-Id",this.D),ga(this,D),Pe&&(this.O?L="headers="+encodeURIComponent(String(ws(Pe)))+"&"+L:this.m&&Ii(D,this.m,Pe)),Kn(this.h,Ae),this.Ua&&Ln(D,"TYPE","init"),this.P?(Ln(D,"$req",L),Ln(D,"SID","null"),Ae.T=!0,gr(Ae,D,null)):gr(Ae,D,L),this.G=2}}else this.G==3&&(m?za(this,m):this.i.length==0||wo(this.h)||za(this))};function za(m,L){var D;L?D=L.l:D=m.U++;const ee=ar(m.I);Ln(ee,"SID",m.K),Ln(ee,"RID",D),Ln(ee,"AID",m.T),ga(m,ee),m.m&&m.o&&Ii(ee,m.m,m.o),D=new $n(m,m.j,D,m.B+1),m.m===null&&(D.H=m.o),L&&(m.i=L.D.concat(m.i)),L=qa(m,D,1e3),D.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Kn(m.h,D),gr(D,ee,L)}function ga(m,L){m.H&&se(m.H,function(D,ee){Ln(L,ee,D)}),m.l&&bl({},function(D,ee){Ln(L,ee,D)})}function qa(m,L,D){D=Math.min(m.i.length,D);var ee=m.l?w(m.l.Na,m.l,m):null;e:{var Ae=m.i;let Pe=-1;for(;;){const Je=["count="+D];Pe==-1?0<D?(Pe=Ae[0].g,Je.push("ofs="+Pe)):Pe=0:Je.push("ofs="+Pe);let kt=!0;for(let on=0;on<D;on++){let Ut=Ae[on].g;const Tn=Ae[on].map;if(Ut-=Pe,0>Ut)Pe=Math.max(0,Ae[on].g-100),kt=!1;else try{zr(Tn,Je,"req"+Ut+"_")}catch{ee&&ee(Tn)}}if(kt){ee=Je.join("&");break e}}}return m=m.i.splice(0,D),L.D=m,ee}function To(m){if(!m.g&&!m.u){m.Y=1;var L=m.Fa;he||K(),ce||(he(),ce=!0),Se.add(L,m),m.v=0}}function Ha(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=On(w(m.Fa,m),Ga(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=On(w(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),xo(this),pu(this))};function ma(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function pu(m){m.g=new $n(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var L=ar(m.qa);Ln(L,"RID","rpc"),Ln(L,"SID",m.K),Ln(L,"AID",m.T),Ln(L,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ln(L,"TO",m.ja),Ln(L,"TYPE","xmlhttp"),ga(m,L),m.m&&m.o&&Ii(L,m.m,m.o),m.L&&(m.g.I=m.L);var D=m.g;m=m.ia,D.L=1,D.v=ca(ar(L)),D.m=null,D.P=!0,Vr(D,m)}n.Za=function(){this.C!=null&&(this.C=null,xo(this),Ha(this),ct(19))};function Ws(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function va(m,L){var D=null;if(m.g==L){Ws(m),ma(m),m.g=null;var ee=2}else if(yl(m.h,L))D=L.D,Qi(m.h,L),ee=1;else return;if(m.G!=0){if(L.o)if(ee==1){D=L.m?L.m.length:0,L=Date.now()-L.F;var Ae=m.B;ee=rr(),pt(ee,new ht(ee,D)),Lo(m)}else To(m);else if(Ae=L.s,Ae==3||Ae==0&&0<L.X||!(ee==1&&Al(m,L)||ee==2&&Ha(m)))switch(D&&0<D.length&&(L=m.h,L.i=L.i.concat(D)),Ae){case 1:br(m,5);break;case 4:br(m,10);break;case 3:br(m,6);break;default:br(m,2)}}}function Ga(m,L){let D=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(D*=2),D*L}function br(m,L){if(m.j.info("Error code "+L),L==2){var D=w(m.fb,m),ee=m.Xa;const Ae=!ee;ee=new pn(ee||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||la(ee,"https"),ca(ee),Ae?mr(ee.toString(),D):Ur(ee.toString(),D)}else ct(2);m.G=0,m.l&&m.l.sa(L),Co(m),Ua(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Co(m){if(m.G=0,m.ka=[],m.l){const L=So(m.h);(L.length!=0||m.i.length!=0)&&(C(m.ka,L),C(m.ka,m.i),m.h.i.length=0,T(m.i),m.i.length=0),m.l.ra()}}function E(m,L,D){var ee=D instanceof pn?ar(D):new pn(D);if(ee.g!="")L&&(ee.g=L+"."+ee.g),ua(ee,ee.s);else{var Ae=u.location;ee=Ae.protocol,L=L?L+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;var Pe=new pn(null);ee&&la(Pe,ee),L&&(Pe.g=L),Ae&&ua(Pe,Ae),D&&(Pe.l=D),ee=Pe}return D=m.D,L=m.ya,D&&L&&Ln(ee,D,L),Ln(ee,"VER",m.la),ga(m,ee),ee}function q(m,L,D){if(L&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=m.Ca&&!m.pa?new an(new ha({eb:D})):new an(m.pa),L.Ha(m.J),L}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function le(){}n=le.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ge(){}ge.prototype.g=function(m,L){return new xe(m,L)};function xe(m,L){yt.call(this),this.g=new pa(L),this.l=m,this.h=L&&L.messageUrlParams||null,m=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(m?m["X-WebChannel-Content-Type"]=L.messageContentType:m={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(m?m["X-WebChannel-Client-Profile"]=L.va:m={"X-WebChannel-Client-Profile":L.va}),this.g.S=m,(m=L&&L.Sb)&&!j(m)&&(this.g.m=m),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!j(L)&&(this.g.D=L,m=this.h,m!==null&&L in m&&(m=this.h,L in m&&delete m[L])),this.j=new ot(this)}A(xe,yt),xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xe.prototype.close=function(){Gs(this.g)},xe.prototype.o=function(m){var L=this.g;if(typeof m=="string"){var D={};D.__data__=m,m=D}else this.u&&(D={},D.__data__=$t(m),m=D);L.i.push(new uu(L.Ya++,m)),L.G==3&&Lo(L)},xe.prototype.N=function(){this.g.l=null,delete this.j,Gs(this.g),delete this.g,xe.aa.N.call(this)};function Fe(m){xi.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var L=m.__sm__;if(L){e:{for(const D in L){m=D;break e}m=void 0}(this.i=m)&&(m=this.i,L=L!==null&&m in L?L[m]:void 0),this.data=L}else this.data=m}A(Fe,xi);function Ze(){Sn.call(this),this.status=1}A(Ze,Sn);function ot(m){this.g=m}A(ot,le),ot.prototype.ua=function(){pt(this.g,"a")},ot.prototype.ta=function(m){pt(this.g,new Fe(m))},ot.prototype.sa=function(m){pt(this.g,new Ze)},ot.prototype.ra=function(){pt(this.g,"b")},ge.prototype.createWebChannel=ge.prototype.g,xe.prototype.send=xe.prototype.o,xe.prototype.open=xe.prototype.m,xe.prototype.close=xe.prototype.close,zx=function(){return new ge},Ux=function(){return rr()},Fx=At,o1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,vm=Xi,Di.COMPLETE="complete",Vx=Di,Mn.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",yt.prototype.listen=yt.prototype.K,$d=Mn,an.prototype.listenOnce=an.prototype.L,an.prototype.getLastError=an.prototype.Ka,an.prototype.getLastErrorCode=an.prototype.Ba,an.prototype.getStatus=an.prototype.Z,an.prototype.getResponseJson=an.prototype.Oa,an.prototype.getResponseText=an.prototype.oa,an.prototype.send=an.prototype.ea,an.prototype.setWithCredentials=an.prototype.Ha,Bx=an}).apply(typeof zg<"u"?zg:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",H_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new r2("@firebase/firestore");function nf(){return dh.logLevel}function gt(n,...e){if(dh.logLevel<=hn.DEBUG){const t=e.map(o2);dh.debug(`Firestore (${Df}): ${n}`,...t)}}function ru(n,...e){if(dh.logLevel<=hn.ERROR){const t=e.map(o2);dh.error(`Firestore (${Df}): ${n}`,...t)}}function Ef(n,...e){if(dh.logLevel<=hn.WARN){const t=e.map(o2);dh.warn(`Firestore (${Df}): ${n}`,...t)}}function o2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n="Unexpected state"){const e=`FIRESTORE (${Df}) INTERNAL ASSERTION FAILED: `+n;throw ru(e),new Error(e)}function Bn(n,e){n||Ft()}function Yt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wt extends pl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(is.UNAUTHENTICATED))}shutdown(){}}class PR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MR{constructor(e){this.t=e,this.currentUser=is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Bn(this.o===void 0);let i=this.i;const r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new oc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new oc,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},u=c=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new oc)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Bn(typeof i.accessToken=="string"),new qx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bn(e===null||typeof e=="string"),new is(e)}}class OR{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=is.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class DR{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new OR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jR{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Na(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Bn(this.o===void 0);const i=s=>{s.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,gt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new G_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Bn(typeof t.token=="string"),this.R=t.token,new G_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=BR(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function sn(n,e){return n<e?-1:n>e?1:0}function l1(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return sn(i,r);{const s=Hx(),o=VR(s.encode(W_(n,t)),s.encode(W_(e,t)));return o!==0?o:sn(i,r)}}t+=i>65535?2:1}return sn(n.length,e.length)}function W_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function VR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return sn(n[t],e[t]);return sn(n.length,e.length)}function Af(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-62135596800,K_=1e6;class hr{static now(){return hr.fromMillis(Date.now())}static fromDate(e){return hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*K_);return new hr(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$_)throw new wt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K_}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new hr(0,0))}static max(){return new Wt(new hr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class nl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ft(),i===void 0?i=e.length-t:i>e.length-t&&Ft(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return nl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=nl.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return sn(e.length,t.length)}static compareSegments(e,t){const i=nl.isNumericId(e),r=nl.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?nl.extractNumericId(e).compare(nl.extractNumericId(t)):l1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ac.fromString(e.substring(4,e.length-2))}}class li extends nl{construct(e,t,i){return new li(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new wt(Qe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new li(t)}static emptyPath(){return new li([])}}const FR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends nl{construct(e,t,i){return new Dr(e,t,i)}static isValidIdentifier(e){return FR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new Dr([Y_])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new wt(Qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new wt(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new wt(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else u==="`"?(o=!o,r++):u!=="."||o?(i+=u,r++):(s(),r++)}if(s(),o)throw new wt(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dr(t)}static emptyPath(){return new Dr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.path=e}static fromPath(e){return new Ct(li.fromString(e))}static fromName(e){return new Ct(li.fromString(e).popFirst(5))}static empty(){return new Ct(li.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&li.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return li.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ct(new li(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=-1;function UR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Wt.fromTimestamp(i===1e9?new hr(t+1,0):new hr(t,i));return new pc(r,Ct.empty(),e)}function zR(n){return new pc(n.readTime,n.key,fp)}class pc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new pc(Wt.min(),Ct.empty(),fp)}static max(){return new pc(Wt.max(),Ct.empty(),fp)}}function qR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ct.comparator(n.documentKey,e.documentKey),t!==0?t:sn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(n){if(n.code!==Qe.FAILED_PRECONDITION||n.message!==HR)throw n;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Xe?t:Xe.resolve(t)}catch(t){return Xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Xe.reject(t)}static resolve(e){return new Xe((t,i)=>{t(e)})}static reject(e){return new Xe((t,i)=>{i(e)})}static waitFor(e){return new Xe((t,i)=>{let r=0,s=0,o=!1;e.forEach(u=>{++r,u.next(()=>{++s,o&&s===r&&t()},c=>i(c))}),o=!0,s===r&&t()})}static or(e){let t=Xe.resolve(!1);for(const i of e)t=t.next(r=>r?Xe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new Xe((i,r)=>{const s=e.length,o=new Array(s);let u=0;for(let c=0;c<s;c++){const f=c;t(e[f]).next(p=>{o[f]=p,++u,u===s&&i(o)},p=>r(p))}})}static doWhile(e,t){return new Xe((i,r)=>{const s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}}function WR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bf(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Iv.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=-1;function Rv(n){return n==null}function Vm(n){return n===0&&1/n==-1/0}function $R(n){return typeof n=="number"&&Number.isInteger(n)&&!Vm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="";function KR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=X_(e)),e=YR(n.get(t),e);return X_(e)}function YR(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="";break;case Wx:t+="";break;default:t+=s}}return t}function X_(n){return n+Wx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ac(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $x(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t){this.comparator=e,this.root=t||Or.EMPTY}insert(e,t){return new Ei(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(e){return new Ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Or.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qg(this.root,e,this.comparator,!1)}getReverseIterator(){return new qg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qg(this.root,e,this.comparator,!0)}}class qg{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Or{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Or.RED,this.left=r??Or.EMPTY,this.right=s??Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Or(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Or.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const e=this.left.check();if(e!==this.right.check())throw Ft();return e+(this.isRed()?0:1)}}Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1;Or.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(e,t,i,r,s){return this}insert(e,t,i){return new Or(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.comparator=e,this.data=new Ei(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(e){return new Z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fr(this.comparator);return t.data=e,t}}class Z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.fields=e,e.sort(Dr.comparator)}static empty(){return new ra([])}unionWith(e){let t=new fr(Dr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ra(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Af(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Kx("Invalid base64 string: "+s):s}}(e);return new Br(t)}static fromUint8Array(e){const t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gc(n){if(Bn(!!n),typeof n=="string"){let e=0;const t=XR.exec(n);if(Bn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gi(n.seconds),nanos:Gi(n.nanos)}}function Gi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mc(n){return typeof n=="string"?Br.fromBase64String(n):Br.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="server_timestamp",Xx="__type__",Qx="__previous_value__",Zx="__local_write_time__";function u2(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xx])===null||t===void 0?void 0:t.stringValue)===Yx}function kv(n){const e=n.mapValue.fields[Qx];return u2(e)?kv(e):e}function dp(n){const e=gc(n.mapValue.fields[Zx].timestampValue);return new hr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,t,i,r,s,o,u,c,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}const Fm="(default)";class pp{constructor(e,t){this.projectId=e,this.database=t||Fm}static empty(){return new pp("","")}get isDefaultDatabase(){return this.database===Fm}isEqual(e){return e instanceof pp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="__type__",ZR="__max__",Hg={mapValue:{}},eL="__vector__",Um="value";function vc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?u2(n)?4:ek(n)?9007199254740991:JR(n)?10:11:Ft()}function hl(n,e){if(n===e)return!0;const t=vc(n);if(t!==vc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dp(n).isEqual(dp(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=gc(r.timestampValue),u=gc(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return mc(r.bytesValue).isEqual(mc(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Gi(r.geoPointValue.latitude)===Gi(s.geoPointValue.latitude)&&Gi(r.geoPointValue.longitude)===Gi(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Gi(r.integerValue)===Gi(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Gi(r.doubleValue),u=Gi(s.doubleValue);return o===u?Vm(o)===Vm(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return Af(n.arrayValue.values||[],e.arrayValue.values||[],hl);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},u=s.mapValue.fields||{};if(Q_(o)!==Q_(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!hl(o[c],u[c])))return!1;return!0}(n,e);default:return Ft()}}function gp(n,e){return(n.values||[]).find(t=>hl(t,e))!==void 0}function xf(n,e){if(n===e)return 0;const t=vc(n),i=vc(e);if(t!==i)return sn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return sn(n.booleanValue,e.booleanValue);case 2:return function(s,o){const u=Gi(s.integerValue||s.doubleValue),c=Gi(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(n,e);case 3:return J_(n.timestampValue,e.timestampValue);case 4:return J_(dp(n),dp(e));case 5:return l1(n.stringValue,e.stringValue);case 6:return function(s,o){const u=mc(s),c=mc(o);return u.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const u=s.split("/"),c=o.split("/");for(let f=0;f<u.length&&f<c.length;f++){const p=sn(u[f],c[f]);if(p!==0)return p}return sn(u.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const u=sn(Gi(s.latitude),Gi(o.latitude));return u!==0?u:sn(Gi(s.longitude),Gi(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ew(n.arrayValue,e.arrayValue);case 10:return function(s,o){var u,c,f,p;const v=s.fields||{},w=o.fields||{},b=(u=v[Um])===null||u===void 0?void 0:u.arrayValue,A=(c=w[Um])===null||c===void 0?void 0:c.arrayValue,T=sn(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0);return T!==0?T:ew(b,A)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Hg.mapValue&&o===Hg.mapValue)return 0;if(s===Hg.mapValue)return 1;if(o===Hg.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),f=o.fields||{},p=Object.keys(f);c.sort(),p.sort();for(let v=0;v<c.length&&v<p.length;++v){const w=l1(c[v],p[v]);if(w!==0)return w;const b=xf(u[c[v]],f[p[v]]);if(b!==0)return b}return sn(c.length,p.length)}(n.mapValue,e.mapValue);default:throw Ft()}}function J_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return sn(n,e);const t=gc(n),i=gc(e),r=sn(t.seconds,i.seconds);return r!==0?r:sn(t.nanos,i.nanos)}function ew(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=xf(t[r],i[r]);if(s)return s}return sn(t.length,i.length)}function Lf(n){return u1(n)}function u1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=gc(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return mc(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ct.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=u1(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${u1(t.fields[o])}`;return r+"}"}(n.mapValue):Ft()}function ym(n){switch(vc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kv(n);return e?16+ym(e):16;case 5:return 2*n.stringValue.length;case 6:return mc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+ym(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Ac(i.fields,(s,o)=>{r+=s.length+ym(o)}),r}(n.mapValue);default:throw Ft()}}function tw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function c1(n){return!!n&&"integerValue"in n}function c2(n){return!!n&&"arrayValue"in n}function nw(n){return!!n&&"nullValue"in n}function iw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bm(n){return!!n&&"mapValue"in n}function JR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Jx])===null||t===void 0?void 0:t.stringValue)===eL}function Jd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ac(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Jd(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ek(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ZR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.value=e}static empty(){return new Ps({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!bm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jd(t)}setAll(e){let t=Dr.emptyPath(),i={},r=[];e.forEach((o,u)=>{if(!t.isImmediateParentOf(u)){const c=this.getFieldsMap(t);this.applyChanges(c,i,r),i={},r=[],t=u.popLast()}o?i[u.lastSegment()]=Jd(o):r.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());bm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];bm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ac(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ps(Jd(this.value))}}function tL(n){const e=[];return Ac(n.fields,(t,i)=>{const r=new Dr([t]);if(bm(i)){const s=tL(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new ra(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t,i,r,s,o,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new rs(e,0,Wt.min(),Wt.min(),Wt.min(),Ps.empty(),0)}static newFoundDocument(e,t,i,r){return new rs(e,1,t,Wt.min(),i,r,0)}static newNoDocument(e,t){return new rs(e,2,t,Wt.min(),Wt.min(),Ps.empty(),0)}static newUnknownDocument(e,t){return new rs(e,3,t,Wt.min(),Wt.min(),Ps.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,t){this.position=e,this.inclusive=t}}function rw(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(s.field.isKeyField()?i=Ct.comparator(Ct.fromName(o.referenceValue),t.key):i=xf(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function sw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t="asc"){this.field=e,this.dir=t}}function tk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{}class ir extends nL{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ik(e,t,i):t==="array-contains"?new ak(e,i):t==="in"?new ok(e,i):t==="not-in"?new lk(e,i):t==="array-contains-any"?new uk(e,i):new ir(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new rk(e,i):new sk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(xf(t,this.value)):t!==null&&vc(this.value)===vc(t)&&this.matchesComparison(xf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vo extends nL{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new vo(e,t)}matches(e){return iL(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function iL(n){return n.op==="and"}function rL(n){return nk(n)&&iL(n)}function nk(n){for(const e of n.filters)if(e instanceof vo)return!1;return!0}function h1(n){if(n instanceof ir)return n.field.canonicalString()+n.op.toString()+Lf(n.value);if(rL(n))return n.filters.map(e=>h1(e)).join(",");{const e=n.filters.map(t=>h1(t)).join(",");return`${n.op}(${e})`}}function sL(n,e){return n instanceof ir?function(i,r){return r instanceof ir&&i.op===r.op&&i.field.isEqual(r.field)&&hl(i.value,r.value)}(n,e):n instanceof vo?function(i,r){return r instanceof vo&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,u)=>s&&sL(o,r.filters[u]),!0):!1}(n,e):void Ft()}function aL(n){return n instanceof ir?function(t){return`${t.field.canonicalString()} ${t.op} ${Lf(t.value)}`}(n):n instanceof vo?function(t){return t.op.toString()+" {"+t.getFilters().map(aL).join(" ,")+"}"}(n):"Filter"}class ik extends ir{constructor(e,t,i){super(e,t,i),this.key=Ct.fromName(i.referenceValue)}matches(e){const t=Ct.comparator(e.key,this.key);return this.matchesComparison(t)}}class rk extends ir{constructor(e,t){super(e,"in",t),this.keys=oL("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sk extends ir{constructor(e,t){super(e,"not-in",t),this.keys=oL("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function oL(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ct.fromName(i.referenceValue))}class ak extends ir{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return c2(t)&&gp(t.arrayValue,this.value)}}class ok extends ir{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gp(this.value.arrayValue,t)}}class lk extends ir{constructor(e,t){super(e,"not-in",t)}matches(e){if(gp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!gp(this.value.arrayValue,t)}}class uk extends ir{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!c2(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>gp(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t=null,i=[],r=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=u,this.le=null}}function aw(n,e=null,t=[],i=[],r=null,s=null,o=null){return new ck(n,e,t,i,r,s,o)}function h2(n){const e=Yt(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>h1(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Rv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Lf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Lf(i)).join(",")),e.le=t}return e.le}function f2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sw(n.startAt,e.startAt)&&sw(n.endAt,e.endAt)}function f1(n){return Ct.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t=null,i=[],r=[],s=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hk(n,e,t,i,r,s,o,u){return new Pp(n,e,t,i,r,s,o,u)}function lL(n){return new Pp(n)}function ow(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function uL(n){return n.collectionGroup!==null}function ep(n){const e=Yt(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new fr(Dr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new qm(s,i))}),t.has(Dr.keyField().canonicalString())||e.he.push(new qm(Dr.keyField(),i))}return e.he}function sl(n){const e=Yt(n);return e.Pe||(e.Pe=fk(e,ep(n))),e.Pe}function fk(n,e){if(n.limitType==="F")return aw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new qm(r.field,s)});const t=n.endAt?new zm(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new zm(n.startAt.position,n.startAt.inclusive):null;return aw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function d1(n,e){const t=n.filters.concat([e]);return new Pp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function p1(n,e,t){return new Pp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nv(n,e){return f2(sl(n),sl(e))&&n.limitType===e.limitType}function cL(n){return`${h2(sl(n))}|lt:${n.limitType}`}function rf(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>aL(r)).join(", ")}]`),Rv(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Lf(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Lf(r)).join(",")),`Target(${i})`}(sl(n))}; limitType=${n.limitType})`}function Pv(n,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Ct.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(const s of ep(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,u,c){const f=rw(o,u,c);return o.inclusive?f<=0:f<0}(i.startAt,ep(i),r)||i.endAt&&!function(o,u,c){const f=rw(o,u,c);return o.inclusive?f>=0:f>0}(i.endAt,ep(i),r))}(n,e)}function dk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hL(n){return(e,t)=>{let i=!1;for(const r of ep(n)){const s=pk(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function pk(n,e,t){const i=n.field.isKeyField()?Ct.comparator(e.key,t.key):function(s,o,u){const c=o.data.field(s),f=u.data.field(s);return c!==null&&f!==null?xf(c,f):Ft()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ac(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return $x(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Ei(Ct.comparator);function su(){return gk}const fL=new Ei(Ct.comparator);function Kd(...n){let e=fL;for(const t of n)e=e.insert(t.key,t);return e}function dL(n){let e=fL;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function sh(){return tp()}function pL(){return tp()}function tp(){return new _h(n=>n.toString(),(n,e)=>n.isEqual(e))}const mk=new Ei(Ct.comparator),vk=new fr(Ct.comparator);function fn(...n){let e=vk;for(const t of n)e=e.add(t);return e}const yk=new fr(sn);function bk(){return yk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vm(e)?"-0":e}}function gL(n){return{integerValue:""+n}}function _k(n,e){return $R(e)?gL(e):d2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this._=void 0}}function wk(n,e,t){return n instanceof Hm?function(r,s){const o={fields:{[Xx]:{stringValue:Yx},[Zx]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&u2(s)&&(s=kv(s)),s&&(o.fields[Qx]=s),{mapValue:o}}(t,e):n instanceof mp?vL(n,e):n instanceof vp?yL(n,e):function(r,s){const o=mL(r,s),u=lw(o)+lw(r.Ie);return c1(o)&&c1(r.Ie)?gL(u):d2(r.serializer,u)}(n,e)}function Sk(n,e,t){return n instanceof mp?vL(n,e):n instanceof vp?yL(n,e):t}function mL(n,e){return n instanceof Gm?function(i){return c1(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Hm extends Mv{}class mp extends Mv{constructor(e){super(),this.elements=e}}function vL(n,e){const t=bL(e);for(const i of n.elements)t.some(r=>hl(r,i))||t.push(i);return{arrayValue:{values:t}}}class vp extends Mv{constructor(e){super(),this.elements=e}}function yL(n,e){let t=bL(e);for(const i of n.elements)t=t.filter(r=>!hl(r,i));return{arrayValue:{values:t}}}class Gm extends Mv{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function lw(n){return Gi(n.integerValue||n.doubleValue)}function bL(n){return c2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Ek(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof mp&&r instanceof mp||i instanceof vp&&r instanceof vp?Af(i.elements,r.elements,hl):i instanceof Gm&&r instanceof Gm?hl(i.Ie,r.Ie):i instanceof Hm&&r instanceof Hm}(n.transform,e.transform)}class Ak{constructor(e,t){this.version=e,this.transformResults=t}}class mo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mo}static exists(e){return new mo(void 0,e)}static updateTime(e){return new mo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _m(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ov{}function _L(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new p2(n.key,mo.none()):new Mp(n.key,n.data,mo.none());{const t=n.data,i=Ps.empty();let r=new fr(Dr.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new xc(n.key,i,new ra(r.toArray()),mo.none())}}function xk(n,e,t){n instanceof Mp?function(r,s,o){const u=r.value.clone(),c=cw(r.fieldTransforms,s,o.transformResults);u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof xc?function(r,s,o){if(!_m(r.precondition,s))return void s.convertToUnknownDocument(o.version);const u=cw(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(wL(r)),c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function np(n,e,t,i){return n instanceof Mp?function(s,o,u,c){if(!_m(s.precondition,o))return u;const f=s.value.clone(),p=hw(s.fieldTransforms,c,o);return f.setAll(p),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof xc?function(s,o,u,c){if(!_m(s.precondition,o))return u;const f=hw(s.fieldTransforms,c,o),p=o.data;return p.setAll(wL(s)),p.setAll(f),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(s,o,u){return _m(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(n,e,t)}function Lk(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=mL(i.transform,r||null);s!=null&&(t===null&&(t=Ps.empty()),t.set(i.field,s))}return t||null}function uw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Af(i,r,(s,o)=>Ek(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Mp extends Ov{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xc extends Ov{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function cw(n,e,t){const i=new Map;Bn(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,u=e.data.field(s.field);i.set(s.field,Sk(o,u,t[r]))}return i}function hw(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,wk(s,o,e))}return i}class p2 extends Ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Tk extends Ov{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&xk(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=np(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=np(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=pL();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=t.has(r.key)?null:u;const c=_L(o,u);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(Wt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&Af(this.mutations,e.mutations,(t,i)=>uw(t,i))&&Af(this.baseMutations,e.baseMutations,(t,i)=>uw(t,i))}}class g2{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Bn(e.mutations.length===i.length);let r=function(){return mk}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new g2(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr,wn;function kk(n){switch(n){case Qe.OK:return Ft();case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0;default:return Ft()}}function SL(n){if(n===void 0)return ru("GRPC error has no .code"),Qe.UNKNOWN;switch(n){case nr.OK:return Qe.OK;case nr.CANCELLED:return Qe.CANCELLED;case nr.UNKNOWN:return Qe.UNKNOWN;case nr.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case nr.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case nr.INTERNAL:return Qe.INTERNAL;case nr.UNAVAILABLE:return Qe.UNAVAILABLE;case nr.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case nr.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case nr.NOT_FOUND:return Qe.NOT_FOUND;case nr.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case nr.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case nr.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case nr.ABORTED:return Qe.ABORTED;case nr.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case nr.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case nr.DATA_LOSS:return Qe.DATA_LOSS;default:return Ft()}}(wn=nr||(nr={}))[wn.OK=0]="OK",wn[wn.CANCELLED=1]="CANCELLED",wn[wn.UNKNOWN=2]="UNKNOWN",wn[wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wn[wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wn[wn.NOT_FOUND=5]="NOT_FOUND",wn[wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",wn[wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",wn[wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",wn[wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wn[wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wn[wn.ABORTED=10]="ABORTED",wn[wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",wn[wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",wn[wn.INTERNAL=13]="INTERNAL",wn[wn.UNAVAILABLE=14]="UNAVAILABLE",wn[wn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new ac([4294967295,4294967295],0);function fw(n){const e=Hx().encode(n),t=new jx;return t.update(e),new Uint8Array(t.digest())}function dw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ac([t,i],0),new ac([r,s],0)]}class m2{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Yd(`Invalid padding: ${t}`);if(i<0)throw new Yd(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Yd(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Yd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ac.fromNumber(this.Ee)}Ae(e,t,i){let r=e.add(t.multiply(ac.fromNumber(i)));return r.compare(Nk)===1&&(r=new ac([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=fw(e),[i,r]=dw(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(i,r,s);if(!this.Re(o))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new m2(s,r,t);return i.forEach(u=>o.insert(u)),o}insert(e){if(this.Ee===0)return;const t=fw(e),[i,r]=dw(t);for(let s=0;s<this.hashCount;s++){const o=this.Ae(i,r,s);this.Ve(o)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Op.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Dv(Wt.min(),r,new Ei(sn),su(),fn())}}class Op{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Op(i,t,fn(),fn(),fn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t,i,r){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=r}}class EL{constructor(e,t){this.targetId=e,this.ge=t}}class AL{constructor(e,t,i=Br.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class pw{constructor(){this.pe=0,this.ye=gw(),this.we=Br.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=fn(),t=fn(),i=fn();return this.ye.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ft()}}),new Op(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=gw()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Bn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Pk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=su(),this.$e=Gg(),this.Ue=Gg(),this.Ke=new Ei(sn)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,r)=>{this.Je(r)&&t(r)})}Ze(e){const t=e.targetId,i=e.ge.count,r=this.Xe(t);if(r){const s=r.target;if(f1(s))if(i===0){const o=new Ct(s.path);this.ze(t,o,rs.newNoDocument(o,Wt.min()))}else Bn(i===1);else{const o=this.et(t);if(o!==i){const u=this.tt(e),c=u?this.nt(u,e,o):1;if(c!==0){this.Ye(t);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let o,u;try{o=mc(i).toUint8Array()}catch(c){if(c instanceof Kx)return Ef("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new m2(o,r,s)}catch(c){return Ef(c instanceof Yd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ee===0?null:u}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const o=this.ke.it(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,s,null),r++)}),r}ot(e){const t=new Map;this.qe.forEach((s,o)=>{const u=this.Xe(o);if(u){if(s.current&&f1(u.target)){const c=new Ct(u.target.path);this._t(c).has(o)||this.ut(o,c)||this.ze(o,c,rs.newNoDocument(c,e))}s.ve&&(t.set(o,s.Fe()),s.Me())}});let i=fn();this.Ue.forEach((s,o)=>{let u=!0;o.forEachWhile(c=>{const f=this.Xe(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const r=new Dv(e,t,this.Ke,this.Qe,i);return this.Qe=su(),this.$e=Gg(),this.Ue=Gg(),this.Ke=new Ei(sn),r}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new pw,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new fr(sn),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new fr(sn),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||gt("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new pw),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Gg(){return new Ei(Ct.comparator)}function gw(){return new Ei(Ct.comparator)}const Mk={asc:"ASCENDING",desc:"DESCENDING"},Ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dk={and:"AND",or:"OR"};class jk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function g1(n,e){return n.useProto3Json||Rv(e)?e:{value:e}}function Wm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Bk(n,e){return Wm(n,e.toTimestamp())}function al(n){return Bn(!!n),Wt.fromTimestamp(function(t){const i=gc(t);return new hr(i.seconds,i.nanos)}(n))}function v2(n,e){return m1(n,e).canonicalString()}function m1(n,e){const t=function(r){return new li(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function LL(n){const e=li.fromString(n);return Bn(kL(e)),e}function v1(n,e){return v2(n.databaseId,e.path)}function _y(n,e){const t=LL(e);if(t.get(1)!==n.databaseId.projectId)throw new wt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new wt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ct(CL(t))}function TL(n,e){return v2(n.databaseId,e)}function Vk(n){const e=LL(n);return e.length===4?li.emptyPath():CL(e)}function y1(n){return new li(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CL(n){return Bn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function mw(n,e,t){return{name:v1(n,e),fields:t.value.mapValue.fields}}function Fk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(f,p){return f.useProto3Json?(Bn(p===void 0||typeof p=="string"),Br.fromBase64String(p||"")):(Bn(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Br.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(f){const p=f.code===void 0?Qe.UNKNOWN:SL(f.code);return new wt(p,f.message||"")}(o);t=new AL(i,r,s,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=_y(n,i.document.name),s=al(i.document.updateTime),o=i.document.createTime?al(i.document.createTime):Wt.min(),u=new Ps({mapValue:{fields:i.document.fields}}),c=rs.newFoundDocument(r,s,o,u),f=i.targetIds||[],p=i.removedTargetIds||[];t=new wm(f,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=_y(n,i.document),s=i.readTime?al(i.readTime):Wt.min(),o=rs.newNoDocument(r,s),u=i.removedTargetIds||[];t=new wm([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=_y(n,i.document),s=i.removedTargetIds||[];t=new wm([],s,r,null)}else{if(!("filter"in e))return Ft();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new Rk(r,s),u=i.targetId;t=new EL(u,o)}}return t}function Uk(n,e){let t;if(e instanceof Mp)t={update:mw(n,e.key,e.value)};else if(e instanceof p2)t={delete:v1(n,e.key)};else if(e instanceof xc)t={update:mw(n,e.key,e.data),updateMask:Xk(e.fieldMask)};else{if(!(e instanceof Tk))return Ft();t={verify:v1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const u=o.transform;if(u instanceof Hm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof mp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof vp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Gm)return{fieldPath:o.field.canonicalString(),increment:u.Ie};throw Ft()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Bk(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ft()}(n,e.precondition)),t}function zk(n,e){return n&&n.length>0?(Bn(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?al(r.updateTime):al(s);return o.isEqual(Wt.min())&&(o=al(s)),new Ak(o,r.transformResults||[])}(t,e))):[]}function qk(n,e){return{documents:[TL(n,e.path)]}}function Hk(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=TL(n,r);const s=function(f){if(f.length!==0)return RL(vo.create(f,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(f){if(f.length!==0)return f.map(p=>function(w){return{field:sf(w.field),direction:$k(w.dir)}}(p))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=g1(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:r}}function Gk(n){let e=Vk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Bn(i===1);const p=t.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(v){const w=IL(v);return w instanceof vo&&rL(w)?w.getFilters():[w]}(t.where));let o=[];t.orderBy&&(o=function(v){return v.map(w=>function(A){return new qm(af(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(w))}(t.orderBy));let u=null;t.limit&&(u=function(v){let w;return w=typeof v=="object"?v.value:v,Rv(w)?null:w}(t.limit));let c=null;t.startAt&&(c=function(v){const w=!!v.before,b=v.values||[];return new zm(b,w)}(t.startAt));let f=null;return t.endAt&&(f=function(v){const w=!v.before,b=v.values||[];return new zm(b,w)}(t.endAt)),hk(e,r,o,s,u,"F",c,f)}function Wk(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IL(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=af(t.unaryFilter.field);return ir.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=af(t.unaryFilter.field);return ir.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=af(t.unaryFilter.field);return ir.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=af(t.unaryFilter.field);return ir.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(n):n.fieldFilter!==void 0?function(t){return ir.create(af(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return vo.create(t.compositeFilter.filters.map(i=>IL(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ft()}}(t.compositeFilter.op))}(n):Ft()}function $k(n){return Mk[n]}function Kk(n){return Ok[n]}function Yk(n){return Dk[n]}function sf(n){return{fieldPath:n.canonicalString()}}function af(n){return Dr.fromServerFormat(n.fieldPath)}function RL(n){return n instanceof ir?function(t){if(t.op==="=="){if(iw(t.value))return{unaryFilter:{field:sf(t.field),op:"IS_NAN"}};if(nw(t.value))return{unaryFilter:{field:sf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iw(t.value))return{unaryFilter:{field:sf(t.field),op:"IS_NOT_NAN"}};if(nw(t.value))return{unaryFilter:{field:sf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sf(t.field),op:Kk(t.op),value:t.value}}}(n):n instanceof vo?function(t){const i=t.getFilters().map(r=>RL(r));return i.length===1?i[0]:{compositeFilter:{op:Yk(t.op),filters:i}}}(n):Ft()}function Xk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kL(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t,i,r,s=Wt.min(),o=Wt.min(),u=Br.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new ec(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ec(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.Tt=e}}function Zk(n){const e=Gk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?p1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.Tn=new eN}addToCollectionParentIndex(e,t){return this.Tn.add(t),Xe.resolve()}getCollectionParents(e,t){return Xe.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Xe.resolve()}deleteFieldIndex(e,t){return Xe.resolve()}deleteAllFieldIndexes(e){return Xe.resolve()}createTargetIndexes(e,t){return Xe.resolve()}getDocumentsMatchingTarget(e,t){return Xe.resolve(null)}getIndexType(e,t){return Xe.resolve(0)}getFieldIndexes(e,t){return Xe.resolve([])}getNextCollectionGroupToUpdate(e){return Xe.resolve(null)}getMinOffset(e,t){return Xe.resolve(pc.min())}getMinOffsetFromCollectionGroup(e,t){return Xe.resolve(pc.min())}updateCollectionGroup(e,t,i){return Xe.resolve()}updateIndexEntries(e,t){return Xe.resolve()}}class eN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new fr(li.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new fr(li.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NL=41943040;class Ns{static withCacheSize(e){return new Ns(e,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns.DEFAULT_COLLECTION_PERCENTILE=10,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ns.DEFAULT=new Ns(NL,Ns.DEFAULT_COLLECTION_PERCENTILE,Ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ns.DISABLED=new Ns(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Tf(0)}static Kn(){return new Tf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="LruGarbageCollector",tN=1048576;function bw([n,e],[t,i]){const r=sn(n,t);return r===0?sn(e,i):r}class nN{constructor(e){this.Hn=e,this.buffer=new fr(bw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();bw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iN{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){gt(yw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bf(t)?gt(yw,"Ignoring IndexedDB error during garbage collection: ",t):await jf(t)}await this.er(3e5)})}}class rN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Xe.resolve(Iv.ae);const i=new nN(t);return this.tr.forEachTarget(e,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),Xe.resolve(vw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vw):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,r,s,o,u,c,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,o=Date.now(),this.nthSequenceNumber(e,r))).next(v=>(i=v,u=Date.now(),this.removeTargets(e,i,t))).next(v=>(s=v,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(f=Date.now(),nf()<=hn.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${r} in `+(u-o)+`ms
	Removed ${s} targets in `+(c-u)+`ms
	Removed ${v} documents in `+(f-c)+`ms
Total Duration: ${f-p}ms`),Xe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:v})))}}function sN(n,e){return new rN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.changes=new _h(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Xe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&np(i.mutation,r,ra.empty(),hr.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,fn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=fn()){const r=sh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=Kd();return s.forEach((u,c)=>{o=o.insert(u,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=sh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,fn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,u)=>{t.set(o,u)})})}computeViews(e,t,i,r){let s=su();const o=tp(),u=function(){return tp()}();return t.forEach((c,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof xc)?s=s.insert(f.key,f):p!==void 0?(o.set(f.key,p.mutation.getFieldMask()),np(p.mutation,f,p.mutation.getFieldMask(),hr.now())):o.set(f.key,ra.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((f,p)=>o.set(f,p)),t.forEach((f,p)=>{var v;return u.set(f,new oN(p,(v=o.get(f))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const i=tp();let r=new Ei((o,u)=>o-u),s=fn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const u of o)u.keys().forEach(c=>{const f=t.get(c);if(f===null)return;let p=i.get(c)||ra.empty();p=u.applyToLocalView(f,p),i.set(c,p);const v=(r.get(u.batchId)||fn()).add(c);r=r.insert(u.batchId,v)})}).next(()=>{const o=[],u=r.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,p=c.value,v=pL();p.forEach(w=>{if(!s.has(w)){const b=_L(t.get(w),i.get(w));b!==null&&v.set(w,b),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,v))}return Xe.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return Ct.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):Xe.resolve(sh());let u=fp,c=s;return o.next(f=>Xe.forEach(f,(p,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),s.get(p)?Xe.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{c=c.insert(p,w)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,c,f,fn())).next(p=>({batchId:u,changes:dL(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ct(t)).next(i=>{let r=Kd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let o=Kd();return this.indexManager.getCollectionParents(e,s).next(u=>Xe.forEach(u,c=>{const f=function(v,w){return new Pp(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(p=>{p.forEach((v,w)=>{o=o.insert(v,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((c,f)=>{const p=f.getKey();o.get(p)===null&&(o=o.insert(p,rs.newInvalidDocument(p)))});let u=Kd();return o.forEach((c,f)=>{const p=s.get(c);p!==void 0&&np(p.mutation,f,ra.empty(),hr.now()),Pv(t,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Xe.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:al(r.createTime)}}(t)),Xe.resolve()}getNamedQuery(e,t){return Xe.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(r){return{name:r.name,query:Zk(r.bundledQuery),readTime:al(r.readTime)}}(t)),Xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.overlays=new Ei(Ct.comparator),this.Rr=new Map}getOverlay(e,t){return Xe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=sh();return Xe.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.Et(e,t,s)}),Xe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(i)),Xe.resolve()}getOverlaysForCollection(e,t,i){const r=sh(),s=t.length+1,o=new Ct(t.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return Xe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Ei((f,p)=>f-p);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let p=s.get(f.largestBatchId);p===null&&(p=sh(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=sh(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,p)=>u.set(f,p)),!(u.size()>=r)););return Xe.resolve(u)}Et(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Ik(t,i));let s=this.Rr.get(t);s===void 0&&(s=fn(),this.Rr.set(t,s)),this.Rr.set(t,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.sessionToken=Br.EMPTY_BYTE_STRING}getSessionToken(e){return Xe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Vr=new fr(Ar.mr),this.gr=new fr(Ar.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Ar(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Ar(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Ct(new li([])),i=new Ar(t,e),r=new Ar(t,e+1),s=[];return this.gr.forEachInRange([i,r],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ct(new li([])),i=new Ar(t,e),r=new Ar(t,e+1);let s=fn();return this.gr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ar(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ar{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ct.comparator(e.key,t.key)||sn(e.Cr,t.Cr)}static pr(e,t){return sn(e.Cr,t.Cr)||Ct.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new fr(Ar.mr)}checkEmpty(e){return Xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ck(s,t,i,r);this.mutationQueue.push(o);for(const u of r)this.Mr=this.Mr.add(new Ar(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Xe.resolve(o)}lookupMutationBatch(e,t){return Xe.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.Nr(i),s=r<0?0:r;return Xe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Xe.resolve(this.mutationQueue.length===0?l2:this.Fr-1)}getAllMutationBatches(e){return Xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ar(t,0),r=new Ar(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([i,r],o=>{const u=this.Or(o.Cr);s.push(u)}),Xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new fr(sn);return t.forEach(r=>{const s=new Ar(r,0),o=new Ar(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],u=>{i=i.add(u.Cr)})}),Xe.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Ct.isDocumentKey(s)||(s=s.child(""));const o=new Ar(new Ct(s),0);let u=new fr(sn);return this.Mr.forEachWhile(c=>{const f=c.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(c.Cr)),!0)},o),Xe.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(i=>{const r=this.Or(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){Bn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return Xe.forEach(t.mutations,r=>{const s=new Ar(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Ar(t,0),r=this.Mr.firstAfterOrEqual(i);return Xe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xe.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.kr=e,this.docs=function(){return new Ei(Ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Xe.resolve(i?i.document.mutableCopy():rs.newInvalidDocument(t))}getEntries(e,t){let i=su();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():rs.newInvalidDocument(r))}),Xe.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=su();const o=t.path,u=new Ct(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:p}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||qR(zR(p),i)<=0||(r.has(p.key)||Pv(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Xe.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Ft()}qr(e,t){return Xe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new pN(this)}getSize(e){return Xe.resolve(this.size)}}class pN extends aN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(i)}),Xe.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.persistence=e,this.Qr=new _h(t=>h2(t),f2),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new y2,this.targetCount=0,this.Kr=Tf.Un()}forEachTarget(e,t){return this.Qr.forEach((i,r)=>t(r)),Xe.resolve()}getLastRemoteSnapshotVersion(e){return Xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),Xe.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Tf(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Xe.resolve()}updateTargetData(e,t){return this.zn(t),Xe.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Xe.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Qr.forEach((o,u)=>{u.sequenceNumber<=t&&i.get(u.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),Xe.waitFor(s).next(()=>r)}getTargetCount(e){return Xe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return Xe.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),Xe.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),Xe.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Xe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return Xe.resolve(i)}containsKey(e,t){return Xe.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Iv(0),this.zr=!1,this.zr=!0,this.jr=new hN,this.referenceDelegate=e(this),this.Hr=new gN(this),this.indexManager=new Jk,this.remoteDocumentCache=function(r){return new dN(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Qk(t),this.Yr=new uN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new fN(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){gt("MemoryPersistence","Starting transaction:",e);const r=new mN(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(s=>this.referenceDelegate.Xr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}ei(e,t){return Xe.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class mN extends GR{constructor(e){super(),this.currentSequenceNumber=e}}class b2{constructor(e){this.persistence=e,this.ti=new y2,this.ni=null}static ri(e){return new b2(e)}get ii(){if(this.ni)return this.ni;throw Ft()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),Xe.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),Xe.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Xe.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.ii.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xe.forEach(this.ii,i=>{const r=Ct.fromPath(i);return this.si(e,r).next(s=>{s||t.removeEntry(r,Wt.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Xe.or([()=>Xe.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class $m{constructor(e,t){this.persistence=e,this.oi=new _h(i=>KR(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=sN(this,t)}static ri(e,t){return new $m(e,t)}Zr(){}Xr(e){return Xe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return Xe.forEach(this.oi,(i,r)=>this.ar(e,i,r).next(s=>s?Xe.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.qr(e,o=>this.ar(e,o,t).next(u=>{u||(i++,s.removeEntry(o,Wt.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Xe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),Xe.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),Xe.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Xe.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ym(e.data.value)),t}ar(e,t,i){return Xe.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.oi.get(t);return Xe.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=r}static Yi(e,t){let i=fn(),r=fn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new _2(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return f6()?8:WR(ls())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new vN;return this._s(e,t,o).next(u=>{if(s.result=u,this.Xi)return this.us(e,t,o,u.size)})}).next(()=>s.result)}us(e,t,i,r){return i.documentReadCount<this.es?(nf()<=hn.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",rf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Xe.resolve()):(nf()<=hn.DEBUG&&gt("QueryEngine","Query:",rf(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(nf()<=hn.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",rf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sl(t))):Xe.resolve())}rs(e,t){if(ow(t))return Xe.resolve(null);let i=sl(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=p1(t,null,"F"),i=sl(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=fn(...s);return this.ns.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,i).next(c=>{const f=this.cs(t,u);return this.ls(t,f,o,c.readTime)?this.rs(e,p1(t,null,"F")):this.hs(e,f,t,c)}))})))}ss(e,t,i,r){return ow(t)||r.isEqual(Wt.min())?Xe.resolve(null):this.ns.getDocuments(e,i).next(s=>{const o=this.cs(t,s);return this.ls(t,o,i,r)?Xe.resolve(null):(nf()<=hn.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rf(t)),this.hs(e,o,t,UR(r,fp)).next(u=>u))})}cs(e,t){let i=new fr(hL(e));return t.forEach((r,s)=>{Pv(e,s)&&(i=i.add(s))}),i}ls(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}_s(e,t,i){return nf()<=hn.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",rf(t)),this.ns.getDocumentsMatchingQuery(e,t,pc.min(),i)}hs(e,t,i,r){return this.ns.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="LocalStore",bN=3e8;class _N{constructor(e,t,i,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new Ei(sn),this.Is=new _h(s=>h2(s),f2),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function wN(n,e,t,i){return new _N(n,e,t,i)}async function ML(n,e){const t=Yt(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],u=[];let c=fn();for(const f of r){o.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}for(const f of s){u.push(f.batchId);for(const p of f.mutations)c=c.add(p.key)}return t.localDocuments.getDocuments(i,c).next(f=>({Rs:f,removedBatchIds:o,addedBatchIds:u}))})})}function SN(n,e){const t=Yt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,c,f,p){const v=f.batch,w=v.keys();let b=Xe.resolve();return w.forEach(A=>{b=b.next(()=>p.getEntry(c,A)).next(T=>{const C=f.docVersions.get(A);Bn(C!==null),T.version.compareTo(C)<0&&(v.applyToRemoteDocument(T,f),T.isValidDocument()&&(T.setReadTime(f.commitVersion),p.addEntry(T)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(c,v))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let c=fn();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function OL(n){const e=Yt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function EN(n,e){const t=Yt(n),i=e.snapshotVersion;let r=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ds.newChangeBuffer({trackRemovals:!0});r=t.Ts;const u=[];e.targetChanges.forEach((p,v)=>{const w=r.get(v);if(!w)return;u.push(t.Hr.removeMatchingKeys(s,p.removedDocuments,v).next(()=>t.Hr.addMatchingKeys(s,p.addedDocuments,v)));let b=w.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(Br.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,i)),r=r.insert(v,b),function(T,C,I){return T.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=bN?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(w,b,p)&&u.push(t.Hr.updateTargetData(s,b))});let c=su(),f=fn();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),u.push(AN(s,o,e.documentUpdates).next(p=>{c=p.Vs,f=p.fs})),!i.isEqual(Wt.min())){const p=t.Hr.getLastRemoteSnapshotVersion(s).next(v=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,i));u.push(p)}return Xe.waitFor(u).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,f)).next(()=>c)}).then(s=>(t.Ts=r,s))}function AN(n,e,t){let i=fn(),r=fn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=su();return t.forEach((u,c)=>{const f=s.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),c.isNoDocument()&&c.version.isEqual(Wt.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):gt(w2,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Vs:o,fs:r}})}function xN(n,e){const t=Yt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=l2),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function LN(n,e){const t=Yt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Hr.getTargetData(i,e).next(s=>s?(r=s,Xe.resolve(r)):t.Hr.allocateTargetId(i).next(o=>(r=new ec(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function b1(n,e,t){const i=Yt(n),r=i.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Bf(o))throw o;gt(w2,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function _w(n,e,t){const i=Yt(n);let r=Wt.min(),s=fn();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,f,p){const v=Yt(c),w=v.Is.get(p);return w!==void 0?Xe.resolve(v.Ts.get(w)):v.Hr.getTargetData(f,p)}(i,o,sl(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(o,u.targetId).next(c=>{s=c})}).next(()=>i.Ps.getDocumentsMatchingQuery(o,e,t?r:Wt.min(),t?s:fn())).next(u=>(TN(i,dk(e),u),{documents:u,gs:s})))}function TN(n,e,t){let i=n.Es.get(e)||Wt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Es.set(e,i)}class ww{constructor(){this.activeTargetIds=bk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CN{constructor(){this.ho=new ww,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ww,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="ConnectivityMonitor";class Ew{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){gt(Sw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){gt(Sw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wg=null;function _1(){return Wg===null?Wg=function(){return 268435456+Math.round(2147483648*Math.random())}():Wg++,"0x"+Wg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="RestConnection",RN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===Fm?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(e,t,i,r,s){const o=_1(),u=this.bo(e,t.toUriEncodedString());gt(wy,`Sending RPC '${e}' ${o}:`,u,i);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,r,s),this.vo(e,u,c,i).then(f=>(gt(wy,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ef(wy,`RPC '${e}' ${o} failed with error: `,f,"url: ",u,"request:",i),f})}Co(e,t,i,r,s,o){return this.So(e,t,i,r,s)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Df}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}bo(e,t){const i=RN[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="WebChannelConnection";class PN extends kN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,r){const s=_1();return new Promise((o,u)=>{const c=new Bx;c.setWithCredentials(!0),c.listenOnce(Vx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case vm.NO_ERROR:const p=c.getResponseJson();gt(Qr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case vm.TIMEOUT:gt(Qr,`RPC '${e}' ${s} timed out`),u(new wt(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case vm.HTTP_ERROR:const v=c.getStatus();if(gt(Qr,`RPC '${e}' ${s} failed with status:`,v,"response text:",c.getResponseText()),v>0){let w=c.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w==null?void 0:w.error;if(b&&b.status&&b.message){const A=function(C){const I=C.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(I)>=0?I:Qe.UNKNOWN}(b.status);u(new wt(A,b.message))}else u(new wt(Qe.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new wt(Qe.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{gt(Qr,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(r);gt(Qr,`RPC '${e}' ${s} sending request:`,r),c.send(t,"POST",f,i,15)})}Wo(e,t,i){const r=_1(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zx(),u=Ux(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const p=s.join("");gt(Qr,`Creating RPC '${e}' stream ${r}: ${p}`,c);const v=o.createWebChannel(p,c);let w=!1,b=!1;const A=new NN({Fo:C=>{b?gt(Qr,`Not sending because RPC '${e}' stream ${r} is closed:`,C):(w||(gt(Qr,`Opening RPC '${e}' stream ${r} transport.`),v.open(),w=!0),gt(Qr,`RPC '${e}' stream ${r} sending:`,C),v.send(C))},Mo:()=>v.close()}),T=(C,I,j)=>{C.listen(I,W=>{try{j(W)}catch(Z){setTimeout(()=>{throw Z},0)}})};return T(v,$d.EventType.OPEN,()=>{b||(gt(Qr,`RPC '${e}' stream ${r} transport opened.`),A.Qo())}),T(v,$d.EventType.CLOSE,()=>{b||(b=!0,gt(Qr,`RPC '${e}' stream ${r} transport closed`),A.Uo())}),T(v,$d.EventType.ERROR,C=>{b||(b=!0,Ef(Qr,`RPC '${e}' stream ${r} transport errored:`,C),A.Uo(new wt(Qe.UNAVAILABLE,"The operation could not be completed")))}),T(v,$d.EventType.MESSAGE,C=>{var I;if(!b){const j=C.data[0];Bn(!!j);const W=j,Z=(W==null?void 0:W.error)||((I=W[0])===null||I===void 0?void 0:I.error);if(Z){gt(Qr,`RPC '${e}' stream ${r} received error:`,Z);const X=Z.status;let se=function(O){const G=nr[O];if(G!==void 0)return SL(G)}(X),B=Z.message;se===void 0&&(se=Qe.INTERNAL,B="Unknown error status: "+X+" with message "+Z.message),b=!0,A.Uo(new wt(se,B)),v.close()}else gt(Qr,`RPC '${e}' stream ${r} received:`,j),A.Ko(j)}}),T(u,Fx.STAT_EVENT,C=>{C.stat===o1.PROXY?gt(Qr,`RPC '${e}' stream ${r} detected buffering proxy`):C.stat===o1.NOPROXY&&gt(Qr,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function Sy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(n){return new jk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=r,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-i);r>0&&gt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="PersistentStream";class jL{constructor(e,t,i,r,s,o,u,c){this.Ti=e,this.n_=i,this.r_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new DL(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Qe.RESOURCE_EXHAUSTED?(ru(t.toString()),ru("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===t&&this.V_(i,r)},i=>{e(()=>{const r=new wt(Qe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return gt(Aw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(gt(Aw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MN extends jL{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Fk(this.serializer,e),i=function(s){if(!("targetChange"in s))return Wt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Wt.min():o.readTime?al(o.readTime):Wt.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=y1(this.serializer),t.addTarget=function(s,o){let u;const c=o.target;if(u=f1(c)?{documents:qk(s,c)}:{query:Hk(s,c).ht},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=xL(s,o.resumeToken);const f=g1(s,o.expectedCount);f!==null&&(u.expectedCount=f)}else if(o.snapshotVersion.compareTo(Wt.min())>0){u.readTime=Wm(s,o.snapshotVersion.toTimestamp());const f=g1(s,o.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const i=Wk(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=y1(this.serializer),t.removeTarget=e,this.I_(t)}}class ON extends jL{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Bn(!!e.streamToken),this.lastStreamToken=e.streamToken,Bn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=zk(e.writeResults,e.commitTime),i=al(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=y1(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Uk(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{}class jN extends DN{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new wt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,m1(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new wt(Qe.UNKNOWN,s.toString())})}Co(e,t,i,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Co(e,m1(t,i),r,o,u,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new wt(Qe.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class BN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ru(t),this.N_=!1):gt("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="RemoteStore";class VN{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{i.enqueueAndForget(async()=>{wh(this)&&(gt(ph,"Restarting streams for network reachability change."),await async function(c){const f=Yt(c);f.W_.add(4),await Dp(f),f.j_.set("Unknown"),f.W_.delete(4),await Bv(f)}(this))})}),this.j_=new BN(i,r)}}async function Bv(n){if(wh(n))for(const e of n.G_)await e(!0)}async function Dp(n){for(const e of n.G_)await e(!1)}function BL(n,e){const t=Yt(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),x2(t)?A2(t):Vf(t).c_()&&E2(t,e))}function S2(n,e){const t=Yt(n),i=Vf(t);t.K_.delete(e),i.c_()&&VL(t,e),t.K_.size===0&&(i.c_()?i.P_():wh(t)&&t.j_.set("Unknown"))}function E2(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vf(n).y_(e)}function VL(n,e){n.H_.Ne(e),Vf(n).w_(e)}function A2(n){n.H_=new Pk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Vf(n).start(),n.j_.B_()}function x2(n){return wh(n)&&!Vf(n).u_()&&n.K_.size>0}function wh(n){return Yt(n).W_.size===0}function FL(n){n.H_=void 0}async function FN(n){n.j_.set("Online")}async function UN(n){n.K_.forEach((e,t)=>{E2(n,e)})}async function zN(n,e){FL(n),x2(n)?(n.j_.q_(e),A2(n)):n.j_.set("Unknown")}async function qN(n,e,t){if(n.j_.set("Online"),e instanceof AL&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const u of s.targetIds)r.K_.has(u)&&(await r.remoteSyncer.rejectListen(u,o),r.K_.delete(u),r.H_.removeTarget(u))}(n,e)}catch(i){gt(ph,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Km(n,i)}else if(e instanceof wm?n.H_.We(e):e instanceof EL?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Wt.min()))try{const i=await OL(n.localStore);t.compareTo(i)>=0&&await function(s,o){const u=s.H_.ot(o);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.K_.get(f);p&&s.K_.set(f,p.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach((c,f)=>{const p=s.K_.get(c);if(!p)return;s.K_.set(c,p.withResumeToken(Br.EMPTY_BYTE_STRING,p.snapshotVersion)),VL(s,c);const v=new ec(p.target,c,f,p.sequenceNumber);E2(s,v)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(i){gt(ph,"Failed to raise snapshot:",i),await Km(n,i)}}async function Km(n,e,t){if(!Bf(e))throw e;n.W_.add(1),await Dp(n),n.j_.set("Offline"),t||(t=()=>OL(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{gt(ph,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Bv(n)})}function UL(n,e){return e().catch(t=>Km(n,t,e))}async function Vv(n){const e=Yt(n),t=yc(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:l2;for(;HN(e);)try{const r=await xN(e.localStore,i);if(r===null){e.U_.length===0&&t.P_();break}i=r.batchId,GN(e,r)}catch(r){await Km(e,r)}zL(e)&&qL(e)}function HN(n){return wh(n)&&n.U_.length<10}function GN(n,e){n.U_.push(e);const t=yc(n);t.c_()&&t.S_&&t.b_(e.mutations)}function zL(n){return wh(n)&&!yc(n).u_()&&n.U_.length>0}function qL(n){yc(n).start()}async function WN(n){yc(n).C_()}async function $N(n){const e=yc(n);for(const t of n.U_)e.b_(t.mutations)}async function KN(n,e,t){const i=n.U_.shift(),r=g2.from(i,e,t);await UL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Vv(n)}async function YN(n,e){e&&yc(n).S_&&await async function(i,r){if(function(o){return kk(o)&&o!==Qe.ABORTED}(r.code)){const s=i.U_.shift();yc(i).h_(),await UL(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Vv(i)}}(n,e),zL(n)&&qL(n)}async function xw(n,e){const t=Yt(n);t.asyncQueue.verifyOperationInProgress(),gt(ph,"RemoteStore received new credentials");const i=wh(t);t.W_.add(3),await Dp(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Bv(t)}async function XN(n,e){const t=Yt(n);e?(t.W_.delete(2),await Bv(t)):e||(t.W_.add(2),await Dp(t),t.j_.set("Unknown"))}function Vf(n){return n.J_||(n.J_=function(t,i,r){const s=Yt(t);return s.M_(),new MN(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{xo:FN.bind(null,n),No:UN.bind(null,n),Lo:zN.bind(null,n),p_:qN.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),x2(n)?A2(n):n.j_.set("Unknown")):(await n.J_.stop(),FL(n))})),n.J_}function yc(n){return n.Y_||(n.Y_=function(t,i,r){const s=Yt(t);return s.M_(),new ON(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:WN.bind(null,n),Lo:YN.bind(null,n),D_:$N.bind(null,n),v_:KN.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Vv(n)):(await n.Y_.stop(),n.U_.length>0&&(gt(ph,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new oc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,u=new L2(e,t,o,r,s);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new wt(Qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T2(n,e){if(ru("AsyncQueue",`${e}: ${n}`),Bf(n))return new wt(Qe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{static emptySet(e){return new ff(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ct.comparator(t.key,i.key):(t,i)=>Ct.comparator(t.key,i.key),this.keyedMap=Kd(),this.sortedSet=new Ei(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ff)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ff;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.Z_=new Ei(Ct.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ft():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Cf{constructor(e,t,i,r,s,o,u,c,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach(u=>{o.push({type:0,doc:u})}),new Cf(e,t,ff.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ZN{constructor(){this.queries=Tw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const r=Yt(t),s=r.queries;r.queries=Tw(),s.forEach((o,u)=>{for(const c of u.ta)c.onError(i)})})(this,new wt(Qe.ABORTED,"Firestore shutting down"))}}function Tw(){return new _h(n=>cL(n),Nv)}async function JN(n,e){const t=Yt(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.na()&&e.ra()&&(i=2):(s=new QN,i=e.ra()?0:1);try{switch(i){case 0:s.ea=await t.onListen(r,!0);break;case 1:s.ea=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(o){const u=T2(o,`Initialization of query '${rf(e.query)}' failed`);return void e.onError(u)}t.queries.set(r,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&C2(t)}async function eP(n,e){const t=Yt(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?r=e.ra()?0:1:!s.na()&&e.ra()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function tP(n,e){const t=Yt(n);let i=!1;for(const r of e){const s=r.query,o=t.queries.get(s);if(o){for(const u of o.ta)u.oa(r)&&(i=!0);o.ea=r}}i&&C2(t)}function nP(n,e,t){const i=Yt(n),r=i.queries.get(e);if(r)for(const s of r.ta)s.onError(t);i.queries.delete(e)}function C2(n){n.ia.forEach(e=>{e.next()})}var w1,Cw;(Cw=w1||(w1={}))._a="default",Cw.Cache="cache";class iP{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Cf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Cf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==w1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.key=e}}class GL{constructor(e){this.key=e}}class rP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=fn(),this.mutatedKeys=fn(),this.ya=hL(e),this.wa=new ff(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new Lw,r=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,u=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((p,v)=>{const w=r.get(p),b=Pv(this.query,v)?v:null,A=!!w&&this.mutatedKeys.has(w.key),T=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let C=!1;w&&b?w.data.isEqual(b.data)?A!==T&&(i.track({type:3,doc:b}),C=!0):this.va(w,b)||(i.track({type:2,doc:b}),C=!0,(c&&this.ya(b,c)>0||f&&this.ya(b,f)<0)&&(u=!0)):!w&&b?(i.track({type:0,doc:b}),C=!0):w&&!b&&(i.track({type:1,doc:w}),C=!0,(c||f)&&(u=!0)),C&&(b?(o=o.add(b),s=T?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),i.track({type:1,doc:p})}return{wa:o,Da:i,ls:u,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((p,v)=>function(b,A){const T=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return T(b)-T(A)}(p.type,v.type)||this.ya(p.doc,v.doc)),this.Ca(i),r=r!=null&&r;const u=t&&!r?this.Fa():[],c=this.pa.size===0&&this.current&&!r?1:0,f=c!==this.ga;return this.ga=c,o.length!==0||f?{snapshot:new Cf(this.query,e.wa,s,o,e.mutatedKeys,c===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Lw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=fn(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new GL(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new HL(i))}),t}Oa(e){this.fa=e.gs,this.pa=fn();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Cf.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const I2="SyncEngine";class sP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class aP{constructor(e){this.key=e,this.Ba=!1}}class oP{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new _h(u=>cL(u),Nv),this.qa=new Map,this.Qa=new Set,this.$a=new Ei(Ct.comparator),this.Ua=new Map,this.Ka=new y2,this.Wa={},this.Ga=new Map,this.za=Tf.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function lP(n,e,t=!0){const i=QL(n);let r;const s=i.ka.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Na()):r=await WL(i,e,t,!0),r}async function uP(n,e){const t=QL(n);await WL(t,e,!0,!1)}async function WL(n,e,t,i){const r=await LN(n.localStore,sl(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let u;return i&&(u=await cP(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&BL(n.remoteStore,r),u}async function cP(n,e,t,i,r){n.Ha=(v,w,b)=>async function(T,C,I,j){let W=C.view.ba(I);W.ls&&(W=await _w(T.localStore,C.query,!1).then(({documents:B})=>C.view.ba(B,W)));const Z=j&&j.targetChanges.get(C.targetId),X=j&&j.targetMismatches.get(C.targetId)!=null,se=C.view.applyChanges(W,T.isPrimaryClient,Z,X);return Rw(T,C.targetId,se.Ma),se.snapshot}(n,v,w,b);const s=await _w(n.localStore,e,!0),o=new rP(e,s.gs),u=o.ba(s.documents),c=Op.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),f=o.applyChanges(u,n.isPrimaryClient,c);Rw(n,t,f.Ma);const p=new sP(e,t,o);return n.ka.set(e,p),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function hP(n,e,t){const i=Yt(n),r=i.ka.get(e),s=i.qa.get(r.targetId);if(s.length>1)return i.qa.set(r.targetId,s.filter(o=>!Nv(o,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await b1(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&S2(i.remoteStore,r.targetId),S1(i,r.targetId)}).catch(jf)):(S1(i,r.targetId),await b1(i.localStore,r.targetId,!0))}async function fP(n,e){const t=Yt(n),i=t.ka.get(e),r=t.qa.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),S2(t.remoteStore,i.targetId))}async function dP(n,e,t){const i=_P(n);try{const r=await function(o,u){const c=Yt(o),f=hr.now(),p=u.reduce((b,A)=>b.add(A.key),fn());let v,w;return c.persistence.runTransaction("Locally write mutations","readwrite",b=>{let A=su(),T=fn();return c.ds.getEntries(b,p).next(C=>{A=C,A.forEach((I,j)=>{j.isValidDocument()||(T=T.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(b,A)).next(C=>{v=C;const I=[];for(const j of u){const W=Lk(j,v.get(j.key).overlayedDocument);W!=null&&I.push(new xc(j.key,W,tL(W.value.mapValue),mo.exists(!0)))}return c.mutationQueue.addMutationBatch(b,f,I,u)}).next(C=>{w=C;const I=C.applyToLocalDocumentSet(v,T);return c.documentOverlayCache.saveOverlays(b,C.batchId,I)})}).then(()=>({batchId:w.batchId,changes:dL(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,c){let f=o.Wa[o.currentUser.toKey()];f||(f=new Ei(sn)),f=f.insert(u,c),o.Wa[o.currentUser.toKey()]=f}(i,r.batchId,t),await jp(i,r.changes),await Vv(i.remoteStore)}catch(r){const s=T2(r,"Failed to persist write");t.reject(s)}}async function $L(n,e){const t=Yt(n);try{const i=await EN(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.Ua.get(s);o&&(Bn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ba=!0:r.modifiedDocuments.size>0?Bn(o.Ba):r.removedDocuments.size>0&&(Bn(o.Ba),o.Ba=!1))}),await jp(t,i,e)}catch(i){await jf(i)}}function Iw(n,e,t){const i=Yt(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.ka.forEach((s,o)=>{const u=o.view.sa(e);u.snapshot&&r.push(u.snapshot)}),function(o,u){const c=Yt(o);c.onlineState=u;let f=!1;c.queries.forEach((p,v)=>{for(const w of v.ta)w.sa(u)&&(f=!0)}),f&&C2(c)}(i.eventManager,e),r.length&&i.La.p_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pP(n,e,t){const i=Yt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Ua.get(e),s=r&&r.key;if(s){let o=new Ei(Ct.comparator);o=o.insert(s,rs.newNoDocument(s,Wt.min()));const u=fn().add(s),c=new Dv(Wt.min(),new Map,new Ei(sn),o,u);await $L(i,c),i.$a=i.$a.remove(s),i.Ua.delete(e),R2(i)}else await b1(i.localStore,e,!1).then(()=>S1(i,e,t)).catch(jf)}async function gP(n,e){const t=Yt(n),i=e.batch.batchId;try{const r=await SN(t.localStore,e);YL(t,i,null),KL(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await jp(t,r)}catch(r){await jf(r)}}async function mP(n,e,t){const i=Yt(n);try{const r=await function(o,u){const c=Yt(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return c.mutationQueue.lookupMutationBatch(f,u).next(v=>(Bn(v!==null),p=v.keys(),c.mutationQueue.removeMutationBatch(f,v))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,p,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>c.localDocuments.getDocuments(f,p))})}(i.localStore,e);YL(i,e,t),KL(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await jp(i,r)}catch(r){await jf(r)}}function KL(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function YL(n,e,t){const i=Yt(n);let r=i.Wa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function S1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||XL(n,i)})}function XL(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(S2(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),R2(n))}function Rw(n,e,t){for(const i of t)i instanceof HL?(n.Ka.addReference(i.key,e),vP(n,i)):i instanceof GL?(gt(I2,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||XL(n,i.key)):Ft()}function vP(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(gt(I2,"New document in limbo: "+t),n.Qa.add(i),R2(n))}function R2(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ct(li.fromString(e)),i=n.za.next();n.Ua.set(i,new aP(t)),n.$a=n.$a.insert(t,i),BL(n.remoteStore,new ec(sl(lL(t.path)),i,"TargetPurposeLimboResolution",Iv.ae))}}async function jp(n,e,t){const i=Yt(n),r=[],s=[],o=[];i.ka.isEmpty()||(i.ka.forEach((u,c)=>{o.push(i.Ha(c,e,t).then(f=>{var p;if((f||t)&&i.isPrimaryClient){const v=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(c.targetId,v?"current":"not-current")}if(f){r.push(f);const v=_2.Yi(c.targetId,f);s.push(v)}}))}),await Promise.all(o),i.La.p_(r),await async function(c,f){const p=Yt(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Xe.forEach(f,w=>Xe.forEach(w.Hi,b=>p.persistence.referenceDelegate.addReference(v,w.targetId,b)).next(()=>Xe.forEach(w.Ji,b=>p.persistence.referenceDelegate.removeReference(v,w.targetId,b)))))}catch(v){if(!Bf(v))throw v;gt(w2,"Failed to update sequence numbers: "+v)}for(const v of f){const w=v.targetId;if(!v.fromCache){const b=p.Ts.get(w),A=b.snapshotVersion,T=b.withLastLimboFreeSnapshotVersion(A);p.Ts=p.Ts.insert(w,T)}}}(i.localStore,s))}async function yP(n,e){const t=Yt(n);if(!t.currentUser.isEqual(e)){gt(I2,"User change. New user:",e.toKey());const i=await ML(t.localStore,e);t.currentUser=e,function(s,o){s.Ga.forEach(u=>{u.forEach(c=>{c.reject(new wt(Qe.CANCELLED,o))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await jp(t,i.Rs)}}function bP(n,e){const t=Yt(n),i=t.Ua.get(e);if(i&&i.Ba)return fn().add(i.key);{let r=fn();const s=t.qa.get(e);if(!s)return r;for(const o of s){const u=t.ka.get(o);r=r.unionWith(u.view.Sa)}return r}}function QL(n){const e=Yt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$L.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pP.bind(null,e),e.La.p_=tP.bind(null,e.eventManager),e.La.Ja=nP.bind(null,e.eventManager),e}function _P(n){const e=Yt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mP.bind(null,e),e}class Ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jv(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return wN(this.persistence,new yN,e.initialUser,this.serializer)}Xa(e){return new PL(b2.ri,this.serializer)}Za(e){return new CN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ym.provider={build:()=>new Ym};class wP extends Ym{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Bn(this.persistence.referenceDelegate instanceof $m);const i=this.persistence.referenceDelegate.garbageCollector;return new iN(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Ns.withCacheSize(this.cacheSizeBytes):Ns.DEFAULT;return new PL(i=>$m.ri(i,t),this.serializer)}}class E1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Iw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yP.bind(null,this.syncEngine),await XN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZN}()}createDatastore(e){const t=jv(e.databaseInfo.databaseId),i=function(s){return new PN(s)}(e.databaseInfo);return function(s,o,u,c){return new jN(s,o,u,c)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,o,u){return new VN(i,r,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Iw(this.syncEngine,t,0),function(){return Ew.D()?new Ew:new IN}())}createSyncEngine(e,t){return function(r,s,o,u,c,f,p){const v=new oP(r,s,o,u,c,f);return p&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(r){const s=Yt(r);gt(ph,"RemoteStore shutting down."),s.W_.add(5),await Dp(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}E1.provider={build:()=>new E1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ru("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc="FirestoreClient";class EP{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=is.UNAUTHENTICATED,this.clientId=Gx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{gt(bc,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(gt(bc,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=T2(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ey(n,e){n.asyncQueue.verifyOperationInProgress(),gt(bc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await ML(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function kw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await AP(n);gt(bc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>xw(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>xw(e.remoteStore,r)),n._onlineComponents=e}async function AP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){gt(bc,"Using user provided OfflineComponentProvider");try{await Ey(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===Qe.FAILED_PRECONDITION||r.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Ef("Error using user provided cache. Falling back to memory cache: "+t),await Ey(n,new Ym)}}else gt(bc,"Using default OfflineComponentProvider"),await Ey(n,new wP(void 0));return n._offlineComponents}async function ZL(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(gt(bc,"Using user provided OnlineComponentProvider"),await kw(n,n._uninitializedComponentsProvider._online)):(gt(bc,"Using default OnlineComponentProvider"),await kw(n,new E1))),n._onlineComponents}function xP(n){return ZL(n).then(e=>e.syncEngine)}async function LP(n){const e=await ZL(n),t=e.eventManager;return t.onListen=lP.bind(null,e.syncEngine),t.onUnlisten=hP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fP.bind(null,e.syncEngine),t}function TP(n,e,t={}){const i=new oc;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,u,c,f){const p=new SP({next:w=>{p.su(),o.enqueueAndForget(()=>eP(s,v)),w.fromCache&&c.source==="server"?f.reject(new wt(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),v=new iP(u,p,{includeMetadataChanges:!0,Ta:!0});return JN(s,v)}(await LP(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n,e,t){if(!t)throw new wt(Qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CP(n,e,t,i){if(e===!0&&i===!0)throw new wt(Qe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Pw(n){if(!Ct.isDocumentKey(n))throw new wt(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Mw(n){if(Ct.isDocumentKey(n))throw new wt(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ft()}function gh(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new wt(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fv(n);throw new wt(Qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firestore.googleapis.com",Ow=!0;class Dw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new wt(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tT,this.ssl=Ow}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ow;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tN)throw new wt(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JL((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new wt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new wt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new wt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uv{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wt(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new wt(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new NR;switch(i.type){case"firstParty":return new DR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new wt(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Nw.get(t);i&&(gt("ComponentProvider","Removing Datastore"),Nw.delete(t),i.terminate())}(this),Promise.resolve()}}function IP(n,e,t,i={}){var r;const s=(n=gh(n,Uv))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s.host!==tT&&s.host!==u&&Ef("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:u,ssl:!1,emulatorOptions:i});if(!hh(c,o)&&(n._setSettings(c),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=is.MOCK_USER;else{f=kx(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new wt(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new is(v)}n._authCredentials=new PR(new qx(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ff(this.firestore,e,this._query)}}class aa{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new aa(this.firestore,e,this._key)}}class lc extends Ff{constructor(e,t,i){super(e,t,lL(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new aa(this.firestore,null,new Ct(e))}withConverter(e){return new lc(this.firestore,e,this._path)}}function yp(n,e,...t){if(n=jr(n),eT("collection","path",e),n instanceof Uv){const i=li.fromString(e,...t);return Mw(i),new lc(n,null,i)}{if(!(n instanceof aa||n instanceof lc))throw new wt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(li.fromString(e,...t));return Mw(i),new lc(n.firestore,null,i)}}function A1(n,e,...t){if(n=jr(n),arguments.length===1&&(e=Gx.newId()),eT("doc","path",e),n instanceof Uv){const i=li.fromString(e,...t);return Pw(i),new aa(n,null,new Ct(i))}{if(!(n instanceof aa||n instanceof lc))throw new wt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(li.fromString(e,...t));return Pw(i),new aa(n.firestore,n instanceof lc?n.converter:null,new Ct(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="AsyncQueue";class Bw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new DL(this,"async_queue_retry"),this.Su=()=>{const i=Sy();i&&gt(jw,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Sy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Sy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new oc;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Bf(e))throw e;gt(jw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(i);throw ru("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=L2.createAndSchedule(this,e,t,i,s=>this.Fu(s));return this.fu.push(r),r}Du(){this.gu&&Ft()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Bp extends Uv{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Bw,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bw(e),this._firestoreClient=void 0,await e}}}function RP(n,e){const t=typeof n=="object"?n:a2(),i=typeof n=="string"?n:Fm,r=Cv(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=Cx("firestore");s&&IP(r,...s)}return r}function nT(n){if(n._terminated)throw new wt(Qe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||kP(n),n._firestoreClient}function kP(n){var e,t,i;const r=n._freezeSettings(),s=function(u,c,f,p){return new QR(u,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,JL(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new EP(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this._byteString=e}static fromBase64String(e){try{return new If(Br.fromBase64String(e))}catch(t){throw new wt(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new If(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new wt(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wt(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wt(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^__.*__$/;class PP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new xc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mp(e,this.data,t,this.fieldTransforms)}}class iT{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new xc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class M2{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new M2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:i,Qu:!1});return r.$u(e),r}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Xm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(rT(this.Lu)&&NP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class MP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||jv(e)}ju(e,t,i,r=!1){return new M2({Lu:e,methodName:t,zu:i,path:Dr.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function O2(n){const e=n._freezeSettings(),t=jv(n._databaseId);return new MP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OP(n,e,t,i,r,s={}){const o=n.ju(s.merge||s.mergeFields?2:0,e,t,r);D2("Data must be an object, but it was:",o,i);const u=sT(i,o);let c,f;if(s.merge)c=new ra(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const v of s.mergeFields){const w=x1(e,v,t);if(!o.contains(w))throw new wt(Qe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);oT(p,w)||p.push(w)}c=new ra(p),f=o.fieldTransforms.filter(v=>c.covers(v.field))}else c=null,f=o.fieldTransforms;return new PP(new Ps(u),c,f)}class qv extends k2{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qv}}function DP(n,e,t,i){const r=n.ju(1,e,t);D2("Data must be an object, but it was:",r,i);const s=[],o=Ps.empty();Ac(i,(c,f)=>{const p=j2(e,c,t);f=jr(f);const v=r.Uu(p);if(f instanceof qv)s.push(p);else{const w=Vp(f,v);w!=null&&(s.push(p),o.set(p,w))}});const u=new ra(s);return new iT(o,u,r.fieldTransforms)}function jP(n,e,t,i,r,s){const o=n.ju(1,e,t),u=[x1(e,i,t)],c=[r];if(s.length%2!=0)throw new wt(Qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)u.push(x1(e,s[w])),c.push(s[w+1]);const f=[],p=Ps.empty();for(let w=u.length-1;w>=0;--w)if(!oT(f,u[w])){const b=u[w];let A=c[w];A=jr(A);const T=o.Uu(b);if(A instanceof qv)f.push(b);else{const C=Vp(A,T);C!=null&&(f.push(b),p.set(b,C))}}const v=new ra(f);return new iT(p,v,o.fieldTransforms)}function BP(n,e,t,i=!1){return Vp(t,n.ju(i?4:3,e))}function Vp(n,e){if(aT(n=jr(n)))return D2("Unsupported field value:",e,n),sT(n,e);if(n instanceof k2)return function(i,r){if(!rT(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const u of i){let c=Vp(u,r.Ku(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=jr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _k(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=hr.fromDate(i);return{timestampValue:Wm(r.serializer,s)}}if(i instanceof hr){const s=new hr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wm(r.serializer,s)}}if(i instanceof N2)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof If)return{bytesValue:xL(r.serializer,i._byteString)};if(i instanceof aa){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:v2(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof P2)return function(o,u){return{mapValue:{fields:{[Jx]:{stringValue:eL},[Um]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw u.Wu("VectorValues must only contain numeric values.");return d2(u.serializer,f)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${Fv(i)}`)}(n,e)}function sT(n,e){const t={};return $x(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ac(n,(i,r)=>{const s=Vp(r,e.qu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function aT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof hr||n instanceof N2||n instanceof If||n instanceof aa||n instanceof k2||n instanceof P2)}function D2(n,e,t){if(!aT(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){const i=Fv(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function x1(n,e,t){if((e=jr(e))instanceof zv)return e._internalPath;if(typeof e=="string")return j2(n,e);throw Xm("Field path arguments must be of type string or ",n,!1,void 0,t)}const VP=new RegExp("[~\\*/\\[\\]]");function j2(n,e,t){if(e.search(VP)>=0)throw Xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zv(...e.split("."))._internalPath}catch{throw Xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xm(n,e,t,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new wt(Qe.INVALID_ARGUMENT,u+n+c)}function oT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new aa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(B2("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class FP extends lT{data(){return super.data()}}function B2(n,e){return typeof e=="string"?j2(n,e):e instanceof zv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new wt(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V2{}class zP extends V2{}function qP(n,e,...t){let i=[];e instanceof V2&&i.push(e),i=i.concat(t),function(s){const o=s.filter(c=>c instanceof F2).length,u=s.filter(c=>c instanceof Hv).length;if(o>1||o>0&&u>0)throw new wt(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Hv extends zP{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Hv(e,t,i)}_apply(e){const t=this._parse(e);return uT(e._query,t),new Ff(e.firestore,e.converter,d1(e._query,t))}_parse(e){const t=O2(e.firestore);return function(s,o,u,c,f,p,v){let w;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new wt(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Fw(v,p);const A=[];for(const T of v)A.push(Vw(c,s,T));w={arrayValue:{values:A}}}else w=Vw(c,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Fw(v,p),w=BP(u,o,v,p==="in"||p==="not-in");return ir.create(f,p,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function HP(n,e,t){const i=e,r=B2("where",n);return Hv._create(r,i,t)}class F2 extends V2{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new F2(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:vo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r;const u=s.getFlattenedFilters();for(const c of u)uT(o,c),o=d1(o,c)}(e._query,t),new Ff(e.firestore,e.converter,d1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Vw(n,e,t){if(typeof(t=jr(t))=="string"){if(t==="")throw new wt(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uL(e)&&t.indexOf("/")!==-1)throw new wt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(li.fromString(t));if(!Ct.isDocumentKey(i))throw new wt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return tw(n,new Ct(i))}if(t instanceof aa)return tw(n,t._key);throw new wt(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fv(t)}.`)}function Fw(n,e){if(!Array.isArray(n)||n.length===0)throw new wt(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uT(n,e){const t=function(r,s){for(const o of r)for(const u of o.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new wt(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new wt(Qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class GP{convertValue(e,t="none"){switch(vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ft()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ac(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;const s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[Um].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Gi(o.doubleValue));return new P2(s)}convertGeoPoint(e){return new N2(Gi(e.latitude),Gi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=kv(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(dp(e));default:return null}}convertTimestamp(e){const t=gc(e);return new hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=li.fromString(e);Bn(kL(i));const r=new pp(i.get(1),i.get(3)),s=new Ct(i.popFirst(5));return r.isEqual(t)||ru(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $P extends lT{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(B2("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Sm extends $P{data(e={}){return super.data(e)}}class KP{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $g(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Sm(this._firestore,this._userDataWriter,i.key,i,new $g(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new wt(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(u=>{const c=new Sm(r._firestore,r._userDataWriter,u.doc.key,u.doc,new $g(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Sm(r._firestore,r._userDataWriter,u.doc.key,u.doc,new $g(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),p=o.indexOf(u.doc.key)),{type:YP(u.type),doc:c,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}class XP extends GP{constructor(e){super(),this.firestore=e}convertBytes(e){return new If(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new aa(this.firestore,null,t)}}function Qm(n){n=gh(n,Ff);const e=gh(n.firestore,Bp),t=nT(e),i=new XP(e);return UP(n._query),TP(t,n._query).then(r=>new KP(e,i,n,r))}function QP(n,e,t,...i){n=gh(n,aa);const r=gh(n.firestore,Bp),s=O2(r);let o;return o=typeof(e=jr(e))=="string"||e instanceof zv?jP(s,"updateDoc",n._key,e,t,i):DP(s,"updateDoc",n._key,e),U2(r,[o.toMutation(n._key,mo.exists(!0))])}function ZP(n){return U2(gh(n.firestore,Bp),[new p2(n._key,mo.none())])}function JP(n,e){const t=gh(n.firestore,Bp),i=A1(n),r=WP(n.converter,e);return U2(t,[OP(O2(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,mo.exists(!1))]).then(()=>i)}function U2(n,e){return function(i,r){const s=new oc;return i.asyncQueue.enqueueAndForget(async()=>dP(await xP(i),r,s)),s.promise}(nT(n),e)}(function(e,t=!0){(function(r){Df=r})(bh),fh(new dc("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),u=new Bp(new MR(i.getProvider("auth-internal")),new jR(o,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new wt(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pp(f.options.projectId,p)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),rl(q_,H_,e),rl(q_,H_,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firebasestorage.googleapis.com",eM="storageBucket",tM=2*60*1e3,nM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends pl{constructor(e,t,i=0){super(Ay(e),`Firebase Storage: ${t} (${Ay(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gl.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ay(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fl;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fl||(fl={}));function Ay(n){return"storage/"+n}function iM(){const n="An unknown error occurred, please check the error payload for server response.";return new gl(fl.UNKNOWN,n)}function rM(){return new gl(fl.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sM(){return new gl(fl.CANCELED,"User canceled the upload/download.")}function aM(n){return new gl(fl.INVALID_URL,"Invalid URL '"+n+"'.")}function oM(n){return new gl(fl.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Uw(n){return new gl(fl.INVALID_ARGUMENT,n)}function hT(){return new gl(fl.APP_DELETED,"The Firebase app was deleted.")}function lM(n){return new gl(fl.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ho.makeFromUrl(e,t)}catch{return new ho(e,"")}if(i.path==="")return i;throw oM(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function f(Z){Z.path_=decodeURIComponent(Z.path)}const p="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${p}/b/${r}/o${w}`,"i"),A={bucket:1,path:3},T=t===cT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",I=new RegExp(`^https?://${T}/${r}/${C}`,"i"),W=[{regex:u,indices:c,postModify:s},{regex:b,indices:A,postModify:f},{regex:I,indices:{bucket:1,path:2},postModify:f}];for(let Z=0;Z<W.length;Z++){const X=W[Z],se=X.regex.exec(e);if(se){const B=se[X.indices.bucket];let N=se[X.indices.path];N||(N=""),i=new ho(B,N),X.postModify(i);break}}if(i==null)throw aM(e);return i}}class uM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(n,e,t){let i=1,r=null,s=null,o=!1,u=0;function c(){return u===2}let f=!1;function p(...C){f||(f=!0,e.apply(null,C))}function v(C){r=setTimeout(()=>{r=null,n(b,c())},C)}function w(){s&&clearTimeout(s)}function b(C,...I){if(f){w();return}if(C){w(),p.call(null,C,...I);return}if(c()||o){w(),p.call(null,C,...I);return}i<64&&(i*=2);let W;u===1?(u=2,W=0):W=(i+Math.random())*1e3,v(W)}let A=!1;function T(C){A||(A=!0,w(),!f&&(r!==null?(C||(u=2),clearTimeout(r),v(0)):C||(u=1)))}return v(0),s=setTimeout(()=>{o=!0,T(!0)},t),T}function hM(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(n){return n!==void 0}function zw(n,e,t,i){if(i<e)throw Uw(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Uw(`Invalid value for '${n}'. Expected ${t} or less.`)}function dM(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var Zm;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Zm||(Zm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t,i,r,s,o,u,c,f,p,v,w=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=v,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,A)=>{this.resolve_=b,this.reject_=A,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Kg(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const u=s.getErrorCode()===Zm.NO_ERROR,c=s.getStatus();if(!u||pM(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===Zm.ABORT;i(!1,new Kg(!1,null,p));return}const f=this.successCodes_.indexOf(c)!==-1;i(!0,new Kg(f,s))})},t=(i,r)=>{const s=this.resolve_,o=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());fM(c)?s(c):s()}catch(c){o(c)}else if(u!==null){const c=iM();c.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,c)):o(c)}else if(r.canceled){const c=this.appDelete_?hT():sM();o(c)}else{const c=rM();o(c)}};this.canceled_?t(!1,new Kg(!1,null,!0)):this.backoffId_=cM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kg{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function mM(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function vM(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yM(n,e){e&&(n["X-Firebase-GMPID"]=e)}function bM(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function _M(n,e,t,i,r,s,o=!0){const u=dM(n.urlParams),c=n.url+u,f=Object.assign({},n.headers);return yM(f,e),mM(f,t),vM(f,s),bM(f,i),new gM(c,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function SM(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t){this._service=e,t instanceof ho?this._location=t:this._location=ho.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Jm(e,t)}get root(){const e=new ho(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SM(this._location.path)}get storage(){return this._service}get parent(){const e=wM(this._location.path);if(e===null)return null;const t=new ho(this._location.bucket,e);return new Jm(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw lM(e)}}function qw(n,e){const t=e==null?void 0:e[eM];return t==null?null:ho.makeFromBucketSpec(t,n)}function EM(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:kx(r,n.app.options.projectId))}class AM{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=cT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tM,this._maxUploadRetryTime=nM,this._requests=new Set,r!=null?this._bucket=ho.makeFromBucketSpec(r,this._host):this._bucket=qw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ho.makeFromBucketSpec(this._url,e):this._bucket=qw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){zw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){zw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Na(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jm(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new uM(hT());{const o=_M(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()}}const Hw="@firebase/storage",Gw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="storage";function xM(n=a2(),e){n=jr(n);const i=Cv(n,fT).getImmediate({identifier:e}),r=Cx("storage");return r&&LM(i,...r),i}function LM(n,e,t,i={}){EM(n,e,t,i)}function TM(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new AM(t,i,r,e,bh)}function CM(){fh(new dc(fT,TM,"PUBLIC").setMultipleInstances(!0)),rl(Hw,Gw,""),rl(Hw,Gw,"esm2017")}CM();function z2(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function dT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IM=dT,pT=new kp("auth","Firebase",dT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new r2("@firebase/auth");function RM(n,...e){ev.logLevel<=hn.WARN&&ev.warn(`Auth (${bh}): ${n}`,...e)}function Em(n,...e){ev.logLevel<=hn.ERROR&&ev.error(`Auth (${bh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(n,...e){throw q2(n,...e)}function ol(n,...e){return q2(n,...e)}function gT(n,e,t){const i=Object.assign(Object.assign({},IM()),{[e]:t});return new kp("auth","Firebase",i).create(e,{appName:n.name})}function uc(n){return gT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q2(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return pT.create(n,...e)}function Bt(n,e,...t){if(!n)throw q2(e,...t)}function Jl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Em(e),new Error(e)}function au(n,e){n||Jl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function kM(){return Ww()==="http:"||Ww()==="https:"}function Ww(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kM()||u6()||"connection"in navigator)?navigator.onLine:!0}function PM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t){this.shortDelay=e,this.longDelay=t,au(t>e,"Short delay should be less than long delay!"),this.isMobile=a6()||c6()}get(){return NM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n,e){au(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DM=new Fp(3e4,6e4);function Sh(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Lc(n,e,t,i,r={}){return vT(n,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const u=Np(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:c},s);return l6()||(f.referrerPolicy="no-referrer"),mT.fetch()(await yT(n,n.config.apiHost,t,u),f)})}async function vT(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},MM),e);try{const r=new BM(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Yg(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yg(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Yg(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw Yg(n,"user-disabled",o);const p=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw gT(n,p,f);yo(n,p)}}catch(r){if(r instanceof pl)throw r;yo(n,"network-request-failed",{message:String(r)})}}async function Gv(n,e,t,i,r={}){const s=await Lc(n,e,t,i,r);return"mfaPendingCredential"in s&&yo(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function yT(n,e,t,i){const r=`${e}${t}?${i}`,s=n,o=s.config.emulator?H2(n.config,r):`${n.config.apiScheme}://${r}`;return OM.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function jM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ol(this.auth,"network-request-failed")),DM.get())})}}function Yg(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ol(n,e,i);return r.customData._tokenResponse=t,r}function $w(n){return n!==void 0&&n.enterprise!==void 0}class VM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return jM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FM(n,e){return Lc(n,"GET","/v2/recaptchaConfig",Sh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(n,e){return Lc(n,"POST","/v1/accounts:delete",e)}async function tv(n,e){return Lc(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zM(n,e=!1){const t=jr(n),i=await t.getIdToken(e),r=G2(i);Bt(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:ip(xy(r.auth_time)),issuedAtTime:ip(xy(r.iat)),expirationTime:ip(xy(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xy(n){return Number(n)*1e3}function G2(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Em("JWT malformed, contained fewer than 3 sections"),null;try{const r=Lx(t);return r?JSON.parse(r):(Em("Failed to decode base64 JWT payload"),null)}catch(r){return Em("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Kw(n){const e=G2(n);return Bt(e,"internal-error"),Bt(typeof e.exp<"u","internal-error"),Bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof pl&&qM(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function qM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ip(this.lastLoginAt),this.creationTime=ip(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nv(n){var e;const t=n.auth,i=await n.getIdToken(),r=await bp(n,tv(t,{idToken:i}));Bt(r==null?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bT(s.providerUserInfo):[],u=WM(n.providerData,o),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),p=c?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new T1(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function GM(n){const e=jr(n);await nv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WM(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function bT(n){return n.map(e=>{var{providerId:t}=e,i=z2(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(n,e){const t=await vT(n,{},async()=>{const i=Np({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=await yT(n,r,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",mT.fetch()(o,{method:"POST",headers:u,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KM(n,e){return Lc(n,"POST","/v2/accounts:revokeToken",Sh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bt(e.idToken,"internal-error"),Bt(typeof e.idToken<"u","internal-error"),Bt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Bt(e.length!==0,"internal-error");const t=Kw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await $M(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new df;return i&&(Bt(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Bt(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Bt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new df,this.toJSON())}_performRefresh(){return Jl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(n,e){Bt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fo{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=z2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new T1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await bp(this,this.stsTokenManager.getToken(this.auth,e));return Bt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return zM(this,e)}reload(){return GM(this)}_assign(e){this!==e&&(Bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await nv(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Na(this.auth.app))return Promise.reject(uc(this.auth));const e=await this.getIdToken();return await bp(this,UM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,u,c,f,p;const v=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(r=t.email)!==null&&r!==void 0?r:void 0,b=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=t.photoURL)!==null&&o!==void 0?o:void 0,T=(u=t.tenantId)!==null&&u!==void 0?u:void 0,C=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,I=(f=t.createdAt)!==null&&f!==void 0?f:void 0,j=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:W,emailVerified:Z,isAnonymous:X,providerData:se,stsTokenManager:B}=t;Bt(W&&B,e,"internal-error");const N=df.fromJSON(this.name,B);Bt(typeof W=="string",e,"internal-error"),Hu(v,e.name),Hu(w,e.name),Bt(typeof Z=="boolean",e,"internal-error"),Bt(typeof X=="boolean",e,"internal-error"),Hu(b,e.name),Hu(A,e.name),Hu(T,e.name),Hu(C,e.name),Hu(I,e.name),Hu(j,e.name);const O=new fo({uid:W,auth:e,email:w,emailVerified:Z,displayName:v,isAnonymous:X,photoURL:A,phoneNumber:b,tenantId:T,stsTokenManager:N,createdAt:I,lastLoginAt:j});return se&&Array.isArray(se)&&(O.providerData=se.map(G=>Object.assign({},G))),C&&(O._redirectEventId=C),O}static async _fromIdTokenResponse(e,t,i=!1){const r=new df;r.updateFromServerResponse(t);const s=new fo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await nv(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];Bt(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?bT(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),u=new df;u.updateFromIdToken(i);const c=new fo({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:o}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new T1(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;function eu(n){au(n instanceof Function,"Expected a class definition");let e=Yw.get(n);return e?(au(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Yw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_T.type="NONE";const Xw=_T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(n,e,t){return`firebase:${n}:${e}:${t}`}class pf{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Am(this.userKey,r.apiKey,s),this.fullPersistenceKey=Am("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tv(this.auth,{idToken:e}).catch(()=>{});return t?fo._fromGetAccountInfoResponse(this.auth,t,e):null}return fo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new pf(eu(Xw),e,i);const r=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=r[0]||eu(Xw);const o=Am(i,e.config.apiKey,e.name);let u=null;for(const f of t)try{const p=await f._get(o);if(p){let v;if(typeof p=="string"){const w=await tv(e,{idToken:p}).catch(()=>{});if(!w)break;v=await fo._fromGetAccountInfoResponse(e,w,p)}else v=fo._fromJSON(e,p);f!==s&&(u=v),s=f;break}}catch{}const c=r.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new pf(s,e,i):(s=c[0],u&&await s._set(o,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new pf(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LT(e))return"Blackberry";if(TT(e))return"Webos";if(ST(e))return"Safari";if((e.includes("chrome/")||ET(e))&&!e.includes("edge/"))return"Chrome";if(xT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function wT(n=ls()){return/firefox\//i.test(n)}function ST(n=ls()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ET(n=ls()){return/crios\//i.test(n)}function AT(n=ls()){return/iemobile/i.test(n)}function xT(n=ls()){return/android/i.test(n)}function LT(n=ls()){return/blackberry/i.test(n)}function TT(n=ls()){return/webos/i.test(n)}function W2(n=ls()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YM(n=ls()){var e;return W2(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XM(){return h6()&&document.documentMode===10}function CT(n=ls()){return W2(n)||xT(n)||TT(n)||LT(n)||/windows phone/i.test(n)||AT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n,e=[]){let t;switch(n){case"Browser":t=Qw(ls());break;case"Worker":t=`${Qw(ls())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bh}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((o,u)=>{try{const c=e(s);o(c)}catch(c){u(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(n,e={}){return Lc(n,"GET","/v2/passwordPolicy",Sh(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=6;class eO{constructor(e){var t,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:JM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zw(this),this.idTokenSubscription=new Zw(this),this.beforeStateQueue=new QM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=eu(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await pf.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tv(this,{idToken:e}),i=await fo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Na(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nv(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Na(this.app))return Promise.reject(uc(this));const t=e?jr(e):null;return t&&Bt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Na(this.app)?Promise.reject(uc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Na(this.app)?Promise.reject(uc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(eu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZM(this),t=new eO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kp("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await KM(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&eu(e)||this._popupRedirectResolver;Bt(t,this,"argument-error"),this.redirectPersistenceManager=await pf.create(this,[eu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,i,r);return()=>{o=!0,c()}}else{const c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Na(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&RM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Uf(n){return jr(n)}class Zw{constructor(e){this.auth=e,this.observer=null,this.addObserver=b6(t=>this.observer=t)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nO(n){Wv=n}function RT(n){return Wv.loadJS(n)}function iO(){return Wv.recaptchaEnterpriseScript}function rO(){return Wv.gapiScript}function sO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class aO{constructor(){this.enterprise=new oO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const lO="recaptcha-enterprise",kT="NO_RECAPTCHA";class uO{constructor(e){this.type=lO,this.auth=Uf(e)}async verify(e="verify",t=!1){async function i(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,u)=>{FM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new VM(c);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(c=>{u(c)})})}function r(s,o,u){const c=window.grecaptcha;$w(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(f=>{o(f)}).catch(()=>{o(kT)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aO().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(u=>{if(!t&&$w(window.grecaptcha))r(u,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=iO();c.length!==0&&(c+=u),RT(c).then(()=>{r(u,s,o)}).catch(f=>{o(f)})}}).catch(u=>{o(u)})})}}async function Jw(n,e,t,i=!1,r=!1){const s=new uO(n);let o;if(r)o=kT;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function eS(n,e,t,i,r){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Jw(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Jw(n,e,t,t==="getOobCode");return i(n,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(n,e){const t=Cv(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(hh(s,e??{}))return r;yo(r,"already-initialized")}return t.initialize({options:e})}function hO(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(eu);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function fO(n,e,t){const i=Uf(n);Bt(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=NT(e),{host:o,port:u}=dO(e),c=u===null?"":`:${u}`,f={url:`${s}//${o}${c}/`},p=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Bt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Bt(hh(f,i.config.emulator)&&hh(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,pO()}function NT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dO(n){const e=NT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:tS(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:tS(o)}}}function tS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function pO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jl("not implemented")}_getIdTokenResponse(e){return Jl("not implemented")}_linkToIdToken(e,t){return Jl("not implemented")}_getReauthenticationResolver(e){return Jl("not implemented")}}async function gO(n,e){return Lc(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(n,e){return Gv(n,"POST","/v1/accounts:signInWithPassword",Sh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(n,e){return Gv(n,"POST","/v1/accounts:signInWithEmailLink",Sh(n,e))}async function yO(n,e){return Gv(n,"POST","/v1/accounts:signInWithEmailLink",Sh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends $2{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new _p(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new _p(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eS(e,t,"signInWithPassword",mO);case"emailLink":return vO(e,{email:this._email,oobCode:this._password});default:yo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eS(e,i,"signUpPassword",gO);case"emailLink":return yO(e,{idToken:t,email:this._email,oobCode:this._password});default:yo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(n,e){return Gv(n,"POST","/v1/accounts:signInWithIdp",Sh(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="http://localhost";class mh extends $2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,s=z2(t,["providerId","signInMethod"]);if(!i||!r)return null;const o=new mh(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return gf(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,gf(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,gf(e,t)}buildRequest(){const e={requestUri:bO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Np(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wO(n){const e=Gd(Wd(n)).link,t=e?Gd(Wd(e)).deep_link_id:null,i=Gd(Wd(n)).deep_link_id;return(i?Gd(Wd(i)).link:null)||i||t||e||n}class K2{constructor(e){var t,i,r,s,o,u;const c=Gd(Wd(e)),f=(t=c.apiKey)!==null&&t!==void 0?t:null,p=(i=c.oobCode)!==null&&i!==void 0?i:null,v=_O((r=c.mode)!==null&&r!==void 0?r:null);Bt(f&&p&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=wO(e);try{return new K2(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this.providerId=zf.PROVIDER_ID}static credential(e,t){return _p._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=K2.parseLink(t);return Bt(i,"argument-error"),_p._fromEmailAndCode(e,i.code,i.tenantId)}}zf.PROVIDER_ID="password";zf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends PT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Up{constructor(){super("facebook.com")}static credential(e){return mh._fromParams({providerId:Xu.PROVIDER_ID,signInMethod:Xu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xu.credentialFromTaggedObject(e)}static credentialFromError(e){return Xu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xu.credential(e.oauthAccessToken)}catch{return null}}}Xu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends Up{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mh._fromParams({providerId:Qu.PROVIDER_ID,signInMethod:Qu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qu.credentialFromTaggedObject(e)}static credentialFromError(e){return Qu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Qu.credential(t,i)}catch{return null}}}Qu.GOOGLE_SIGN_IN_METHOD="google.com";Qu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends Up{constructor(){super("github.com")}static credential(e){return mh._fromParams({providerId:Zu.PROVIDER_ID,signInMethod:Zu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zu.credentialFromTaggedObject(e)}static credentialFromError(e){return Zu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zu.credential(e.oauthAccessToken)}catch{return null}}}Zu.GITHUB_SIGN_IN_METHOD="github.com";Zu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Up{constructor(){super("twitter.com")}static credential(e,t){return mh._fromParams({providerId:Ju.PROVIDER_ID,signInMethod:Ju.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ju.credentialFromTaggedObject(e)}static credentialFromError(e){return Ju.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ju.credential(t,i)}catch{return null}}}Ju.TWITTER_SIGN_IN_METHOD="twitter.com";Ju.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await fo._fromIdTokenResponse(e,i,r),o=nS(i);return new Rf({user:s,providerId:o,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=nS(i);return new Rf({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function nS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends pl{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,iv.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new iv(e,t,i,r)}}function MT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?iv._fromErrorAndOperation(n,s,e,i):s})}async function SO(n,e,t=!1){const i=await bp(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Rf._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(n,e,t=!1){const{auth:i}=n;if(Na(i.app))return Promise.reject(uc(i));const r="reauthenticate";try{const s=await bp(n,MT(i,r,e,n),t);Bt(s.idToken,i,"internal-error");const o=G2(s.idToken);Bt(o,i,"internal-error");const{sub:u}=o;return Bt(n.uid===u,i,"user-mismatch"),Rf._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yo(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(n,e,t=!1){if(Na(n.app))return Promise.reject(uc(n));const i="signIn",r=await MT(n,i,e),s=await Rf._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}async function AO(n,e){return OT(Uf(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(n){const e=Uf(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function LO(n,e,t){return Na(n.app)?Promise.reject(uc(n)):AO(jr(n),zf.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&xO(n),i})}function TO(n,e,t,i){return jr(n).onIdTokenChanged(e,t,i)}function CO(n,e,t){return jr(n).beforeAuthStateChanged(e,t)}const rv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rv,"1"),this.storage.removeItem(rv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=1e3,RO=10;class jT extends DT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!t&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);XM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,RO):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},IO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jT.type="LOCAL";const kO=jT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends DT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BT.type="SESSION";const VT=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new $v(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(o).map(async f=>f(t.origin,s)),c=await NO(u);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$v.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((u,c)=>{const f=Y2("",20);r.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(v){const w=v;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(w.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(){return window}function MO(n){ll().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){return typeof ll().WorkerGlobalScope<"u"&&typeof ll().importScripts=="function"}async function OO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function jO(){return FT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="firebaseLocalStorageDb",BO=1,sv="firebaseLocalStorage",zT="fbase_key";class zp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kv(n,e){return n.transaction([sv],e?"readwrite":"readonly").objectStore(sv)}function VO(){const n=indexedDB.deleteDatabase(UT);return new zp(n).toPromise()}function C1(){const n=indexedDB.open(UT,BO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(sv,{keyPath:zT})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(sv)?e(i):(i.close(),await VO(),e(await C1()))})})}async function iS(n,e,t){const i=Kv(n,!0).put({[zT]:e,value:t});return new zp(i).toPromise()}async function FO(n,e){const t=Kv(n,!1).get(e),i=await new zp(t).toPromise();return i===void 0?null:i.value}function rS(n,e){const t=Kv(n,!0).delete(e);return new zp(t).toPromise()}const UO=800,zO=3;class qT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await C1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>zO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$v._getInstance(jO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await OO(),!this.activeServiceWorker)return;this.sender=new PO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await C1();return await iS(e,rv,"1"),await rS(e,rv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>iS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>FO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Kv(r,!1).getAll();return new zp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qT.type="LOCAL";const qO=qT;new Fp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(n,e){return e?eu(e):(Bt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2 extends $2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return gf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return gf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GO(n){return OT(n.auth,new X2(n),n.bypassAuthState)}function WO(n){const{auth:e,user:t}=n;return Bt(t,e,"internal-error"),EO(t,new X2(n),n.bypassAuthState)}async function $O(n){const{auth:e,user:t}=n;return Bt(t,e,"internal-error"),SO(t,new X2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GO;case"linkViaPopup":case"linkViaRedirect":return $O;case"reauthViaPopup":case"reauthViaRedirect":return WO;default:yo(this.auth,"internal-error")}}resolve(e){au(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){au(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new Fp(2e3,1e4);class uf extends HT{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,uf.currentPopupAction&&uf.currentPopupAction.cancel(),uf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Bt(e,this.auth,"internal-error"),e}async onExecution(){au(this.filter.length===1,"Popup operations only handle one event");const e=Y2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ol(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ol(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ol(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KO.get())};e()}}uf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="pendingRedirect",xm=new Map;class XO extends HT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=xm.get(this.auth._key());if(!e){try{const i=await QO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}xm.set(this.auth._key(),e)}return this.bypassAuthState||xm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QO(n,e){const t=eD(e),i=JO(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function ZO(n,e){xm.set(n._key(),e)}function JO(n){return eu(n._redirectPersistence)}function eD(n){return Am(YO,n.config.apiKey,n.name)}async function tD(n,e,t=!1){if(Na(n.app))return Promise.reject(uc(n));const i=Uf(n),r=HO(i,e),o=await new XO(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=10*60*1e3;class iD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!GT(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ol(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nD&&this.cachedEventUids.clear(),this.cachedEventUids.has(sS(e))}saveEventToCache(e){this.cachedEventUids.add(sS(e)),this.lastProcessedEventTime=Date.now()}}function sS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function GT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e={}){return Lc(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oD=/^https?/;async function lD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await sD(n);for(const t of e)try{if(uD(t))return}catch{}yo(n,"unauthorized-domain")}function uD(n){const e=L1(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!oD.test(t))return!1;if(aD.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new Fp(3e4,6e4);function aS(){const n=ll().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hD(n){return new Promise((e,t)=>{var i,r,s;function o(){aS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aS(),t(ol(n,"network-request-failed"))},timeout:cD.get()})}if(!((r=(i=ll().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=ll().gapi)===null||s===void 0)&&s.load)o();else{const u=sO("iframefcb");return ll()[u]=()=>{gapi.load?o():t(ol(n,"network-request-failed"))},RT(`${rO()}?onload=${u}`).catch(c=>t(c))}}).catch(e=>{throw Lm=null,e})}let Lm=null;function fD(n){return Lm=Lm||hD(n),Lm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=new Fp(5e3,15e3),pD="__/auth/iframe",gD="emulator/auth/iframe",mD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yD(n){const e=n.config;Bt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?H2(e,gD):`https://${n.config.authDomain}/${pD}`,i={apiKey:e.apiKey,appName:n.name,v:bh},r=vD.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Np(i).slice(1)}`}async function bD(n){const e=await fD(n),t=ll().gapi;return Bt(t,n,"internal-error"),e.open({where:document.body,url:yD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mD,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=ol(n,"network-request-failed"),u=ll().setTimeout(()=>{s(o)},dD.get());function c(){ll().clearTimeout(u),r(i)}i.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wD=500,SD=600,ED="_blank",AD="http://localhost";class oS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xD(n,e,t,i=wD,r=SD){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},_D),{width:i.toString(),height:r.toString(),top:s,left:o}),f=ls().toLowerCase();t&&(u=ET(f)?ED:t),wT(f)&&(e=e||AD,c.scrollbars="yes");const p=Object.entries(c).reduce((w,[b,A])=>`${w}${b}=${A},`,"");if(YM(f)&&u!=="_self")return LD(e||"",u),new oS(null);const v=window.open(e||"",u,p);Bt(v,n,"popup-blocked");try{v.focus()}catch{}return new oS(v)}function LD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="__/auth/handler",CD="emulator/auth/handler",ID=encodeURIComponent("fac");async function lS(n,e,t,i,r,s){Bt(n.config.authDomain,n,"auth-domain-config-required"),Bt(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:bh,eventId:r};if(e instanceof PT){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",y6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries({}))o[p]=v}if(e instanceof Up){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(o.scopes=p.join(","))}n.tenantId&&(o.tid=n.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const c=await n._getAppCheckToken(),f=c?`#${ID}=${encodeURIComponent(c)}`:"";return`${RD(n)}?${Np(u).slice(1)}${f}`}function RD({config:n}){return n.emulator?H2(n,CD):`https://${n.authDomain}/${TD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="webStorageSupport";class kD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=tD,this._overrideRedirectResult=ZO}async _openPopup(e,t,i,r){var s;au((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lS(e,t,i,L1(),r);return xD(e,o,Y2())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await lS(e,t,i,L1(),r);return MO(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(au(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await bD(e),i=new iD(e);return t.register("authEvent",r=>(Bt(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ly,{type:Ly},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Ly];o!==void 0&&t(!!o),yo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CT()||ST()||W2()}}const ND=kD;var uS="@firebase/auth",cS="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OD(n){fh(new dc("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=i.options;Bt(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:o,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IT(n)},f=new tO(i,r,s,c);return hO(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),fh(new dc("auth-internal",e=>{const t=Uf(e.getProvider("auth").getImmediate());return(i=>new PD(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rl(uS,cS,MD(n)),rl(uS,cS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=5*60,jD=Rx("authIdTokenMaxAge")||DD;let hS=null;const BD=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>jD)return;const r=t==null?void 0:t.token;hS!==r&&(hS=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function VD(n=a2()){const e=Cv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=cO(n,{popupRedirectResolver:ND,persistence:[qO,kO,VT]}),i=Rx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=BD(s.toString());CO(t,o,()=>o(t.currentUser)),TO(t,u=>o(u))}}const r=Tx("auth");return r&&fO(t,`http://${r}`),t}function FD(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nO({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=ol("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",FD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OD("Browser");const UD={apiKey:"AIzaSyCsOymN9qQkrcyqQIdT8Tb9jqEOpc9DAD4",authDomain:"doctorapp-1c439.firebaseapp.com",projectId:"doctorapp-1c439",storageBucket:"doctorapp-1c439.appspot.com",messagingSenderId:"909285294383",appId:"1:909285294383:web:f2e026ab9bb568833aa1da",measurementId:"G-3K82EGN4XM"},Q2=Mx(UD),lh=RP(Q2);xM(Q2);const zD=VD(Q2),qD=["Cardiologist","Dermatologist","Pediatrician","Neurologist","Orthopedic","Oncologist","Psychiatrist","Ophthalmologist","Dentist","Gynecologist","Surgeon","General Practitioner"],HD=()=>{const[n,e]=R.useState([]),[t,i]=R.useState(""),[r,s]=R.useState(""),[o,u]=R.useState(null);R.useEffect(()=>{(async()=>{const b=(await Qm(yp(lh,"doctors"))).docs.map(A=>({id:A.id,...A.data()}));e(b)})()},[]);const c=async v=>{await ZP(A1(lh,"doctors",v)),e(w=>w.filter(b=>b.id!==v)),u(null)},f=async v=>{const w={...v,suspended:!v.suspended};await QP(A1(lh,"doctors",v.id),{suspended:w.suspended}),e(b=>b.map(A=>A.id===v.id?w:A)),u(w)},p=n.filter(v=>v.name.toLowerCase().includes(r.toLowerCase())&&(t===""||v.specialty===t));return Ke.jsxs("div",{className:"dashboard-container",children:[Ke.jsxs("div",{className:"dashboard-header",children:[Ke.jsx("input",{type:"text",placeholder:"Search by name...",value:r,onChange:v=>s(v.target.value)}),Ke.jsxs("select",{value:t,onChange:v=>i(v.target.value),children:[Ke.jsx("option",{value:"",children:"All Specialties"}),qD.map(v=>Ke.jsx("option",{value:v,children:v},v))]})]}),Ke.jsxs("div",{className:"dashboard-content",children:[Ke.jsx("div",{className:"doctor-list",children:p.map(v=>Ke.jsxs("div",{className:`doctor-card ${v.suspended?"suspended":""}`,onClick:()=>u(v),children:[Ke.jsx("h3",{children:v.name}),Ke.jsx("p",{children:v.specialty})]},v.id))}),o&&Ke.jsxs("div",{className:"doctor-detail",children:[Ke.jsx("img",{src:o.image,alt:o.name}),Ke.jsx("h2",{children:o.name}),Ke.jsxs("p",{children:[Ke.jsx("strong",{children:"Specialty:"})," ",o.specialty]}),Ke.jsxs("p",{children:[Ke.jsx("strong",{children:"Bio:"})," ",o.bio]}),Ke.jsxs("p",{children:[Ke.jsx("strong",{children:"Address:"})," ",o.location.address]}),Ke.jsx("div",{className:"map-container",children:Ke.jsx("iframe",{title:"doctor-location-map",width:"100%",height:"200",loading:"lazy",style:{border:0,borderRadius:"6px"},src:`https://maps.google.com/maps?q=${o.location.latitude},${o.location.longitude}&z=15&output=embed`})}),Ke.jsxs("div",{className:"card-buttons",children:[Ke.jsx("button",{onClick:()=>f(o),children:o.suspended?"Activate":"Suspend"}),Ke.jsx("button",{onClick:()=>c(o.id),children:"Remove"})]})]})]})]})};function wp(n){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(n)}function GD(n,e){if(wp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(wp(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function WD(n){var e=GD(n,"string");return wp(e)=="symbol"?e:e+""}function qe(n,e,t){return(e=WD(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ty,fS;function $D(){if(fS)return Ty;fS=1;var n=function(t,i,r,s,o,u,c,f){if(!t){var p;if(i===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[r,s,o,u,c,f],w=0;p=new Error(i.replace(/%s/g,function(){return v[w++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Ty=n,Ty}var KD=$D(),dr=WT(KD),en=R.createContext(null);function YD(){dr(!!R.useContext,"useGoogleMap is React hook and requires React version 16.8+");var n=R.useContext(en);return dr(!!n,"useGoogleMap needs a GoogleMap available up in the tree"),n}function XD(n,e,t){return Object.keys(n).reduce(function(r,s){return e(r,n[s],s)},t)}function QD(n,e){Object.keys(n).forEach(t=>e(n[t],t))}function ZD(n,e,t,i){var r={},s=(o,u)=>{var c=t[u];c!==e[u]&&(r[u]=c,o(i,c))};return QD(n,s),r}function JD(n,e,t){var i=XD(t,function(s,o,u){return typeof n[u]=="function"&&s.push(google.maps.event.addListener(e,o,n[u])),s},[]);return i}function e8(n){google.maps.event.removeListener(n)}function mn(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(e8)}function dn(n){var{updaterMap:e,eventMap:t,prevProps:i,nextProps:r,instance:s}=n,o=JD(r,s,t);return ZD(e,i,r,s),o}function t8(n){var{children:e,options:t,id:i,mapContainerStyle:r,mapContainerClassName:s,center:o,onClick:u,onDblClick:c,onDrag:f,onDragEnd:p,onDragStart:v,onMouseMove:w,onMouseOut:b,onMouseOver:A,onMouseDown:T,onMouseUp:C,onRightClick:I,onCenterChanged:j,onLoad:W,onUnmount:Z}=n,[X,se]=R.useState(null),B=R.useRef(null),[N,O]=R.useState(null),[G,k]=R.useState(null),[M,V]=R.useState(null),[oe,pe]=R.useState(null),[re,he]=R.useState(null),[ce,Se]=R.useState(null),[K,ve]=R.useState(null),[F,H]=R.useState(null),[ie,Q]=R.useState(null),[ue,we]=R.useState(null),[me,Ce]=R.useState(null),[je,Ve]=R.useState(null);return R.useEffect(()=>{t&&X!==null&&X.setOptions(t)},[X,t]),R.useEffect(()=>{X!==null&&typeof o<"u"&&X.setCenter(o)},[X,o]),R.useEffect(()=>{X&&c&&(G!==null&&google.maps.event.removeListener(G),k(google.maps.event.addListener(X,"dblclick",c)))},[c]),R.useEffect(()=>{X&&p&&(M!==null&&google.maps.event.removeListener(M),V(google.maps.event.addListener(X,"dragend",p)))},[p]),R.useEffect(()=>{X&&v&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(X,"dragstart",v)))},[v]),R.useEffect(()=>{X&&T&&(re!==null&&google.maps.event.removeListener(re),he(google.maps.event.addListener(X,"mousedown",T)))},[T]),R.useEffect(()=>{X&&w&&(ce!==null&&google.maps.event.removeListener(ce),Se(google.maps.event.addListener(X,"mousemove",w)))},[w]),R.useEffect(()=>{X&&b&&(K!==null&&google.maps.event.removeListener(K),ve(google.maps.event.addListener(X,"mouseout",b)))},[b]),R.useEffect(()=>{X&&A&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(X,"mouseover",A)))},[A]),R.useEffect(()=>{X&&C&&(ie!==null&&google.maps.event.removeListener(ie),Q(google.maps.event.addListener(X,"mouseup",C)))},[C]),R.useEffect(()=>{X&&I&&(ue!==null&&google.maps.event.removeListener(ue),we(google.maps.event.addListener(X,"rightclick",I)))},[I]),R.useEffect(()=>{X&&u&&(me!==null&&google.maps.event.removeListener(me),Ce(google.maps.event.addListener(X,"click",u)))},[u]),R.useEffect(()=>{X&&f&&(je!==null&&google.maps.event.removeListener(je),Ve(google.maps.event.addListener(X,"drag",f)))},[f]),R.useEffect(()=>{X&&j&&(N!==null&&google.maps.event.removeListener(N),O(google.maps.event.addListener(X,"center_changed",j)))},[u]),R.useEffect(()=>{var tt=B.current===null?null:new google.maps.Map(B.current,t);return se(tt),tt!==null&&W&&W(tt),()=>{tt!==null&&Z&&Z(tt)}},[]),Ke.jsx("div",{id:i,ref:B,style:r,className:s,children:Ke.jsx(en.Provider,{value:X,children:X!==null?e:null})})}R.memo(t8);function dS(n,e,t,i,r,s,o){try{var u=n[s](o),c=u.value}catch(f){return void t(f)}u.done?e(c):Promise.resolve(c).then(i,r)}function $T(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(c){dS(s,i,r,o,u,"next",c)}function u(c){dS(s,i,r,o,u,"throw",c)}o(void 0)})}}function KT(n){var{googleMapsApiKey:e,googleMapsClientId:t,version:i="weekly",language:r,region:s,libraries:o,channel:u,mapIds:c,authReferrerPolicy:f}=n,p=[];return dr(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?p.push("key=".concat(e)):t&&p.push("client=".concat(t)),i&&p.push("v=".concat(i)),r&&p.push("language=".concat(r)),s&&p.push("region=".concat(s)),o&&o.length&&p.push("libraries=".concat(o.sort().join(","))),u&&p.push("channel=".concat(u)),c&&c.length&&p.push("map_ids=".concat(c.join(","))),f&&p.push("auth_referrer_policy=".concat(f)),p.push("loading=async"),p.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(p.join("&"))}var ah=typeof document<"u";function YT(n){var{url:e,id:t,nonce:i}=n;return ah?new Promise(function(s,o){var u=document.getElementById(t),c=window;if(u){var f=u.getAttribute("data-state");if(u.src===e&&f!=="error"){if(f==="ready")return s(t);var p=c.initMap,v=u.onerror;c.initMap=function(){p&&p(),s(t)},u.onerror=function(b){v&&v(b),o(b)};return}else u.remove()}var w=document.createElement("script");w.type="text/javascript",w.src=e,w.id=t,w.async=!0,w.nonce=i||"",w.onerror=function(A){w.setAttribute("data-state","error"),o(A)},c.initMap=function(){w.setAttribute("data-state","ready"),s(t)},document.head.appendChild(w)}).catch(r=>{throw console.error("injectScript error: ",r),r}):Promise.reject(new Error("document is undefined"))}function pS(n){var e=n.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:n.tagName.toLowerCase()==="style"&&n.styleSheet&&n.styleSheet.cssText&&n.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(n.styleSheet.cssText="",!0):n.tagName.toLowerCase()==="style"&&n.innerHTML&&n.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(n.innerHTML="",!0):n.tagName.toLowerCase()==="style"&&!n.styleSheet&&!n.innerHTML}function XT(){var n=document.getElementsByTagName("head")[0];if(n){var e=n.insertBefore.bind(n);n.insertBefore=function(r,s){return pS(r)||Reflect.apply(e,n,[r,s]),r};var t=n.appendChild.bind(n);n.appendChild=function(r){return pS(r)||Reflect.apply(t,n,[r]),r}}}var Md=!1;function QT(){return Ke.jsx("div",{children:"Loading..."})}var I1={id:"script-loader",version:"weekly"};class ZT extends R.PureComponent{constructor(){super(...arguments),qe(this,"check",null),qe(this,"state",{loaded:!1}),qe(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),qe(this,"isCleaningUp",$T(function*(){function e(t){if(!Md)t();else if(ah)var i=window.setInterval(function(){Md||(window.clearInterval(i),t())},1)}return new Promise(e)})),qe(this,"cleanup",()=>{Md=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(i){return typeof i.src=="string"&&i.src.includes("maps.googleapis")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(i){return i.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(i){return i.innerText!==void 0&&i.innerText.length>0&&i.innerText.includes(".gm-")}).forEach(function(i){i.parentNode&&i.parentNode.removeChild(i)})}),qe(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&XT(),dr(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:KT(this.props)};YT(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),qe(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ah){if(window.google&&window.google.maps&&!Md){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ah&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ah){this.cleanup();var e=()=>{this.check||(delete window.google,Md=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return Ke.jsxs(Ke.Fragment,{children:[Ke.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||Ke.jsx(QT,{})]})}}qe(ZT,"defaultProps",I1);function n8(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}function Z2(n,e){if(n==null)return{};var t,i,r=n8(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}var gS;function i8(n){var{id:e=I1.id,version:t=I1.version,nonce:i,googleMapsApiKey:r,googleMapsClientId:s,language:o,region:u,libraries:c,preventGoogleFontsLoading:f,channel:p,mapIds:v,authReferrerPolicy:w}=n,b=R.useRef(!1),[A,T]=R.useState(!1),[C,I]=R.useState(void 0);R.useEffect(function(){return b.current=!0,()=>{b.current=!1}},[]),R.useEffect(function(){ah&&f&&XT()},[f]),R.useEffect(function(){A&&dr(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[A]);var j=KT({version:t,googleMapsApiKey:r,googleMapsClientId:s,language:o,region:u,libraries:c,channel:p,mapIds:v,authReferrerPolicy:w});R.useEffect(function(){if(!ah)return;function X(){b.current&&(T(!0),gS=j)}if(window.google&&window.google.maps&&gS===j){X();return}YT({id:e,url:j,nonce:i}).then(X).catch(function(B){b.current&&I(B),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(r||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(B)})},[e,j,i]);var W=R.useRef(void 0);return R.useEffect(function(){W.current&&c!==W.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),W.current=c},[c]),{isLoaded:A,loadError:C,url:j}}var r8=["loadingElement","onLoad","onError","onUnmount","children"],s8=Ke.jsx(QT,{});function a8(n){var{loadingElement:e,onLoad:t,onError:i,onUnmount:r,children:s}=n,o=Z2(n,r8),{isLoaded:u,loadError:c}=i8(o);return R.useEffect(function(){u&&typeof t=="function"&&t()},[u,t]),R.useEffect(function(){c&&typeof i=="function"&&i(c)},[c,i]),R.useEffect(function(){return()=>{r&&r()}},[r]),u?s:e||s8}R.memo(a8);var mS;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(mS||(mS={}));function vS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function av(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vS(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var yS={},bS={options(n,e){n.setOptions(e)}};function o8(n){var{options:e,onLoad:t,onUnmount:i}=n,r=R.useContext(en),[s,o]=R.useState(null);return R.useEffect(()=>{s!==null&&s.setMap(r)},[r]),R.useEffect(()=>{e&&s!==null&&s.setOptions(e)},[s,e]),R.useEffect(()=>{var u=new google.maps.TrafficLayer(av(av({},e),{},{map:r}));return o(u),t&&t(u),()=>{s!==null&&(i&&i(s),s.setMap(null))}},[]),null}R.memo(o8);class l8 extends R.PureComponent{constructor(){super(...arguments),qe(this,"state",{trafficLayer:null}),qe(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),qe(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(av(av({},this.props.options),{},{map:this.context}));this.registeredEvents=dn({updaterMap:bS,eventMap:yS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:bS,eventMap:yS,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),mn(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}qe(l8,"contextType",en);function u8(n){var{onLoad:e,onUnmount:t}=n,i=R.useContext(en),[r,s]=R.useState(null);return R.useEffect(()=>{r!==null&&r.setMap(i)},[i]),R.useEffect(()=>{var o=new google.maps.BicyclingLayer;return s(o),o.setMap(i),e&&e(o),()=>{o!==null&&(t&&t(o),o.setMap(null))}},[]),null}R.memo(u8);class c8 extends R.PureComponent{constructor(){super(...arguments),qe(this,"state",{bicyclingLayer:null}),qe(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}qe(c8,"contextType",en);function h8(n){var{onLoad:e,onUnmount:t}=n,i=R.useContext(en),[r,s]=R.useState(null);return R.useEffect(()=>{r!==null&&r.setMap(i)},[i]),R.useEffect(()=>{var o=new google.maps.TransitLayer;return s(o),o.setMap(i),e&&e(o),()=>{r!==null&&(t&&t(r),r.setMap(null))}},[]),null}R.memo(h8);class f8 extends R.PureComponent{constructor(){super(...arguments),qe(this,"state",{transitLayer:null}),qe(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}qe(f8,"contextType",en);function _S(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ov(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_S(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var wS={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},SS={drawingMode(n,e){n.setDrawingMode(e)},options(n,e){n.setOptions(e)}};function d8(n){var{options:e,drawingMode:t,onCircleComplete:i,onMarkerComplete:r,onOverlayComplete:s,onPolygonComplete:o,onPolylineComplete:u,onRectangleComplete:c,onLoad:f,onUnmount:p}=n,v=R.useContext(en),[w,b]=R.useState(null),[A,T]=R.useState(null),[C,I]=R.useState(null),[j,W]=R.useState(null),[Z,X]=R.useState(null),[se,B]=R.useState(null),[N,O]=R.useState(null);return R.useEffect(()=>{w!==null&&w.setMap(v)},[v]),R.useEffect(()=>{e&&w!==null&&w.setOptions(e)},[w,e]),R.useEffect(()=>{w!==null&&w.setDrawingMode(t??null)},[w,t]),R.useEffect(()=>{w&&i&&(A!==null&&google.maps.event.removeListener(A),T(google.maps.event.addListener(w,"circlecomplete",i)))},[w,i]),R.useEffect(()=>{w&&r&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(w,"markercomplete",r)))},[w,r]),R.useEffect(()=>{w&&s&&(j!==null&&google.maps.event.removeListener(j),W(google.maps.event.addListener(w,"overlaycomplete",s)))},[w,s]),R.useEffect(()=>{w&&o&&(Z!==null&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(w,"polygoncomplete",o)))},[w,o]),R.useEffect(()=>{w&&u&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(w,"polylinecomplete",u)))},[w,u]),R.useEffect(()=>{w&&c&&(N!==null&&google.maps.event.removeListener(N),O(google.maps.event.addListener(w,"rectanglecomplete",c)))},[w,c]),R.useEffect(()=>{dr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var G=new google.maps.drawing.DrawingManager(ov(ov({},e),{},{map:v}));return t&&G.setDrawingMode(t),i&&T(google.maps.event.addListener(G,"circlecomplete",i)),r&&I(google.maps.event.addListener(G,"markercomplete",r)),s&&W(google.maps.event.addListener(G,"overlaycomplete",s)),o&&X(google.maps.event.addListener(G,"polygoncomplete",o)),u&&B(google.maps.event.addListener(G,"polylinecomplete",u)),c&&O(google.maps.event.addListener(G,"rectanglecomplete",c)),b(G),f&&f(G),()=>{w!==null&&(A&&google.maps.event.removeListener(A),C&&google.maps.event.removeListener(C),j&&google.maps.event.removeListener(j),Z&&google.maps.event.removeListener(Z),se&&google.maps.event.removeListener(se),N&&google.maps.event.removeListener(N),p&&p(w),w.setMap(null))}},[]),null}R.memo(d8);class p8 extends R.PureComponent{constructor(e){super(e),qe(this,"registeredEvents",[]),qe(this,"state",{drawingManager:null}),qe(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),dr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(ov(ov({},this.props.options),{},{map:this.context}));this.registeredEvents=dn({updaterMap:SS,eventMap:wS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:SS,eventMap:wS,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),mn(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}qe(p8,"contextType",en);function ES(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ES(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var AS={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},xS={animation(n,e){n.setAnimation(e)},clickable(n,e){n.setClickable(e)},cursor(n,e){n.setCursor(e)},draggable(n,e){n.setDraggable(e)},icon(n,e){n.setIcon(e)},label(n,e){n.setLabel(e)},map(n,e){n.setMap(e)},opacity(n,e){n.setOpacity(e)},options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},shape(n,e){n.setShape(e)},title(n,e){n.setTitle(e)},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},lv={};function g8(n){var{position:e,options:t,clusterer:i,noClustererRedraw:r,children:s,draggable:o,visible:u,animation:c,clickable:f,cursor:p,icon:v,label:w,opacity:b,shape:A,title:T,zIndex:C,onClick:I,onDblClick:j,onDrag:W,onDragEnd:Z,onDragStart:X,onMouseOut:se,onMouseOver:B,onMouseUp:N,onMouseDown:O,onRightClick:G,onClickableChanged:k,onCursorChanged:M,onAnimationChanged:V,onDraggableChanged:oe,onFlatChanged:pe,onIconChanged:re,onPositionChanged:he,onShapeChanged:ce,onTitleChanged:Se,onVisibleChanged:K,onZindexChanged:ve,onLoad:F,onUnmount:H}=n,ie=R.useContext(en),[Q,ue]=R.useState(null),[we,me]=R.useState(null),[Ce,je]=R.useState(null),[Ve,tt]=R.useState(null),[nt,St]=R.useState(null),[Ne,fe]=R.useState(null),[Et,mt]=R.useState(null),[et,it]=R.useState(null),[rt,at]=R.useState(null),[vt,It]=R.useState(null),[Ot,yt]=R.useState(null),[pt,qt]=R.useState(null),[dt,Ht]=R.useState(null),[ut,Zn]=R.useState(null),[Gt,Ai]=R.useState(null),[$t,vn]=R.useState(null),[mi,tn]=R.useState(null),[pr,Mn]=R.useState(null),[ci,xi]=R.useState(null),[Sn,At]=R.useState(null),[Xt,rr]=R.useState(null),[Vn,Li]=R.useState(null);R.useEffect(()=>{Q!==null&&Q.setMap(ie)},[ie]),R.useEffect(()=>{typeof t<"u"&&Q!==null&&Q.setOptions(t)},[Q,t]),R.useEffect(()=>{typeof o<"u"&&Q!==null&&Q.setDraggable(o)},[Q,o]),R.useEffect(()=>{e&&Q!==null&&Q.setPosition(e)},[Q,e]),R.useEffect(()=>{typeof u<"u"&&Q!==null&&Q.setVisible(u)},[Q,u]),R.useEffect(()=>{Q==null||Q.setAnimation(c)},[Q,c]),R.useEffect(()=>{Q&&f!==void 0&&Q.setClickable(f)},[Q,f]),R.useEffect(()=>{Q&&p!==void 0&&Q.setCursor(p)},[Q,p]),R.useEffect(()=>{Q&&v!==void 0&&Q.setIcon(v)},[Q,v]),R.useEffect(()=>{Q&&w!==void 0&&Q.setLabel(w)},[Q,w]),R.useEffect(()=>{Q&&b!==void 0&&Q.setOpacity(b)},[Q,b]),R.useEffect(()=>{Q&&A!==void 0&&Q.setShape(A)},[Q,A]),R.useEffect(()=>{Q&&T!==void 0&&Q.setTitle(T)},[Q,T]),R.useEffect(()=>{Q&&C!==void 0&&Q.setZIndex(C)},[Q,C]),R.useEffect(()=>{Q&&j&&(we!==null&&google.maps.event.removeListener(we),me(google.maps.event.addListener(Q,"dblclick",j)))},[j]),R.useEffect(()=>{Q&&Z&&(Ce!==null&&google.maps.event.removeListener(Ce),je(google.maps.event.addListener(Q,"dragend",Z)))},[Z]),R.useEffect(()=>{Q&&X&&(Ve!==null&&google.maps.event.removeListener(Ve),tt(google.maps.event.addListener(Q,"dragstart",X)))},[X]),R.useEffect(()=>{Q&&O&&(nt!==null&&google.maps.event.removeListener(nt),St(google.maps.event.addListener(Q,"mousedown",O)))},[O]),R.useEffect(()=>{Q&&se&&(Ne!==null&&google.maps.event.removeListener(Ne),fe(google.maps.event.addListener(Q,"mouseout",se)))},[se]),R.useEffect(()=>{Q&&B&&(Et!==null&&google.maps.event.removeListener(Et),mt(google.maps.event.addListener(Q,"mouseover",B)))},[B]),R.useEffect(()=>{Q&&N&&(et!==null&&google.maps.event.removeListener(et),it(google.maps.event.addListener(Q,"mouseup",N)))},[N]),R.useEffect(()=>{Q&&G&&(rt!==null&&google.maps.event.removeListener(rt),at(google.maps.event.addListener(Q,"rightclick",G)))},[G]),R.useEffect(()=>{Q&&I&&(vt!==null&&google.maps.event.removeListener(vt),It(google.maps.event.addListener(Q,"click",I)))},[I]),R.useEffect(()=>{Q&&W&&(Ot!==null&&google.maps.event.removeListener(Ot),yt(google.maps.event.addListener(Q,"drag",W)))},[W]),R.useEffect(()=>{Q&&k&&(pt!==null&&google.maps.event.removeListener(pt),qt(google.maps.event.addListener(Q,"clickable_changed",k)))},[k]),R.useEffect(()=>{Q&&M&&(dt!==null&&google.maps.event.removeListener(dt),Ht(google.maps.event.addListener(Q,"cursor_changed",M)))},[M]),R.useEffect(()=>{Q&&V&&(ut!==null&&google.maps.event.removeListener(ut),Zn(google.maps.event.addListener(Q,"animation_changed",V)))},[V]),R.useEffect(()=>{Q&&oe&&(Gt!==null&&google.maps.event.removeListener(Gt),Ai(google.maps.event.addListener(Q,"draggable_changed",oe)))},[oe]),R.useEffect(()=>{Q&&pe&&($t!==null&&google.maps.event.removeListener($t),vn(google.maps.event.addListener(Q,"flat_changed",pe)))},[pe]),R.useEffect(()=>{Q&&re&&(mi!==null&&google.maps.event.removeListener(mi),tn(google.maps.event.addListener(Q,"icon_changed",re)))},[re]),R.useEffect(()=>{Q&&he&&(pr!==null&&google.maps.event.removeListener(pr),Mn(google.maps.event.addListener(Q,"position_changed",he)))},[he]),R.useEffect(()=>{Q&&ce&&(ci!==null&&google.maps.event.removeListener(ci),xi(google.maps.event.addListener(Q,"shape_changed",ce)))},[ce]),R.useEffect(()=>{Q&&Se&&(Sn!==null&&google.maps.event.removeListener(Sn),At(google.maps.event.addListener(Q,"title_changed",Se)))},[Se]),R.useEffect(()=>{Q&&K&&(Xt!==null&&google.maps.event.removeListener(Xt),rr(google.maps.event.addListener(Q,"visible_changed",K)))},[K]),R.useEffect(()=>{Q&&ve&&(Vn!==null&&google.maps.event.removeListener(Vn),Li(google.maps.event.addListener(Q,"zindex_changed",ve)))},[ve]),R.useEffect(()=>{var ct=mf(mf(mf({},t||lv),i?lv:{map:ie}),{},{position:e}),ht=new google.maps.Marker(ct);return i?i.addMarker(ht,!!r):ht.setMap(ie),e&&ht.setPosition(e),typeof u<"u"&&ht.setVisible(u),typeof o<"u"&&ht.setDraggable(o),typeof f<"u"&&ht.setClickable(f),typeof p=="string"&&ht.setCursor(p),v&&ht.setIcon(v),typeof w<"u"&&ht.setLabel(w),typeof b<"u"&&ht.setOpacity(b),A&&ht.setShape(A),typeof T=="string"&&ht.setTitle(T),typeof C=="number"&&ht.setZIndex(C),j&&me(google.maps.event.addListener(ht,"dblclick",j)),Z&&je(google.maps.event.addListener(ht,"dragend",Z)),X&&tt(google.maps.event.addListener(ht,"dragstart",X)),O&&St(google.maps.event.addListener(ht,"mousedown",O)),se&&fe(google.maps.event.addListener(ht,"mouseout",se)),B&&mt(google.maps.event.addListener(ht,"mouseover",B)),N&&it(google.maps.event.addListener(ht,"mouseup",N)),G&&at(google.maps.event.addListener(ht,"rightclick",G)),I&&It(google.maps.event.addListener(ht,"click",I)),W&&yt(google.maps.event.addListener(ht,"drag",W)),k&&qt(google.maps.event.addListener(ht,"clickable_changed",k)),M&&Ht(google.maps.event.addListener(ht,"cursor_changed",M)),V&&Zn(google.maps.event.addListener(ht,"animation_changed",V)),oe&&Ai(google.maps.event.addListener(ht,"draggable_changed",oe)),pe&&vn(google.maps.event.addListener(ht,"flat_changed",pe)),re&&tn(google.maps.event.addListener(ht,"icon_changed",re)),he&&Mn(google.maps.event.addListener(ht,"position_changed",he)),ce&&xi(google.maps.event.addListener(ht,"shape_changed",ce)),Se&&At(google.maps.event.addListener(ht,"title_changed",Se)),K&&rr(google.maps.event.addListener(ht,"visible_changed",K)),ve&&Li(google.maps.event.addListener(ht,"zindex_changed",ve)),ue(ht),F&&F(ht),()=>{we!==null&&google.maps.event.removeListener(we),Ce!==null&&google.maps.event.removeListener(Ce),Ve!==null&&google.maps.event.removeListener(Ve),nt!==null&&google.maps.event.removeListener(nt),Ne!==null&&google.maps.event.removeListener(Ne),Et!==null&&google.maps.event.removeListener(Et),et!==null&&google.maps.event.removeListener(et),rt!==null&&google.maps.event.removeListener(rt),vt!==null&&google.maps.event.removeListener(vt),pt!==null&&google.maps.event.removeListener(pt),dt!==null&&google.maps.event.removeListener(dt),ut!==null&&google.maps.event.removeListener(ut),Gt!==null&&google.maps.event.removeListener(Gt),$t!==null&&google.maps.event.removeListener($t),mi!==null&&google.maps.event.removeListener(mi),pr!==null&&google.maps.event.removeListener(pr),Sn!==null&&google.maps.event.removeListener(Sn),Xt!==null&&google.maps.event.removeListener(Xt),Vn!==null&&google.maps.event.removeListener(Vn),H&&H(ht),i?i.removeMarker(ht,!!r):ht&&ht.setMap(null)}},[]);var Lr=R.useMemo(()=>s?R.Children.map(s,ct=>{if(!R.isValidElement(ct))return ct;var ht=ct;return R.cloneElement(ht,{anchor:Q})}):null,[s,Q]);return Ke.jsx(Ke.Fragment,{children:Lr})||null}R.memo(g8);class m8 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[])}componentDidMount(){var e=this;return $T(function*(){var t=mf(mf(mf({},e.props.options||lv),e.props.clusterer?lv:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=dn({updaterMap:xS,eventMap:AS,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:xS,eventMap:AS,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),mn(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?R.Children.map(this.props.children,t=>{if(!R.isValidElement(t))return t;var i=t;return R.cloneElement(i,{anchor:this.marker})}):null;return e||null}}qe(m8,"contextType",en);var v8=function(){function n(e,t){e.getClusterer().extend(n,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return n.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},n.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},n.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var i=t.getMaxZoom(),r=this.cluster.getBounds(),s=t.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(r),this.timeOut=window.setTimeout(function(){var o=t.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(r);var u=o.getZoom()||0;i!==null&&u>i&&o.setZoom(i+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},n.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},n.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},n.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},n.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},n.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},n.prototype.show=function(){var e,t,i,r,s,o;if(this.div&&this.center){var u=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),f=parseInt(((e=c[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),p=parseInt(((t=c[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),v=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(v!==null?"".concat(v.y,"px"):"0","; left: ").concat(v!==null?"".concat(v.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var w=document.createElement("img");w.alt=u,w.src=this.url,w.width=this.width,w.height=this.height,w.setAttribute("style","position: absolute; top: ".concat(p,"px; left: ").concat(f,"px")),this.cluster.getClusterer().enableRetinaIcons||(w.style.clip="rect(-".concat(p,"px, -").concat(f+this.width,"px, -").concat(p+this.height,", -").concat(f,")"));var b=document.createElement("div");b.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((i=this.sums)===null||i===void 0)&&i.text&&(b.innerText="".concat((r=this.sums)===null||r===void 0?void 0:r.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(b.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(w),this.div.appendChild(b),this.div.title=u,this.div.style.display=""}this.visible=!0},n.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),i=t[Math.min(t.length-1,Math.max(0,e.index-1))];i&&(this.url=i.url,this.height=i.height,this.width=i.width,i.className&&(this.className="".concat(this.clusterClassName," ").concat(i.className)),this.anchorText=i.anchorText||[0,0],this.anchorIcon=i.anchorIcon||[this.height/2,this.width/2],this.textColor=i.textColor||"black",this.textSize=i.textSize||11,this.textDecoration=i.textDecoration||"none",this.fontWeight=i.fontWeight||"bold",this.fontStyle=i.fontStyle||"normal",this.fontFamily=i.fontFamily||"Arial,sans-serif",this.backgroundPosition=i.backgroundPosition||"0 0")},n.prototype.setCenter=function(e){this.center=e},n.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},n}(),y8=function(){function n(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new v8(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return n.prototype.getSize=function(){return this.markers.length},n.prototype.getMarkers=function(){return this.markers},n.prototype.getCenter=function(){return this.center},n.prototype.getMap=function(){return this.map},n.prototype.getClusterer=function(){return this.markerClusterer},n.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),i=0,r=t;i<r.length;i++){var s=r[i],o=s.getPosition();o&&e.extend(o)}return e},n.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},n.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var i=e.getPosition();if(i){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+i.lat())/r,(this.center.lng()*(r-1)+i.lng())/r),this.calculateBounds()}}}else{var i=e.getPosition();i&&(this.center=i,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),u=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(o!==null&&typeof u<"u"&&u>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var c=0,f=this.markers;c<f.length;c++){var p=f[c];p.setMap(null)}else e.setMap(null);return!0},n.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},n.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},n.prototype.updateIcon=function(){var e,t=this.markers.length,i=this.markerClusterer.getMaxZoom(),r=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(i!==null&&typeof r<"u"&&r>i){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},n.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},n}();function b8(n,e){var t=n.length,i=t.toString().length,r=Math.min(i,e);return{text:t.toString(),index:r,title:""}}var _8=2e3,w8=500,S8="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",E8="png",A8=[53,56,66,78,90],x8="cluster",JT=function(){function n(e,t,i){t===void 0&&(t=[]),i===void 0&&(i={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(n,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=!0,i.zoomOnClick!==void 0&&(this.zoomOnClick=i.zoomOnClick),this.averageCenter=!1,i.averageCenter!==void 0&&(this.averageCenter=i.averageCenter),this.ignoreHidden=!1,i.ignoreHidden!==void 0&&(this.ignoreHidden=i.ignoreHidden),this.enableRetinaIcons=!1,i.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=i.enableRetinaIcons),this.imagePath=i.imagePath||S8,this.imageExtension=i.imageExtension||E8,this.imageSizes=i.imageSizes||A8,this.calculator=i.calculator||b8,this.batchSize=i.batchSize||_8,this.batchSizeIE=i.batchSizeIE||w8,this.clusterClass=i.clusterClass||x8,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return n.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},n.prototype.onIdle=function(){this.redraw()},n.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},n.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var i=t[e];i.getMap()!==this.activeMap&&i.setMap(this.activeMap)}for(var r=0,s=this.clusters;r<s.length;r++){var o=s[r];o.remove()}this.clusters=[];for(var u=0,c=this.listeners;u<c.length;u++){var f=c[u];google.maps.event.removeListener(f)}this.listeners=[],this.activeMap=null,this.ready=!1},n.prototype.draw=function(){},n.prototype.getMap=function(){return null},n.prototype.getPanes=function(){return null},n.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},n.prototype.setMap=function(){},n.prototype.addListener=function(){return{remove:function(){}}},n.prototype.bindTo=function(){},n.prototype.get=function(){},n.prototype.notify=function(){},n.prototype.set=function(){},n.prototype.setValues=function(){},n.prototype.unbind=function(){},n.prototype.unbindAll=function(){},n.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},n.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,i=0,r=e;i<r.length;i++){var s=r[i],o=s.getPosition();o&&t.extend(o)}var u=this.getMap();u!==null&&"fitBounds"in u&&u.fitBounds(t)},n.prototype.getGridSize=function(){return this.gridSize},n.prototype.setGridSize=function(e){this.gridSize=e},n.prototype.getMinimumClusterSize=function(){return this.minClusterSize},n.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.setMaxZoom=function(e){this.maxZoom=e},n.prototype.getStyles=function(){return this.styles},n.prototype.setStyles=function(e){this.styles=e},n.prototype.getTitle=function(){return this.title},n.prototype.setTitle=function(e){this.title=e},n.prototype.getZoomOnClick=function(){return this.zoomOnClick},n.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},n.prototype.getAverageCenter=function(){return this.averageCenter},n.prototype.setAverageCenter=function(e){this.averageCenter=e},n.prototype.getIgnoreHidden=function(){return this.ignoreHidden},n.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},n.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},n.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},n.prototype.getImageExtension=function(){return this.imageExtension},n.prototype.setImageExtension=function(e){this.imageExtension=e},n.prototype.getImagePath=function(){return this.imagePath},n.prototype.setImagePath=function(e){this.imagePath=e},n.prototype.getImageSizes=function(){return this.imageSizes},n.prototype.setImageSizes=function(e){this.imageSizes=e},n.prototype.getCalculator=function(){return this.calculator},n.prototype.setCalculator=function(e){this.calculator=e},n.prototype.getBatchSizeIE=function(){return this.batchSizeIE},n.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},n.prototype.getClusterClass=function(){return this.clusterClass},n.prototype.setClusterClass=function(e){this.clusterClass=e},n.prototype.getMarkers=function(){return this.markers},n.prototype.getTotalMarkers=function(){return this.markers.length},n.prototype.getClusters=function(){return this.clusters},n.prototype.getTotalClusters=function(){return this.clusters.length},n.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},n.prototype.addMarkers=function(e,t){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];r&&this.pushMarkerTo(r)}t||this.redraw()},n.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},n.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var i=0;i<this.markers.length;i++)if(e===this.markers[i]){t=i;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},n.prototype.removeMarker=function(e,t){var i=this.removeMarker_(e);return!t&&i&&this.repaint(),i},n.prototype.removeMarkers=function(e,t){for(var i=!1,r=0,s=e;r<s.length;r++){var o=s[r];i=i||this.removeMarker_(o)}return!t&&i&&this.repaint(),i},n.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},n.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var i=0,r=e;i<r.length;i++){var s=r[i];s.remove()}},0)},n.prototype.getExtendedBounds=function(e){var t=this.getProjection(),i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));i!==null&&(i.x+=this.gridSize,i.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(r!==null&&(r.x-=this.gridSize,r.y+=this.gridSize),i!==null){var s=t.fromDivPixelToLatLng(i);s!==null&&e.extend(s)}if(r!==null){var o=t.fromDivPixelToLatLng(r);o!==null&&e.extend(o)}return e},n.prototype.redraw=function(){this.createClusters(0)},n.prototype.resetViewport=function(e){for(var t=0,i=this.clusters;t<i.length;t++){var r=i[t];r.remove()}this.clusters=[];for(var s=0,o=this.markers;s<o.length;s++){var u=o[s];u.isAdded=!1,e&&u.setMap(null)}},n.prototype.distanceBetweenPoints=function(e,t){var i=6371,r=(t.lat()-e.lat())*Math.PI/180,s=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return i*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},n.prototype.isMarkerInBounds=function(e,t){var i=e.getPosition();return i?t.contains(i):!1},n.prototype.addToClosestCluster=function(e){for(var t,i=4e4,r=null,s=0,o=this.clusters;s<o.length;s++){var u=o[s];t=u;var c=t.getCenter(),f=e.getPosition();if(c&&f){var p=this.distanceBetweenPoints(c,f);p<i&&(i=p,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):(t=new y8(this),t.addMarker(e),this.clusters.push(t))},n.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var i=this.getMap(),r=i!==null&&("getBounds"in i)?i.getBounds():null,s=(i==null?void 0:i.getZoom())||0,o=s>3?new google.maps.LatLngBounds(r==null?void 0:r.getSouthWest(),r==null?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),u=this.getExtendedBounds(o),c=Math.min(e+this.batchSize,this.markers.length),f=e;f<c;f++){var p=this.markers[f];p&&!p.isAdded&&this.isMarkerInBounds(p,u)&&(!this.ignoreHidden||this.ignoreHidden&&p.getVisible())&&this.addToClosestCluster(p)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var v=0,w=this.clusters;v<w.length;v++){var b=w[v];b.updateIcon()}}}},n.prototype.extend=function(e,t){return(function(r){for(var s in r.prototype){var o=s;this.prototype[o]=r.prototype[o]}return this}).apply(e,[t])},n}();function LS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function L8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ka={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Nn={averageCenter(n,e){n.setAverageCenter(e)},batchSizeIE(n,e){n.setBatchSizeIE(e)},calculator(n,e){n.setCalculator(e)},clusterClass(n,e){n.setClusterClass(e)},enableRetinaIcons(n,e){n.setEnableRetinaIcons(e)},gridSize(n,e){n.setGridSize(e)},ignoreHidden(n,e){n.setIgnoreHidden(e)},imageExtension(n,e){n.setImageExtension(e)},imagePath(n,e){n.setImagePath(e)},imageSizes(n,e){n.setImageSizes(e)},maxZoom(n,e){n.setMaxZoom(e)},minimumClusterSize(n,e){n.setMinimumClusterSize(e)},styles(n,e){n.setStyles(e)},title(n,e){n.setTitle(e)},zoomOnClick(n,e){n.setZoomOnClick(e)}},T8={};function C8(n){var{children:e,options:t,averageCenter:i,batchSizeIE:r,calculator:s,clusterClass:o,enableRetinaIcons:u,gridSize:c,ignoreHidden:f,imageExtension:p,imagePath:v,imageSizes:w,maxZoom:b,minimumClusterSize:A,styles:T,title:C,zoomOnClick:I,onClick:j,onClusteringBegin:W,onClusteringEnd:Z,onMouseOver:X,onMouseOut:se,onLoad:B,onUnmount:N}=n,[O,G]=R.useState(null),k=R.useContext(en),[M,V]=R.useState(null),[oe,pe]=R.useState(null),[re,he]=R.useState(null),[ce,Se]=R.useState(null),[K,ve]=R.useState(null);return R.useEffect(()=>{O&&se&&(ce!==null&&google.maps.event.removeListener(ce),Se(google.maps.event.addListener(O,ka.onMouseOut,se)))},[se]),R.useEffect(()=>{O&&X&&(K!==null&&google.maps.event.removeListener(K),ve(google.maps.event.addListener(O,ka.onMouseOver,X)))},[X]),R.useEffect(()=>{O&&j&&(M!==null&&google.maps.event.removeListener(M),V(google.maps.event.addListener(O,ka.onClick,j)))},[j]),R.useEffect(()=>{O&&W&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(O,ka.onClusteringBegin,W)))},[W]),R.useEffect(()=>{O&&Z&&(re!==null&&google.maps.event.removeListener(re),pe(google.maps.event.addListener(O,ka.onClusteringEnd,Z)))},[Z]),R.useEffect(()=>{typeof i<"u"&&O!==null&&Nn.averageCenter(O,i)},[O,i]),R.useEffect(()=>{typeof r<"u"&&O!==null&&Nn.batchSizeIE(O,r)},[O,r]),R.useEffect(()=>{typeof s<"u"&&O!==null&&Nn.calculator(O,s)},[O,s]),R.useEffect(()=>{typeof o<"u"&&O!==null&&Nn.clusterClass(O,o)},[O,o]),R.useEffect(()=>{typeof u<"u"&&O!==null&&Nn.enableRetinaIcons(O,u)},[O,u]),R.useEffect(()=>{typeof c<"u"&&O!==null&&Nn.gridSize(O,c)},[O,c]),R.useEffect(()=>{typeof f<"u"&&O!==null&&Nn.ignoreHidden(O,f)},[O,f]),R.useEffect(()=>{typeof p<"u"&&O!==null&&Nn.imageExtension(O,p)},[O,p]),R.useEffect(()=>{typeof v<"u"&&O!==null&&Nn.imagePath(O,v)},[O,v]),R.useEffect(()=>{typeof w<"u"&&O!==null&&Nn.imageSizes(O,w)},[O,w]),R.useEffect(()=>{typeof b<"u"&&O!==null&&Nn.maxZoom(O,b)},[O,b]),R.useEffect(()=>{typeof A<"u"&&O!==null&&Nn.minimumClusterSize(O,A)},[O,A]),R.useEffect(()=>{typeof T<"u"&&O!==null&&Nn.styles(O,T)},[O,T]),R.useEffect(()=>{typeof C<"u"&&O!==null&&Nn.title(O,C)},[O,C]),R.useEffect(()=>{typeof I<"u"&&O!==null&&Nn.zoomOnClick(O,I)},[O,I]),R.useEffect(()=>{if(k){var F=L8({},t||T8),H=new JT(k,[],F);return i&&Nn.averageCenter(H,i),r&&Nn.batchSizeIE(H,r),s&&Nn.calculator(H,s),o&&Nn.clusterClass(H,o),u&&Nn.enableRetinaIcons(H,u),c&&Nn.gridSize(H,c),f&&Nn.ignoreHidden(H,f),p&&Nn.imageExtension(H,p),v&&Nn.imagePath(H,v),w&&Nn.imageSizes(H,w),b&&Nn.maxZoom(H,b),A&&Nn.minimumClusterSize(H,A),T&&Nn.styles(H,T),C&&Nn.title(H,C),I&&Nn.zoomOnClick(H,I),se&&Se(google.maps.event.addListener(H,ka.onMouseOut,se)),X&&ve(google.maps.event.addListener(H,ka.onMouseOver,X)),j&&V(google.maps.event.addListener(H,ka.onClick,j)),W&&pe(google.maps.event.addListener(H,ka.onClusteringBegin,W)),Z&&he(google.maps.event.addListener(H,ka.onClusteringEnd,Z)),G(H),B&&B(H),()=>{ce!==null&&google.maps.event.removeListener(ce),K!==null&&google.maps.event.removeListener(K),M!==null&&google.maps.event.removeListener(M),oe!==null&&google.maps.event.removeListener(oe),re!==null&&google.maps.event.removeListener(re),N&&N(H)}}},[]),O!==null&&e(O)||null}R.memo(C8);class I8 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{markerClusterer:null}),qe(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new JT(this.context,[],this.props.options);this.registeredEvents=dn({updaterMap:Nn,eventMap:ka,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:Nn,eventMap:ka,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),mn(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}qe(I8,"contextType",en);function TS(n){n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()}var e4=function(){function n(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(n,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return n.prototype.createInfoBoxDiv=function(){var e=this,t=function(p){p.returnValue=!1,p.preventDefault&&p.preventDefault(),e.enableEventPropagation||TS(p)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var i=this.getPanes();if(i!==null&&i[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var r=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-r.left-r.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,u=s;o<u.length;o++){var c=u[o];this.eventListeners.push(google.maps.event.addListener(this.div,c,TS))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},n.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},n.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},n.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},n.prototype.getCloseClickHandler=function(){return this.closeClickHandler},n.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var i=0,r=0,s=t.getBounds();s&&!s.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),u=o.offsetWidth,c=o.offsetHeight,f=this.pixelOffset.width,p=this.pixelOffset.height,v=this.div.offsetWidth,w=this.div.offsetHeight,b=this.infoBoxClearance.width,A=this.infoBoxClearance.height,T=this.getProjection(),C=T.fromLatLngToContainerPixel(this.position);C!==null&&(C.x<-f+b?i=C.x+f-b:C.x+v+f+b>u&&(i=C.x+v+f+b-u),this.alignBottom?C.y<-p+A+w?r=C.y+p-A-w:C.y+p+A>c&&(r=C.y+p+A-c):C.y<-p+A?r=C.y+p-A:C.y+w+p+A>c&&(r=C.y+w+p+A-c)),i===0&&r===0||t.panBy(i,r)}}},n.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var i=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+i*100+')"',this.div.style.filter="alpha(opacity="+i*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},n.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,i=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},n.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},n.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},n.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},n.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},n.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},n.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},n.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},n.prototype.getContent=function(){return this.content},n.prototype.getPosition=function(){return this.position},n.prototype.getZIndex=function(){return this.zIndex},n.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},n.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},n.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},n.prototype.open=function(e,t){var i=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var r=t.getPosition();i.setPosition(r)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){i.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},n.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var i=t[e];google.maps.event.removeListener(i)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},n.prototype.extend=function(e,t){return(function(r){for(var s in r.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=r.prototype[s]);return this}).apply(e,[t])},n}(),R8=["position"],k8=["position"];function CS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function uv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var IS={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},RS={options(n,e){n.setOptions(e)},position(n,e){e instanceof google.maps.LatLng?n.setPosition(e):n.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(n,e){n.setVisible(e)},zIndex(n,e){n.setZIndex(e)}},N8={};function P8(n){var{children:e,anchor:t,options:i,position:r,zIndex:s,onCloseClick:o,onDomReady:u,onContentChanged:c,onPositionChanged:f,onZindexChanged:p,onLoad:v,onUnmount:w}=n,b=R.useContext(en),[A,T]=R.useState(null),[C,I]=R.useState(null),[j,W]=R.useState(null),[Z,X]=R.useState(null),[se,B]=R.useState(null),[N,O]=R.useState(null),G=R.useRef(null);return R.useEffect(()=>{b&&A!==null&&(A.close(),t?A.open(b,t):A.getPosition()&&A.open(b))},[b,A,t]),R.useEffect(()=>{i&&A!==null&&A.setOptions(i)},[A,i]),R.useEffect(()=>{if(r&&A!==null){var k=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);A.setPosition(k)}},[r]),R.useEffect(()=>{typeof s=="number"&&A!==null&&A.setZIndex(s)},[s]),R.useEffect(()=>{A&&o&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(A,"closeclick",o)))},[o]),R.useEffect(()=>{A&&u&&(j!==null&&google.maps.event.removeListener(j),W(google.maps.event.addListener(A,"domready",u)))},[u]),R.useEffect(()=>{A&&c&&(Z!==null&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(A,"content_changed",c)))},[c]),R.useEffect(()=>{A&&f&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(A,"position_changed",f)))},[f]),R.useEffect(()=>{A&&p&&(N!==null&&google.maps.event.removeListener(N),O(google.maps.event.addListener(A,"zindex_changed",p)))},[p]),R.useEffect(()=>{if(b){var k=i||N8,{position:M}=k,V=Z2(k,R8),oe;M&&!(M instanceof google.maps.LatLng)&&(oe=new google.maps.LatLng(M.lat,M.lng));var pe=new e4(uv(uv({},V),oe?{position:oe}:{}));G.current=document.createElement("div"),T(pe),o&&I(google.maps.event.addListener(pe,"closeclick",o)),u&&W(google.maps.event.addListener(pe,"domready",u)),c&&X(google.maps.event.addListener(pe,"content_changed",c)),f&&B(google.maps.event.addListener(pe,"position_changed",f)),p&&O(google.maps.event.addListener(pe,"zindex_changed",p)),pe.setContent(G.current),t?pe.open(b,t):pe.getPosition()?pe.open(b):dr(!1,"You must provide either an anchor or a position prop for <InfoBox>."),v&&v(pe)}return()=>{A!==null&&(C&&google.maps.event.removeListener(C),Z&&google.maps.event.removeListener(Z),j&&google.maps.event.removeListener(j),se&&google.maps.event.removeListener(se),N&&google.maps.event.removeListener(N),w&&w(A),A.close())}},[]),G.current?Of.createPortal(R.Children.only(e),G.current):null}R.memo(P8);class M8 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"containerElement",null),qe(this,"state",{infoBox:null}),qe(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):dr(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),qe(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,i=Z2(e,k8),r;t&&!(t instanceof google.maps.LatLng)&&(r=new google.maps.LatLng(t.lat,t.lng));var s=new e4(uv(uv({},i),r?{position:r}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=dn({updaterMap:RS,eventMap:IS,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:RS,eventMap:IS,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),mn(this.registeredEvents),t.close())}render(){return this.containerElement?Of.createPortal(R.Children.only(this.props.children),this.containerElement):null}}qe(M8,"contextType",en);var Cy,kS;function O8(){return kS||(kS=1,Cy=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,s;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!n(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=i;r--!==0;){var o=s[r];if(!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}),Cy}var D8=O8(),NS=WT(D8),PS=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Iy=1,Od=8;class J2{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,i]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var r=i>>4;if(r!==Iy)throw new Error("Got v".concat(r," data when expected v").concat(Iy,"."));var s=PS[i&15];if(!s)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[u]=new Uint32Array(e,4,1);return new J2(u,o,s,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=i,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=PS.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,u=e*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-u%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(i,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,Od,e),this.coords=new this.ArrayType(this.data,Od+u+c,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Od+o+u+c),this.ids=new this.IndexArrayType(this.data,Od,e),this.coords=new this.ArrayType(this.data,Od+u+c,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Iy<<4)+s]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var i=this._pos>>1;return this.ids[i]=i,this.coords[this._pos++]=e,this.coords[this._pos++]=t,i}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return R1(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,i,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:u}=this,c=[0,s.length-1,0],f=[];c.length;){var p=c.pop()||0,v=c.pop()||0,w=c.pop()||0;if(v-w<=u){for(var b=w;b<=v;b++){var A=o[2*b],T=o[2*b+1];A>=e&&A<=i&&T>=t&&T<=r&&f.push(s[b])}continue}var C=w+v>>1,I=o[2*C],j=o[2*C+1];I>=e&&I<=i&&j>=t&&j<=r&&f.push(s[C]),(p===0?e<=I:t<=j)&&(c.push(w),c.push(C-1),c.push(1-p)),(p===0?i>=I:r>=j)&&(c.push(C+1),c.push(v),c.push(1-p))}return f}within(e,t,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:s,nodeSize:o}=this,u=[0,r.length-1,0],c=[],f=i*i;u.length;){var p=u.pop()||0,v=u.pop()||0,w=u.pop()||0;if(v-w<=o){for(var b=w;b<=v;b++)MS(s[2*b],s[2*b+1],e,t)<=f&&c.push(r[b]);continue}var A=w+v>>1,T=s[2*A],C=s[2*A+1];MS(T,C,e,t)<=f&&c.push(r[A]),(p===0?e-i<=T:t-i<=C)&&(u.push(w),u.push(A-1),u.push(1-p)),(p===0?e+i>=T:t+i>=C)&&(u.push(A+1),u.push(v),u.push(1-p))}return c}}function R1(n,e,t,i,r,s){if(!(r-i<=t)){var o=i+r>>1;t4(n,e,o,i,r,s),R1(n,e,t,i,o-1,1-s),R1(n,e,t,o+1,r,1-s)}}function t4(n,e,t,i,r,s){for(;r>i;){if(r-i>600){var o=r-i+1,u=t-i+1,c=Math.log(o),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(o-f)/o)*(u-o/2<0?-1:1),v=Math.max(i,Math.floor(t-u*f/o+p)),w=Math.min(r,Math.floor(t+(o-u)*f/o+p));t4(n,e,t,v,w,s)}var b=e[2*t+s],A=i,T=r;for(Dd(n,e,i,t),e[2*r+s]>b&&Dd(n,e,i,r);A<T;){for(Dd(n,e,A,T),A++,T--;e[2*A+s]<b;)A++;for(;e[2*T+s]>b;)T--}e[2*i+s]===b?Dd(n,e,i,T):(T++,Dd(n,e,T,r)),T<=t&&(i=T+1),t<=T&&(r=T-1)}}function Dd(n,e,t,i){Ry(n,t,i),Ry(e,2*t,2*i),Ry(e,2*t+1,2*i+1)}function Ry(n,e,t){var i=n[e];n[e]=n[t],n[t]=i}function MS(n,e,t,i){var r=n-t,s=e-i;return r*r+s*s}var j8={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},OS=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1)),Yc=2,Yu=3,ky=4,Ku=5,n4=6;class B8{constructor(e){this.options=Object.assign(Object.create(j8),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:i,maxZoom:r}=this.options;t&&console.time("total time");var s="prepare ".concat(e.length," points");t&&console.time(s),this.points=e;for(var o=[],u=0;u<e.length;u++){var c=e[u];if(c.geometry){var[f,p]=c.geometry.coordinates,v=OS(Xg(f)),w=OS(Qg(p));o.push(v,w,1/0,u,-1,1),this.options.reduce&&o.push(0)}}var b=this.trees[r+1]=this._createTree(o);t&&console.timeEnd(s);for(var A=r;A>=i;A--){var T=+Date.now();b=this.trees[A]=this._createTree(this._cluster(b,A)),t&&console.log("z%d: %d clusters in %dms",A,b.numItems,+Date.now()-T)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var i=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)i=-180,s=180;else if(i>s){var u=this.getClusters([i,r,180,o],t),c=this.getClusters([-180,r,s,o],t);return u.concat(c)}var f=this.trees[this._limitZoom(t)],p=f.range(Xg(i),Qg(o),Xg(s),Qg(r)),v=f.data,w=[];for(var b of p){var A=this.stride*b;w.push(v[A+Ku]>1?DS(v,A,this.clusterProps):this.points[v[A+Yu]])}return w}getChildren(e){var t=this._getOriginId(e),i=this._getOriginZoom(e),r="No cluster with the specified id.",s=this.trees[i];if(!s)throw new Error(r);var o=s.data;if(t*this.stride>=o.length)throw new Error(r);var u=this.options.radius/(this.options.extent*Math.pow(2,i-1)),c=o[t*this.stride],f=o[t*this.stride+1],p=s.within(c,f,u),v=[];for(var w of p){var b=w*this.stride;o[b+ky]===e&&v.push(o[b+Ku]>1?DS(o,b,this.clusterProps):this.points[o[b+Yu]])}if(v.length===0)throw new Error(r);return v}getLeaves(e,t,i){t=t||10,i=i||0;var r=[];return this._appendLeaves(r,e,t,i,0),r}getTile(e,t,i){var r=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:u}=this.options,c=u/o,f=(i-c)/s,p=(i+1+c)/s,v={features:[]};return this._addTileFeatures(r.range((t-c)/s,f,(t+1+c)/s,p),r.data,t,i,s,v),t===0&&this._addTileFeatures(r.range(1-c/s,f,1,p),r.data,s,i,s,v),t===s-1&&this._addTileFeatures(r.range(0,f,c/s,p),r.data,-1,i,s,v),v.features.length?v:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var i=this.getChildren(e);if(t++,i.length!==1)break;e=i[0].properties.cluster_id}return t}_appendLeaves(e,t,i,r,s){var o=this.getChildren(t);for(var u of o){var c=u.properties;if(c&&c.cluster?s+c.point_count<=r?s+=c.point_count:s=this._appendLeaves(e,c.cluster_id,i,r,s):s<r?s++:e.push(u),e.length===i)break}return s}_createTree(e){for(var t=new J2(e.length/this.stride|0,this.options.nodeSize,Float32Array),i=0;i<e.length;i+=this.stride)t.add(e[i],e[i+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,i,r,s,o){for(var u of e){var c=u*this.stride,f=t[c+Ku]>1,p=void 0,v=void 0,w=void 0;if(f)p=i4(t,c,this.clusterProps),v=t[c],w=t[c+1];else{var b=this.points[t[c+Yu]];p=b.properties;var[A,T]=b.geometry.coordinates;v=Xg(A),w=Qg(T)}var C={type:1,geometry:[[Math.round(this.options.extent*(v*s-i)),Math.round(this.options.extent*(w*s-r))]],tags:p},I=void 0;f||this.options.generateId?I=t[c+Yu]:I=this.points[t[c+Yu]].id,I!==void 0&&(C.id=I),o.features.push(C)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:i,extent:r,reduce:s,minPoints:o}=this.options,u=i/(r*Math.pow(2,t)),c=e.data,f=[],p=this.stride,v=0;v<c.length;v+=p)if(!(c[v+Yc]<=t)){c[v+Yc]=t;var w=c[v],b=c[v+1],A=e.within(c[v],c[v+1],u),T=c[v+Ku],C=T;for(var I of A){var j=I*p;c[j+Yc]>t&&(C+=c[j+Ku])}if(C>T&&C>=o){var W=w*T,Z=b*T,X=void 0,se=-1,B=((v/p|0)<<5)+(t+1)+this.points.length;for(var N of A){var O=N*p;if(!(c[O+Yc]<=t)){c[O+Yc]=t;var G=c[O+Ku];W+=c[O]*G,Z+=c[O+1]*G,c[O+ky]=B,s&&(X||(X=this._map(c,v,!0),se=this.clusterProps.length,this.clusterProps.push(X)),s(X,this._map(c,O)))}}c[v+ky]=B,f.push(W/C,Z/C,1/0,B,-1,C),s&&f.push(se)}else{for(var k=0;k<p;k++)f.push(c[v+k]);if(C>1)for(var M of A){var V=M*p;if(!(c[V+Yc]<=t)){c[V+Yc]=t;for(var oe=0;oe<p;oe++)f.push(c[V+oe])}}}}return f}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,i){if(e[t+Ku]>1){var r=this.clusterProps[e[t+n4]];return i?Object.assign({},r):r}var s=this.points[e[t+Yu]].properties,o=this.options.map(s);return i&&o===s?Object.assign({},o):o}}function DS(n,e,t){return{type:"Feature",id:n[e+Yu],properties:i4(n,e,t),geometry:{type:"Point",coordinates:[V8(n[e]),F8(n[e+1])]}}}function i4(n,e,t){var i=n[e+Ku],r=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?"".concat(Math.round(i/100)/10,"k"):i,s=n[e+n4],o=s===-1?{}:Object.assign({},t[s]);return Object.assign(o,{cluster:!0,cluster_id:n[e+Yu],point_count:i,point_count_abbreviated:r})}function Xg(n){return n/360+.5}function Qg(n){var e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function V8(n){return(n-.5)*360}function F8(n){var e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function U8(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}class ia{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class k1{constructor(e){var{markers:t,position:i}=e;this.markers=t,i&&(i instanceof google.maps.LatLng?this._position=i:this._position=new google.maps.LatLng(i))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(ia.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>ia.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(ia.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class z8{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return q8(t)}}var q8=n=>{var e=n.map(t=>new k1({position:ia.getPosition(t),markers:[t]}));return e};class H8 extends z8{constructor(e){var{maxZoom:t,radius:i=60}=e,r=U8(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new B8(Object.assign({maxZoom:this.maxZoom,radius:i},r))}calculate(e){var t=!1,i={zoom:e.map.getZoom()};if(!NS(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var r=this.markers.map(s=>{var o=ia.getPosition(s),u=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:u},properties:{marker:s}}});this.superCluster.load(r)}return t||(this.state.zoom<=this.maxZoom||i.zoom<=this.maxZoom)&&(t=!NS(this.state,i)),this.state=i,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(i=>this.transformCluster(i))}transformCluster(e){var{geometry:{coordinates:[t,i]},properties:r}=e;if(r.cluster)return new k1({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:i,lng:t}});var s=r.marker;return new k1({markers:[s],position:ia.getPosition(s)})}}class G8{constructor(e,t){this.markers={sum:e.length};var i=t.map(s=>s.count),r=i.reduce((s,o)=>s+o,0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...i),max:Math.max(...i)}}}}class W8{render(e,t,i){var{count:r,position:s}=e,o=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",u='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(r,`</text>
</svg>`),c="Cluster of ".concat(r," markers"),f=Number(google.maps.Marker.MAX_ZINDEX)+r;if(ia.isAdvancedMarkerAvailable(i)){var p=new DOMParser,v=p.parseFromString(u,"image/svg+xml").documentElement;v.setAttribute("transform","translate(0 25)");var w={map:i,position:s,zIndex:f,title:c,content:v};return new google.maps.marker.AdvancedMarkerElement(w)}var b={position:s,zIndex:f,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(u)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(b)}}function $8(n,e){for(var t in e.prototype)n.prototype[t]=e.prototype[t]}class eb{constructor(){$8(eb,google.maps.OverlayView)}}var rp;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click"})(rp||(rp={}));var K8=(n,e,t)=>{t.fitBounds(e.bounds)};class Y8 extends eb{constructor(e){var{map:t,markers:i=[],algorithmOptions:r={},algorithm:s=new H8(r),renderer:o=new W8,onClusterClick:u=K8}=e;super(),this.markers=[...i],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=u,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(i=>{this.addMarker(i,!0)}),t||this.render()}removeMarker(e,t){var i=this.markers.indexOf(e);return i===-1?!1:(ia.setMap(e,null),this.markers.splice(i,1),t||this.render(),!0)}removeMarkers(e,t){var i=!1;return e.forEach(r=>{i=this.removeMarker(r,!0)||i}),i&&!t&&this.render(),i}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,rp.CLUSTERING_BEGIN,this);var{clusters:t,changed:i}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(i||i==null){var r=new Set;for(var s of t)s.markers.length==1&&r.add(s.markers[0]);var o=[];for(var u of this.clusters)u.marker!=null&&(u.markers.length==1?r.has(u.marker)||ia.setMap(u.marker,null):o.push(u.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>o.forEach(c=>ia.setMap(c,null)))}google.maps.event.trigger(this,rp.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>ia.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new G8(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(i=>{i.markers.length===1?i.marker=i.markers[0]:(i.marker=this.renderer.render(i,e,t),i.markers.forEach(r=>ia.setMap(r,null)),this.onClusterClick&&i.marker.addListener("click",r=>{google.maps.event.trigger(this,rp.CLUSTER_CLICK,i),this.onClusterClick(r,i,t)})),ia.setMap(i.marker,t)})}}function jS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function BS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jS(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function X8(n){var e=YD(),[t,i]=R.useState(null);return R.useEffect(()=>{if(e&&t===null){var r=new Y8(BS(BS({},n),{},{map:e}));i(r)}},[e]),t}function Q8(n){var{children:e,options:t}=n,i=X8(t);return i!==null?e(i):null}R.memo(Q8);var VS={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},FS={options(n,e){n.setOptions(e)},position(n,e){n.setPosition(e)},zIndex(n,e){n.setZIndex(e)}};function Z8(n){var{children:e,anchor:t,options:i,position:r,zIndex:s,onCloseClick:o,onDomReady:u,onContentChanged:c,onPositionChanged:f,onZindexChanged:p,onLoad:v,onUnmount:w}=n,b=R.useContext(en),[A,T]=R.useState(null),[C,I]=R.useState(null),[j,W]=R.useState(null),[Z,X]=R.useState(null),[se,B]=R.useState(null),[N,O]=R.useState(null),G=R.useRef(null);return R.useEffect(()=>{A!==null&&(A.close(),t?A.open(b,t):A.getPosition()&&A.open(b))},[b,A,t]),R.useEffect(()=>{i&&A!==null&&A.setOptions(i)},[A,i]),R.useEffect(()=>{r&&A!==null&&A.setPosition(r)},[r]),R.useEffect(()=>{typeof s=="number"&&A!==null&&A.setZIndex(s)},[s]),R.useEffect(()=>{A&&o&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(A,"closeclick",o)))},[o]),R.useEffect(()=>{A&&u&&(j!==null&&google.maps.event.removeListener(j),W(google.maps.event.addListener(A,"domready",u)))},[u]),R.useEffect(()=>{A&&c&&(Z!==null&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(A,"content_changed",c)))},[c]),R.useEffect(()=>{A&&f&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(A,"position_changed",f)))},[f]),R.useEffect(()=>{A&&p&&(N!==null&&google.maps.event.removeListener(N),O(google.maps.event.addListener(A,"zindex_changed",p)))},[p]),R.useEffect(()=>{var k=new google.maps.InfoWindow(i);return T(k),G.current=document.createElement("div"),o&&I(google.maps.event.addListener(k,"closeclick",o)),u&&W(google.maps.event.addListener(k,"domready",u)),c&&X(google.maps.event.addListener(k,"content_changed",c)),f&&B(google.maps.event.addListener(k,"position_changed",f)),p&&O(google.maps.event.addListener(k,"zindex_changed",p)),k.setContent(G.current),r&&k.setPosition(r),s&&k.setZIndex(s),t?k.open(b,t):k.getPosition()?k.open(b):dr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),v&&v(k),()=>{C&&google.maps.event.removeListener(C),Z&&google.maps.event.removeListener(Z),j&&google.maps.event.removeListener(j),se&&google.maps.event.removeListener(se),N&&google.maps.event.removeListener(N),w&&w(k),k.close()}},[]),G.current?Of.createPortal(R.Children.only(e),G.current):null}R.memo(Z8);class J8 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"containerElement",null),qe(this,"state",{infoWindow:null}),qe(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):dr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),qe(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=dn({updaterMap:FS,eventMap:VS,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:FS,eventMap:VS,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(mn(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Of.createPortal(R.Children.only(this.props.children),this.containerElement):null}}qe(J8,"contextType",en);function US(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function cv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?US(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):US(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var zS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},qS={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},visible(n,e){n.setVisible(e)}},e7={};function t7(n){var{options:e,draggable:t,editable:i,visible:r,path:s,onDblClick:o,onDragEnd:u,onDragStart:c,onMouseDown:f,onMouseMove:p,onMouseOut:v,onMouseOver:w,onMouseUp:b,onRightClick:A,onClick:T,onDrag:C,onLoad:I,onUnmount:j}=n,W=R.useContext(en),[Z,X]=R.useState(null),[se,B]=R.useState(null),[N,O]=R.useState(null),[G,k]=R.useState(null),[M,V]=R.useState(null),[oe,pe]=R.useState(null),[re,he]=R.useState(null),[ce,Se]=R.useState(null),[K,ve]=R.useState(null),[F,H]=R.useState(null),[ie,Q]=R.useState(null),[ue,we]=R.useState(null);return R.useEffect(()=>{Z!==null&&Z.setMap(W)},[W]),R.useEffect(()=>{typeof e<"u"&&Z!==null&&Z.setOptions(e)},[Z,e]),R.useEffect(()=>{typeof t<"u"&&Z!==null&&Z.setDraggable(t)},[Z,t]),R.useEffect(()=>{typeof i<"u"&&Z!==null&&Z.setEditable(i)},[Z,i]),R.useEffect(()=>{typeof r<"u"&&Z!==null&&Z.setVisible(r)},[Z,r]),R.useEffect(()=>{typeof s<"u"&&Z!==null&&Z.setPath(s)},[Z,s]),R.useEffect(()=>{Z&&o&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(Z,"dblclick",o)))},[o]),R.useEffect(()=>{Z&&u&&(N!==null&&google.maps.event.removeListener(N),O(google.maps.event.addListener(Z,"dragend",u)))},[u]),R.useEffect(()=>{Z&&c&&(G!==null&&google.maps.event.removeListener(G),k(google.maps.event.addListener(Z,"dragstart",c)))},[c]),R.useEffect(()=>{Z&&f&&(M!==null&&google.maps.event.removeListener(M),V(google.maps.event.addListener(Z,"mousedown",f)))},[f]),R.useEffect(()=>{Z&&p&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(Z,"mousemove",p)))},[p]),R.useEffect(()=>{Z&&v&&(re!==null&&google.maps.event.removeListener(re),he(google.maps.event.addListener(Z,"mouseout",v)))},[v]),R.useEffect(()=>{Z&&w&&(ce!==null&&google.maps.event.removeListener(ce),Se(google.maps.event.addListener(Z,"mouseover",w)))},[w]),R.useEffect(()=>{Z&&b&&(K!==null&&google.maps.event.removeListener(K),ve(google.maps.event.addListener(Z,"mouseup",b)))},[b]),R.useEffect(()=>{Z&&A&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(Z,"rightclick",A)))},[A]),R.useEffect(()=>{Z&&T&&(ie!==null&&google.maps.event.removeListener(ie),Q(google.maps.event.addListener(Z,"click",T)))},[T]),R.useEffect(()=>{Z&&C&&(ue!==null&&google.maps.event.removeListener(ue),we(google.maps.event.addListener(Z,"drag",C)))},[C]),R.useEffect(()=>{var me=new google.maps.Polyline(cv(cv({},e||e7),{},{map:W}));return s&&me.setPath(s),typeof r<"u"&&me.setVisible(r),typeof i<"u"&&me.setEditable(i),typeof t<"u"&&me.setDraggable(t),o&&B(google.maps.event.addListener(me,"dblclick",o)),u&&O(google.maps.event.addListener(me,"dragend",u)),c&&k(google.maps.event.addListener(me,"dragstart",c)),f&&V(google.maps.event.addListener(me,"mousedown",f)),p&&pe(google.maps.event.addListener(me,"mousemove",p)),v&&he(google.maps.event.addListener(me,"mouseout",v)),w&&Se(google.maps.event.addListener(me,"mouseover",w)),b&&ve(google.maps.event.addListener(me,"mouseup",b)),A&&H(google.maps.event.addListener(me,"rightclick",A)),T&&Q(google.maps.event.addListener(me,"click",T)),C&&we(google.maps.event.addListener(me,"drag",C)),X(me),I&&I(me),()=>{se!==null&&google.maps.event.removeListener(se),N!==null&&google.maps.event.removeListener(N),G!==null&&google.maps.event.removeListener(G),M!==null&&google.maps.event.removeListener(M),oe!==null&&google.maps.event.removeListener(oe),re!==null&&google.maps.event.removeListener(re),ce!==null&&google.maps.event.removeListener(ce),K!==null&&google.maps.event.removeListener(K),F!==null&&google.maps.event.removeListener(F),ie!==null&&google.maps.event.removeListener(ie),j&&j(me),me.setMap(null)}},[]),null}R.memo(t7);class n7 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{polyline:null}),qe(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(cv(cv({},this.props.options),{},{map:this.context}));this.registeredEvents=dn({updaterMap:qS,eventMap:zS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:qS,eventMap:zS,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),mn(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}qe(n7,"contextType",en);function HS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function GS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HS(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var WS={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},$S={draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},path(n,e){n.setPath(e)},paths(n,e){n.setPaths(e)},visible(n,e){n.setVisible(e)}};function i7(n){var{options:e,draggable:t,editable:i,visible:r,path:s,paths:o,onDblClick:u,onDragEnd:c,onDragStart:f,onMouseDown:p,onMouseMove:v,onMouseOut:w,onMouseOver:b,onMouseUp:A,onRightClick:T,onClick:C,onDrag:I,onLoad:j,onUnmount:W,onEdit:Z}=n,X=R.useContext(en),[se,B]=R.useState(null),[N,O]=R.useState(null),[G,k]=R.useState(null),[M,V]=R.useState(null),[oe,pe]=R.useState(null),[re,he]=R.useState(null),[ce,Se]=R.useState(null),[K,ve]=R.useState(null),[F,H]=R.useState(null),[ie,Q]=R.useState(null),[ue,we]=R.useState(null),[me,Ce]=R.useState(null);return R.useEffect(()=>{se!==null&&se.setMap(X)},[X]),R.useEffect(()=>{typeof e<"u"&&se!==null&&se.setOptions(e)},[se,e]),R.useEffect(()=>{typeof t<"u"&&se!==null&&se.setDraggable(t)},[se,t]),R.useEffect(()=>{typeof i<"u"&&se!==null&&se.setEditable(i)},[se,i]),R.useEffect(()=>{typeof r<"u"&&se!==null&&se.setVisible(r)},[se,r]),R.useEffect(()=>{typeof s<"u"&&se!==null&&se.setPath(s)},[se,s]),R.useEffect(()=>{typeof o<"u"&&se!==null&&se.setPaths(o)},[se,o]),R.useEffect(()=>{se&&typeof u=="function"&&(N!==null&&google.maps.event.removeListener(N),O(google.maps.event.addListener(se,"dblclick",u)))},[u]),R.useEffect(()=>{se&&(google.maps.event.addListener(se.getPath(),"insert_at",()=>{Z==null||Z(se)}),google.maps.event.addListener(se.getPath(),"set_at",()=>{Z==null||Z(se)}),google.maps.event.addListener(se.getPath(),"remove_at",()=>{Z==null||Z(se)}))},[se,Z]),R.useEffect(()=>{se&&typeof c=="function"&&(G!==null&&google.maps.event.removeListener(G),k(google.maps.event.addListener(se,"dragend",c)))},[c]),R.useEffect(()=>{se&&typeof f=="function"&&(M!==null&&google.maps.event.removeListener(M),V(google.maps.event.addListener(se,"dragstart",f)))},[f]),R.useEffect(()=>{se&&typeof p=="function"&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(se,"mousedown",p)))},[p]),R.useEffect(()=>{se&&typeof v=="function"&&(re!==null&&google.maps.event.removeListener(re),he(google.maps.event.addListener(se,"mousemove",v)))},[v]),R.useEffect(()=>{se&&typeof w=="function"&&(ce!==null&&google.maps.event.removeListener(ce),Se(google.maps.event.addListener(se,"mouseout",w)))},[w]),R.useEffect(()=>{se&&typeof b=="function"&&(K!==null&&google.maps.event.removeListener(K),ve(google.maps.event.addListener(se,"mouseover",b)))},[b]),R.useEffect(()=>{se&&typeof A=="function"&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(se,"mouseup",A)))},[A]),R.useEffect(()=>{se&&typeof T=="function"&&(ie!==null&&google.maps.event.removeListener(ie),Q(google.maps.event.addListener(se,"rightclick",T)))},[T]),R.useEffect(()=>{se&&typeof C=="function"&&(ue!==null&&google.maps.event.removeListener(ue),we(google.maps.event.addListener(se,"click",C)))},[C]),R.useEffect(()=>{se&&typeof I=="function"&&(me!==null&&google.maps.event.removeListener(me),Ce(google.maps.event.addListener(se,"drag",I)))},[I]),R.useEffect(()=>{var je=new google.maps.Polygon(GS(GS({},e),{},{map:X}));return s&&je.setPath(s),o&&je.setPaths(o),typeof r<"u"&&je.setVisible(r),typeof i<"u"&&je.setEditable(i),typeof t<"u"&&je.setDraggable(t),u&&O(google.maps.event.addListener(je,"dblclick",u)),c&&k(google.maps.event.addListener(je,"dragend",c)),f&&V(google.maps.event.addListener(je,"dragstart",f)),p&&pe(google.maps.event.addListener(je,"mousedown",p)),v&&he(google.maps.event.addListener(je,"mousemove",v)),w&&Se(google.maps.event.addListener(je,"mouseout",w)),b&&ve(google.maps.event.addListener(je,"mouseover",b)),A&&H(google.maps.event.addListener(je,"mouseup",A)),T&&Q(google.maps.event.addListener(je,"rightclick",T)),C&&we(google.maps.event.addListener(je,"click",C)),I&&Ce(google.maps.event.addListener(je,"drag",I)),B(je),j&&j(je),()=>{N!==null&&google.maps.event.removeListener(N),G!==null&&google.maps.event.removeListener(G),M!==null&&google.maps.event.removeListener(M),oe!==null&&google.maps.event.removeListener(oe),re!==null&&google.maps.event.removeListener(re),ce!==null&&google.maps.event.removeListener(ce),K!==null&&google.maps.event.removeListener(K),F!==null&&google.maps.event.removeListener(F),ie!==null&&google.maps.event.removeListener(ie),ue!==null&&google.maps.event.removeListener(ue),W&&W(je),je.setMap(null)}},[]),null}R.memo(i7);class r7 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=dn({updaterMap:$S,eventMap:WS,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:$S,eventMap:WS,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),mn(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}qe(r7,"contextType",en);function KS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function hv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KS(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var YS={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},XS={bounds(n,e){n.setBounds(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},visible(n,e){n.setVisible(e)}};function s7(n){var{options:e,bounds:t,draggable:i,editable:r,visible:s,onDblClick:o,onDragEnd:u,onDragStart:c,onMouseDown:f,onMouseMove:p,onMouseOut:v,onMouseOver:w,onMouseUp:b,onRightClick:A,onClick:T,onDrag:C,onBoundsChanged:I,onLoad:j,onUnmount:W}=n,Z=R.useContext(en),[X,se]=R.useState(null),[B,N]=R.useState(null),[O,G]=R.useState(null),[k,M]=R.useState(null),[V,oe]=R.useState(null),[pe,re]=R.useState(null),[he,ce]=R.useState(null),[Se,K]=R.useState(null),[ve,F]=R.useState(null),[H,ie]=R.useState(null),[Q,ue]=R.useState(null),[we,me]=R.useState(null),[Ce,je]=R.useState(null);return R.useEffect(()=>{X!==null&&X.setMap(Z)},[Z]),R.useEffect(()=>{typeof e<"u"&&X!==null&&X.setOptions(e)},[X,e]),R.useEffect(()=>{typeof i<"u"&&X!==null&&X.setDraggable(i)},[X,i]),R.useEffect(()=>{typeof r<"u"&&X!==null&&X.setEditable(r)},[X,r]),R.useEffect(()=>{typeof s<"u"&&X!==null&&X.setVisible(s)},[X,s]),R.useEffect(()=>{typeof t<"u"&&X!==null&&X.setBounds(t)},[X,t]),R.useEffect(()=>{X&&o&&(B!==null&&google.maps.event.removeListener(B),N(google.maps.event.addListener(X,"dblclick",o)))},[o]),R.useEffect(()=>{X&&u&&(O!==null&&google.maps.event.removeListener(O),G(google.maps.event.addListener(X,"dragend",u)))},[u]),R.useEffect(()=>{X&&c&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(X,"dragstart",c)))},[c]),R.useEffect(()=>{X&&f&&(V!==null&&google.maps.event.removeListener(V),oe(google.maps.event.addListener(X,"mousedown",f)))},[f]),R.useEffect(()=>{X&&p&&(pe!==null&&google.maps.event.removeListener(pe),re(google.maps.event.addListener(X,"mousemove",p)))},[p]),R.useEffect(()=>{X&&v&&(he!==null&&google.maps.event.removeListener(he),ce(google.maps.event.addListener(X,"mouseout",v)))},[v]),R.useEffect(()=>{X&&w&&(Se!==null&&google.maps.event.removeListener(Se),K(google.maps.event.addListener(X,"mouseover",w)))},[w]),R.useEffect(()=>{X&&b&&(ve!==null&&google.maps.event.removeListener(ve),F(google.maps.event.addListener(X,"mouseup",b)))},[b]),R.useEffect(()=>{X&&A&&(H!==null&&google.maps.event.removeListener(H),ie(google.maps.event.addListener(X,"rightclick",A)))},[A]),R.useEffect(()=>{X&&T&&(Q!==null&&google.maps.event.removeListener(Q),ue(google.maps.event.addListener(X,"click",T)))},[T]),R.useEffect(()=>{X&&C&&(we!==null&&google.maps.event.removeListener(we),me(google.maps.event.addListener(X,"drag",C)))},[C]),R.useEffect(()=>{X&&I&&(Ce!==null&&google.maps.event.removeListener(Ce),je(google.maps.event.addListener(X,"bounds_changed",I)))},[I]),R.useEffect(()=>{var Ve=new google.maps.Rectangle(hv(hv({},e),{},{map:Z}));return typeof s<"u"&&Ve.setVisible(s),typeof r<"u"&&Ve.setEditable(r),typeof i<"u"&&Ve.setDraggable(i),typeof t<"u"&&Ve.setBounds(t),o&&N(google.maps.event.addListener(Ve,"dblclick",o)),u&&G(google.maps.event.addListener(Ve,"dragend",u)),c&&M(google.maps.event.addListener(Ve,"dragstart",c)),f&&oe(google.maps.event.addListener(Ve,"mousedown",f)),p&&re(google.maps.event.addListener(Ve,"mousemove",p)),v&&ce(google.maps.event.addListener(Ve,"mouseout",v)),w&&K(google.maps.event.addListener(Ve,"mouseover",w)),b&&F(google.maps.event.addListener(Ve,"mouseup",b)),A&&ie(google.maps.event.addListener(Ve,"rightclick",A)),T&&ue(google.maps.event.addListener(Ve,"click",T)),C&&me(google.maps.event.addListener(Ve,"drag",C)),I&&je(google.maps.event.addListener(Ve,"bounds_changed",I)),se(Ve),j&&j(Ve),()=>{B!==null&&google.maps.event.removeListener(B),O!==null&&google.maps.event.removeListener(O),k!==null&&google.maps.event.removeListener(k),V!==null&&google.maps.event.removeListener(V),pe!==null&&google.maps.event.removeListener(pe),he!==null&&google.maps.event.removeListener(he),Se!==null&&google.maps.event.removeListener(Se),ve!==null&&google.maps.event.removeListener(ve),H!==null&&google.maps.event.removeListener(H),Q!==null&&google.maps.event.removeListener(Q),we!==null&&google.maps.event.removeListener(we),Ce!==null&&google.maps.event.removeListener(Ce),W&&W(Ve),Ve.setMap(null)}},[]),null}R.memo(s7);class a7 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{rectangle:null}),qe(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(hv(hv({},this.props.options),{},{map:this.context}));this.registeredEvents=dn({updaterMap:XS,eventMap:YS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:XS,eventMap:YS,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),mn(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}qe(a7,"contextType",en);function QS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QS(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var ZS={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},JS={center(n,e){n.setCenter(e)},draggable(n,e){n.setDraggable(e)},editable(n,e){n.setEditable(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},radius(n,e){n.setRadius(e)},visible(n,e){n.setVisible(e)}},o7={};function l7(n){var{options:e,center:t,radius:i,draggable:r,editable:s,visible:o,onDblClick:u,onDragEnd:c,onDragStart:f,onMouseDown:p,onMouseMove:v,onMouseOut:w,onMouseOver:b,onMouseUp:A,onRightClick:T,onClick:C,onDrag:I,onCenterChanged:j,onRadiusChanged:W,onLoad:Z,onUnmount:X}=n,se=R.useContext(en),[B,N]=R.useState(null),[O,G]=R.useState(null),[k,M]=R.useState(null),[V,oe]=R.useState(null),[pe,re]=R.useState(null),[he,ce]=R.useState(null),[Se,K]=R.useState(null),[ve,F]=R.useState(null),[H,ie]=R.useState(null),[Q,ue]=R.useState(null),[we,me]=R.useState(null),[Ce,je]=R.useState(null),[Ve,tt]=R.useState(null),[nt,St]=R.useState(null);return R.useEffect(()=>{B!==null&&B.setMap(se)},[se]),R.useEffect(()=>{typeof e<"u"&&B!==null&&B.setOptions(e)},[B,e]),R.useEffect(()=>{typeof r<"u"&&B!==null&&B.setDraggable(r)},[B,r]),R.useEffect(()=>{typeof s<"u"&&B!==null&&B.setEditable(s)},[B,s]),R.useEffect(()=>{typeof o<"u"&&B!==null&&B.setVisible(o)},[B,o]),R.useEffect(()=>{typeof i=="number"&&B!==null&&B.setRadius(i)},[B,i]),R.useEffect(()=>{typeof t<"u"&&B!==null&&B.setCenter(t)},[B,t]),R.useEffect(()=>{B&&u&&(O!==null&&google.maps.event.removeListener(O),G(google.maps.event.addListener(B,"dblclick",u)))},[u]),R.useEffect(()=>{B&&c&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(B,"dragend",c)))},[c]),R.useEffect(()=>{B&&f&&(V!==null&&google.maps.event.removeListener(V),oe(google.maps.event.addListener(B,"dragstart",f)))},[f]),R.useEffect(()=>{B&&p&&(pe!==null&&google.maps.event.removeListener(pe),re(google.maps.event.addListener(B,"mousedown",p)))},[p]),R.useEffect(()=>{B&&v&&(he!==null&&google.maps.event.removeListener(he),ce(google.maps.event.addListener(B,"mousemove",v)))},[v]),R.useEffect(()=>{B&&w&&(Se!==null&&google.maps.event.removeListener(Se),K(google.maps.event.addListener(B,"mouseout",w)))},[w]),R.useEffect(()=>{B&&b&&(ve!==null&&google.maps.event.removeListener(ve),F(google.maps.event.addListener(B,"mouseover",b)))},[b]),R.useEffect(()=>{B&&A&&(H!==null&&google.maps.event.removeListener(H),ie(google.maps.event.addListener(B,"mouseup",A)))},[A]),R.useEffect(()=>{B&&T&&(Q!==null&&google.maps.event.removeListener(Q),ue(google.maps.event.addListener(B,"rightclick",T)))},[T]),R.useEffect(()=>{B&&C&&(we!==null&&google.maps.event.removeListener(we),me(google.maps.event.addListener(B,"click",C)))},[C]),R.useEffect(()=>{B&&I&&(Ce!==null&&google.maps.event.removeListener(Ce),je(google.maps.event.addListener(B,"drag",I)))},[I]),R.useEffect(()=>{B&&j&&(Ve!==null&&google.maps.event.removeListener(Ve),tt(google.maps.event.addListener(B,"center_changed",j)))},[C]),R.useEffect(()=>{B&&W&&(nt!==null&&google.maps.event.removeListener(nt),St(google.maps.event.addListener(B,"radius_changed",W)))},[W]),R.useEffect(()=>{var Ne=new google.maps.Circle(fv(fv({},e||o7),{},{map:se}));return typeof i=="number"&&Ne.setRadius(i),typeof t<"u"&&Ne.setCenter(t),typeof i=="number"&&Ne.setRadius(i),typeof o<"u"&&Ne.setVisible(o),typeof s<"u"&&Ne.setEditable(s),typeof r<"u"&&Ne.setDraggable(r),u&&G(google.maps.event.addListener(Ne,"dblclick",u)),c&&M(google.maps.event.addListener(Ne,"dragend",c)),f&&oe(google.maps.event.addListener(Ne,"dragstart",f)),p&&re(google.maps.event.addListener(Ne,"mousedown",p)),v&&ce(google.maps.event.addListener(Ne,"mousemove",v)),w&&K(google.maps.event.addListener(Ne,"mouseout",w)),b&&F(google.maps.event.addListener(Ne,"mouseover",b)),A&&ie(google.maps.event.addListener(Ne,"mouseup",A)),T&&ue(google.maps.event.addListener(Ne,"rightclick",T)),C&&me(google.maps.event.addListener(Ne,"click",C)),I&&je(google.maps.event.addListener(Ne,"drag",I)),j&&tt(google.maps.event.addListener(Ne,"center_changed",j)),W&&St(google.maps.event.addListener(Ne,"radius_changed",W)),N(Ne),Z&&Z(Ne),()=>{O!==null&&google.maps.event.removeListener(O),k!==null&&google.maps.event.removeListener(k),V!==null&&google.maps.event.removeListener(V),pe!==null&&google.maps.event.removeListener(pe),he!==null&&google.maps.event.removeListener(he),Se!==null&&google.maps.event.removeListener(Se),ve!==null&&google.maps.event.removeListener(ve),H!==null&&google.maps.event.removeListener(H),Q!==null&&google.maps.event.removeListener(Q),we!==null&&google.maps.event.removeListener(we),Ve!==null&&google.maps.event.removeListener(Ve),nt!==null&&google.maps.event.removeListener(nt),X&&X(Ne),Ne.setMap(null)}},[]),null}R.memo(l7);class u7 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{circle:null}),qe(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(fv(fv({},this.props.options),{},{map:this.context}));this.registeredEvents=dn({updaterMap:JS,eventMap:ZS,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:JS,eventMap:ZS,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),mn(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}qe(u7,"contextType",en);function eE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function dv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eE(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var tE={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},nE={add(n,e){n.add(e)},addgeojson(n,e,t){n.addGeoJson(e,t)},contains(n,e){n.contains(e)},foreach(n,e){n.forEach(e)},loadgeojson(n,e,t,i){n.loadGeoJson(e,t,i)},overridestyle(n,e,t){n.overrideStyle(e,t)},remove(n,e){n.remove(e)},revertstyle(n,e){n.revertStyle(e)},controlposition(n,e){n.setControlPosition(e)},controls(n,e){n.setControls(e)},drawingmode(n,e){n.setDrawingMode(e)},map(n,e){n.setMap(e)},style(n,e){n.setStyle(e)},togeojson(n,e){n.toGeoJson(e)}};function c7(n){var{options:e,onClick:t,onDblClick:i,onMouseDown:r,onMouseMove:s,onMouseOut:o,onMouseOver:u,onMouseUp:c,onRightClick:f,onAddFeature:p,onRemoveFeature:v,onRemoveProperty:w,onSetGeometry:b,onSetProperty:A,onLoad:T,onUnmount:C}=n,I=R.useContext(en),[j,W]=R.useState(null),[Z,X]=R.useState(null),[se,B]=R.useState(null),[N,O]=R.useState(null),[G,k]=R.useState(null),[M,V]=R.useState(null),[oe,pe]=R.useState(null),[re,he]=R.useState(null),[ce,Se]=R.useState(null),[K,ve]=R.useState(null),[F,H]=R.useState(null),[ie,Q]=R.useState(null),[ue,we]=R.useState(null),[me,Ce]=R.useState(null);return R.useEffect(()=>{j!==null&&j.setMap(I)},[I]),R.useEffect(()=>{j&&i&&(Z!==null&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(j,"dblclick",i)))},[i]),R.useEffect(()=>{j&&r&&(se!==null&&google.maps.event.removeListener(se),B(google.maps.event.addListener(j,"mousedown",r)))},[r]),R.useEffect(()=>{j&&s&&(N!==null&&google.maps.event.removeListener(N),O(google.maps.event.addListener(j,"mousemove",s)))},[s]),R.useEffect(()=>{j&&o&&(G!==null&&google.maps.event.removeListener(G),k(google.maps.event.addListener(j,"mouseout",o)))},[o]),R.useEffect(()=>{j&&u&&(M!==null&&google.maps.event.removeListener(M),V(google.maps.event.addListener(j,"mouseover",u)))},[u]),R.useEffect(()=>{j&&c&&(oe!==null&&google.maps.event.removeListener(oe),pe(google.maps.event.addListener(j,"mouseup",c)))},[c]),R.useEffect(()=>{j&&f&&(re!==null&&google.maps.event.removeListener(re),he(google.maps.event.addListener(j,"rightclick",f)))},[f]),R.useEffect(()=>{j&&t&&(ce!==null&&google.maps.event.removeListener(ce),Se(google.maps.event.addListener(j,"click",t)))},[t]),R.useEffect(()=>{j&&p&&(K!==null&&google.maps.event.removeListener(K),ve(google.maps.event.addListener(j,"addfeature",p)))},[p]),R.useEffect(()=>{j&&v&&(F!==null&&google.maps.event.removeListener(F),H(google.maps.event.addListener(j,"removefeature",v)))},[v]),R.useEffect(()=>{j&&w&&(ie!==null&&google.maps.event.removeListener(ie),Q(google.maps.event.addListener(j,"removeproperty",w)))},[w]),R.useEffect(()=>{j&&b&&(ue!==null&&google.maps.event.removeListener(ue),we(google.maps.event.addListener(j,"setgeometry",b)))},[b]),R.useEffect(()=>{j&&A&&(me!==null&&google.maps.event.removeListener(me),Ce(google.maps.event.addListener(j,"setproperty",A)))},[A]),R.useEffect(()=>{if(I!==null){var je=new google.maps.Data(dv(dv({},e),{},{map:I}));i&&X(google.maps.event.addListener(je,"dblclick",i)),r&&B(google.maps.event.addListener(je,"mousedown",r)),s&&O(google.maps.event.addListener(je,"mousemove",s)),o&&k(google.maps.event.addListener(je,"mouseout",o)),u&&V(google.maps.event.addListener(je,"mouseover",u)),c&&pe(google.maps.event.addListener(je,"mouseup",c)),f&&he(google.maps.event.addListener(je,"rightclick",f)),t&&Se(google.maps.event.addListener(je,"click",t)),p&&ve(google.maps.event.addListener(je,"addfeature",p)),v&&H(google.maps.event.addListener(je,"removefeature",v)),w&&Q(google.maps.event.addListener(je,"removeproperty",w)),b&&we(google.maps.event.addListener(je,"setgeometry",b)),A&&Ce(google.maps.event.addListener(je,"setproperty",A)),W(je),T&&T(je)}return()=>{j&&(Z!==null&&google.maps.event.removeListener(Z),se!==null&&google.maps.event.removeListener(se),N!==null&&google.maps.event.removeListener(N),G!==null&&google.maps.event.removeListener(G),M!==null&&google.maps.event.removeListener(M),oe!==null&&google.maps.event.removeListener(oe),re!==null&&google.maps.event.removeListener(re),ce!==null&&google.maps.event.removeListener(ce),K!==null&&google.maps.event.removeListener(K),F!==null&&google.maps.event.removeListener(F),ie!==null&&google.maps.event.removeListener(ie),ue!==null&&google.maps.event.removeListener(ue),me!==null&&google.maps.event.removeListener(me),C&&C(j),j.setMap(null))}},[]),null}R.memo(c7);class h7 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{data:null}),qe(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(dv(dv({},this.props.options),{},{map:this.context}));this.registeredEvents=dn({updaterMap:nE,eventMap:tE,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:nE,eventMap:tE,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),mn(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}qe(h7,"contextType",en);function iE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function rE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iE(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var sE={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},aE={options(n,e){n.setOptions(e)},url(n,e){n.setUrl(e)},zIndex(n,e){n.setZIndex(e)}};class f7 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{kmlLayer:null}),qe(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(rE(rE({},this.props.options),{},{map:this.context}));this.registeredEvents=dn({updaterMap:aE,eventMap:sE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:aE,eventMap:sE,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),mn(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}qe(f7,"contextType",en);function r4(n,e){return typeof e=="function"?e(n.offsetWidth,n.offsetHeight):{x:0,y:0}}function d7(n,e){return new e(n.lat,n.lng)}function p7(n,e){return new e(new google.maps.LatLng(n.ne.lat,n.ne.lng),new google.maps.LatLng(n.sw.lat,n.sw.lng))}function g7(n,e,t){return n instanceof e?n:t(n,e)}function m7(n,e,t){return n instanceof e?n:t(n,e)}function v7(n,e,t){var i=n&&n.fromLatLngToDivPixel(t.getNorthEast()),r=n&&n.fromLatLngToDivPixel(t.getSouthWest());return i&&r?{left:"".concat(r.x+e.x,"px"),top:"".concat(i.y+e.y,"px"),width:"".concat(i.x-r.x-e.x,"px"),height:"".concat(r.y-i.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function y7(n,e,t){var i=n&&n.fromLatLngToDivPixel(t);if(i){var{x:r,y:s}=i;return{left:"".concat(r+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function s4(n,e,t,i){return t!==void 0?v7(n,e,m7(t,google.maps.LatLngBounds,p7)):y7(n,e,g7(i,google.maps.LatLng,d7))}function b7(n,e){return n.left===e.left&&n.top===e.top&&n.width===e.height&&n.height===e.height}function oE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _7(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oE(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function w7(n,e,t,i,r){class s extends google.maps.OverlayView{constructor(u,c,f,p){super(),this.container=u,this.pane=c,this.position=f,this.bounds=p}onAdd(){var u,c=(u=this.getPanes())===null||u===void 0?void 0:u[this.pane];c==null||c.appendChild(this.container)}draw(){var u=this.getProjection(),c=_7({},this.container?r4(this.container,r):{x:0,y:0}),f=s4(u,c,this.bounds,this.position);for(var[p,v]of Object.entries(f))this.container.style[p]=v}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(n,e,t,i)}function lE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function S7(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lE(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uE(n){if(!n)return"";var e=n instanceof google.maps.LatLng?n:new google.maps.LatLng(n.lat,n.lng);return e+""}function cE(n){if(!n)return"";var e=n instanceof google.maps.LatLngBounds?n:new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.east),new google.maps.LatLng(n.north,n.west));return e+""}function E7(n){var{position:e,bounds:t,mapPaneName:i,zIndex:r,onLoad:s,onUnmount:o,getPixelPositionOffset:u,children:c}=n,f=R.useContext(en),p=R.useMemo(()=>{var w=document.createElement("div");return w.style.position="absolute",w},[]),v=R.useMemo(()=>w7(p,i,e,t,u),[p,i,e,t]);return R.useEffect(()=>(s==null||s(v),v==null||v.setMap(f),()=>{o==null||o(v),v==null||v.setMap(null)}),[f,v]),R.useEffect(()=>{p.style.zIndex="".concat(r)},[r,p]),Of.createPortal(c,p)}R.memo(E7);class qf extends R.PureComponent{constructor(e){super(e),qe(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),qe(this,"updatePane",()=>{var i=this.props.mapPaneName,r=this.overlayView.getPanes();dr(!!i,"OverlayView requires props.mapPaneName but got %s",i),r?this.setState({paneEl:r[i]}):this.setState({paneEl:null})}),qe(this,"onAdd",()=>{var i,r;this.updatePane(),(i=(r=this.props).onLoad)===null||i===void 0||i.call(r,this.overlayView)}),qe(this,"onPositionElement",()=>{var i=this.overlayView.getProjection(),r=S7({x:0,y:0},this.containerRef.current?r4(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=s4(i,r,this.props.bounds,this.props.position);if(!b7(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,u,c,f;this.setState({containerStyle:{top:(o=s.top)!==null&&o!==void 0?o:0,left:(u=s.left)!==null&&u!==void 0?u:0,width:(c=s.width)!==null&&c!==void 0?c:0,height:(f=s.height)!==null&&f!==void 0?f:0,position:"absolute"}})}}),qe(this,"draw",()=>{this.onPositionElement()}),qe(this,"onRemove",()=>{var i,r;this.setState(()=>({paneEl:null})),(i=(r=this.props).onUnmount)===null||i===void 0||i.call(r,this.overlayView)}),this.containerRef=R.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=uE(e.position),i=uE(this.props.position),r=cE(e.bounds),s=cE(this.props.bounds);(t!==i||r!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Of.createPortal(Ke.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:R.Children.only(this.props.children)}),e):null}}qe(qf,"FLOAT_PANE","floatPane");qe(qf,"MAP_PANE","mapPane");qe(qf,"MARKER_LAYER","markerLayer");qe(qf,"OVERLAY_LAYER","overlayLayer");qe(qf,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");qe(qf,"contextType",en);function A7(){}function hE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function fE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var dE={onDblClick:"dblclick",onClick:"click"},pE={opacity(n,e){n.setOpacity(e)}};function x7(n){var{url:e,bounds:t,options:i,visible:r}=n,s=R.useContext(en),o=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),u=R.useMemo(()=>new google.maps.GroundOverlay(e,o,i),[]);return R.useEffect(()=>{u!==null&&u.setMap(s)},[s]),R.useEffect(()=>{typeof e<"u"&&u!==null&&(u.set("url",e),u.setMap(s))},[u,e]),R.useEffect(()=>{typeof r<"u"&&u!==null&&u.setOpacity(r?1:0)},[u,r]),R.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&u!==null&&(u.set("bounds",c),u.setMap(s))},[u,t]),null}R.memo(x7);class a4 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{groundOverlay:null}),qe(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){dr(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,fE(fE({},this.props.options),{},{map:this.context}));this.registeredEvents=dn({updaterMap:pE,eventMap:dE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:pE,eventMap:dE,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}qe(a4,"defaultProps",{onLoad:A7});qe(a4,"contextType",en);function gE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function pv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gE(Object(t),!0).forEach(function(i){qe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var mE={},vE={data(n,e){n.setData(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)}};function L7(n){var{data:e,onLoad:t,onUnmount:i,options:r}=n,s=R.useContext(en),[o,u]=R.useState(null);return R.useEffect(()=>{google.maps.visualization||dr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),R.useEffect(()=>{dr(!!e,"data property is required in HeatmapLayer %s",e)},[e]),R.useEffect(()=>{o!==null&&o.setMap(s)},[s]),R.useEffect(()=>{r&&o!==null&&o.setOptions(r)},[o,r]),R.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(pv(pv({},r),{},{data:e,map:s}));return u(c),t&&t(c),()=>{o!==null&&(i&&i(o),o.setMap(null))}},[]),null}R.memo(L7);class T7 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{heatmapLayer:null}),qe(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){dr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),dr(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(pv(pv({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=dn({updaterMap:vE,eventMap:mE,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:vE,eventMap:mE,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),mn(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}qe(T7,"contextType",en);var yE={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},bE={register(n,e,t){n.registerPanoProvider(e,t)},links(n,e){n.setLinks(e)},motionTracking(n,e){n.setMotionTracking(e)},options(n,e){n.setOptions(e)},pano(n,e){n.setPano(e)},position(n,e){n.setPosition(e)},pov(n,e){n.setPov(e)},visible(n,e){n.setVisible(e)},zoom(n,e){n.setZoom(e)}};class C7 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{streetViewPanorama:null}),qe(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,i=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=dn({updaterMap:bE,eventMap:yE,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({streetViewPanorama:i}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:bE,eventMap:yE,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),mn(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}qe(C7,"contextType",en);class I7 extends R.PureComponent{constructor(){super(...arguments),qe(this,"state",{streetViewService:null}),qe(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}qe(I7,"contextType",en);var _E={onDirectionsChanged:"directions_changed"},wE={directions(n,e){n.setDirections(e)},map(n,e){n.setMap(e)},options(n,e){n.setOptions(e)},panel(n,e){n.setPanel(e)},routeIndex(n,e){n.setRouteIndex(e)}};class R7 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"state",{directionsRenderer:null}),qe(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=dn({updaterMap:wE,eventMap:_E,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:wE,eventMap:_E,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),mn(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}qe(R7,"contextType",en);var SE={onPlacesChanged:"places_changed"},EE={bounds(n,e){n.setBounds(e)}};class k7 extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"containerElement",R.createRef()),qe(this,"state",{searchBox:null}),qe(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(dr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=dn({updaterMap:EE,eventMap:SE,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:EE,eventMap:SE,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),mn(this.registeredEvents))}render(){return Ke.jsx("div",{ref:this.containerElement,children:R.Children.only(this.props.children)})}}qe(k7,"contextType",en);var AE={onPlaceChanged:"place_changed"},xE={bounds(n,e){n.setBounds(e)},restrictions(n,e){n.setComponentRestrictions(e)},fields(n,e){n.setFields(e)},options(n,e){n.setOptions(e)},types(n,e){n.setTypes(e)}};class tb extends R.PureComponent{constructor(){super(...arguments),qe(this,"registeredEvents",[]),qe(this,"containerElement",R.createRef()),qe(this,"state",{autocomplete:null}),qe(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;dr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var i=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=dn({updaterMap:xE,eventMap:AE,prevProps:{},nextProps:this.props,instance:i}),this.setState(()=>({autocomplete:i}),this.setAutocompleteCallback)}}componentDidUpdate(e){mn(this.registeredEvents),this.registeredEvents=dn({updaterMap:xE,eventMap:AE,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&mn(this.registeredEvents)}render(){return Ke.jsx("div",{ref:this.containerElement,className:this.props.className,children:R.Children.only(this.props.children)})}}qe(tb,"defaultProps",{className:""});qe(tb,"contextType",en);const N7=["places"],P7=["Cardiologist","Dermatologist","Pediatrician","Neurologist","Orthopedic","Oncologist","Psychiatrist","Ophthalmologist","Dentist","Gynecologist","Surgeon","General Practitioner"],M7=()=>{const[n,e]=R.useState(!1),[t,i]=R.useState({docId:"",image:"",age:"",name:"",specialty:"",bio:"",email:""}),[r,s]=R.useState(""),[o,u]=R.useState(null),[c,f]=R.useState(null),p=A=>{const{name:T,value:C}=A.target;i(I=>({...I,[T]:C}))},v=()=>{if(c){const A=c.getPlace();if(A.geometry&&A.geometry.location){const T=A.geometry.location.lat(),C=A.geometry.location.lng();u({lat:T,lng:C}),s(A.formatted_address||A.name||"")}}},w=async A=>{if(A.preventDefault(),!o){alert("Please select a valid location from the suggestions.");return}const T={...t,location:{name:r,latitude:o.lat,longitude:o.lng}};try{await JP(yp(lh,"doctors"),T),alert("Doctor registered successfully!"),i({docId:"",image:"",age:"",name:"",specialty:"",bio:"",email:""}),s(""),u(null)}catch(C){console.error(C),alert("Failed to register doctor.")}};return R.useEffect(()=>{e(!0)},[]),n?Ke.jsx(ZT,{googleMapsApiKey:"AIzaSyCOr1HdHmTZTEEk7-1Y1QFESGqmwRB95dI",libraries:N7,children:Ke.jsx("div",{className:"register-container",children:Ke.jsxs("form",{className:"register-form",onSubmit:w,children:[Ke.jsx("h2",{children:"Register Doctor"}),Ke.jsx("input",{type:"text",name:"docId",placeholder:"Doctor ID",value:t.docId,onChange:p,required:!0}),Ke.jsx("input",{type:"text",name:"image",placeholder:"Image URL",value:t.image,onChange:p,required:!0}),Ke.jsx("input",{type:"number",name:"age",placeholder:"Age",value:t.age,onChange:p,required:!0}),Ke.jsx("input",{type:"text",name:"name",placeholder:"Name",value:t.name,onChange:p,required:!0}),Ke.jsxs("select",{name:"specialty",value:t.specialty,onChange:p,required:!0,children:[Ke.jsx("option",{value:"",children:"Select Specialty"}),P7.map(A=>Ke.jsx("option",{value:A,children:A},A))]}),Ke.jsx("textarea",{name:"bio",placeholder:"Bio",value:t.bio,onChange:p,required:!0}),Ke.jsx(tb,{onLoad:A=>f(A),onPlaceChanged:v,children:Ke.jsx("input",{type:"text",placeholder:"Search Location",value:r,onChange:A=>s(A.target.value),required:!0})}),Ke.jsx("input",{type:"email",name:"email",placeholder:"Email",value:t.email,onChange:p,required:!0}),Ke.jsx("button",{type:"submit",children:"Add Doctor"})]})})}):null};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function qp(n){return n+.5|0}const tc=(n,e,t)=>Math.max(Math.min(n,t),e);function Xd(n){return tc(qp(n*2.55),0,255)}function cc(n){return tc(qp(n*255),0,255)}function Zl(n){return tc(qp(n/2.55)/100,0,1)}function LE(n){return tc(qp(n*100),0,100)}const Ra={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},N1=[..."0123456789ABCDEF"],O7=n=>N1[n&15],D7=n=>N1[(n&240)>>4]+N1[n&15],Zg=n=>(n&240)>>4===(n&15),j7=n=>Zg(n.r)&&Zg(n.g)&&Zg(n.b)&&Zg(n.a);function B7(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Ra[n[1]]*17,g:255&Ra[n[2]]*17,b:255&Ra[n[3]]*17,a:e===5?Ra[n[4]]*17:255}:(e===7||e===9)&&(t={r:Ra[n[1]]<<4|Ra[n[2]],g:Ra[n[3]]<<4|Ra[n[4]],b:Ra[n[5]]<<4|Ra[n[6]],a:e===9?Ra[n[7]]<<4|Ra[n[8]]:255})),t}const V7=(n,e)=>n<255?e(n):"";function F7(n){var e=j7(n)?O7:D7;return n?"#"+e(n.r)+e(n.g)+e(n.b)+V7(n.a,e):void 0}const U7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function o4(n,e,t){const i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function z7(n,e,t){const i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function q7(n,e,t){const i=o4(n,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function H7(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function nb(n){const t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),u=(s+o)/2;let c,f,p;return s!==o&&(p=s-o,f=u>.5?p/(2-s-o):p/(s+o),c=H7(t,i,r,p,s),c=c*60+.5),[c|0,f||0,u]}function ib(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(cc)}function rb(n,e,t){return ib(o4,n,e,t)}function G7(n,e,t){return ib(q7,n,e,t)}function W7(n,e,t){return ib(z7,n,e,t)}function l4(n){return(n%360+360)%360}function $7(n){const e=U7.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Xd(+e[5]):cc(+e[5]));const r=l4(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=G7(r,s,o):e[1]==="hsv"?i=W7(r,s,o):i=rb(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}function K7(n,e){var t=nb(n);t[0]=l4(t[0]+e),t=rb(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Y7(n){if(!n)return;const e=nb(n),t=e[0],i=LE(e[1]),r=LE(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${Zl(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}const TE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},CE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function X7(){const n={},e=Object.keys(CE),t=Object.keys(TE);let i,r,s,o,u;for(i=0;i<e.length;i++){for(o=u=e[i],r=0;r<t.length;r++)s=t[r],u=u.replace(s,TE[s]);s=parseInt(CE[o],16),n[u]=[s>>16&255,s>>8&255,s&255]}return n}let Jg;function Q7(n){Jg||(Jg=X7(),Jg.transparent=[0,0,0,0]);const e=Jg[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Z7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function J7(n){const e=Z7.exec(n);let t=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?Xd(o):tc(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Xd(i):tc(i,0,255)),r=255&(e[4]?Xd(r):tc(r,0,255)),s=255&(e[6]?Xd(s):tc(s,0,255)),{r:i,g:r,b:s,a:t}}}function e9(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Zl(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ny=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Jh=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function t9(n,e,t){const i=Jh(Zl(n.r)),r=Jh(Zl(n.g)),s=Jh(Zl(n.b));return{r:cc(Ny(i+t*(Jh(Zl(e.r))-i))),g:cc(Ny(r+t*(Jh(Zl(e.g))-r))),b:cc(Ny(s+t*(Jh(Zl(e.b))-s))),a:n.a+t*(e.a-n.a)}}function em(n,e,t){if(n){let i=nb(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=rb(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function u4(n,e){return n&&Object.assign(e||{},n)}function IE(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=cc(n[3]))):(e=u4(n,{r:0,g:0,b:0,a:1}),e.a=cc(e.a)),e}function n9(n){return n.charAt(0)==="r"?J7(n):$7(n)}class Sp{constructor(e){if(e instanceof Sp)return e;const t=typeof e;let i;t==="object"?i=IE(e):t==="string"&&(i=B7(e)||Q7(e)||n9(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=u4(this._rgb);return e&&(e.a=Zl(e.a)),e}set rgb(e){this._rgb=IE(e)}rgbString(){return this._valid?e9(this._rgb):void 0}hexString(){return this._valid?F7(this._rgb):void 0}hslString(){return this._valid?Y7(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,u=2*o-1,c=i.a-r.a,f=((u*c===-1?u:(u+c)/(1+u*c))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=t9(this._rgb,e._rgb,t)),this}clone(){return new Sp(this.rgb)}alpha(e){return this._rgb.a=cc(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=qp(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return em(this._rgb,2,e),this}darken(e){return em(this._rgb,2,-e),this}saturate(e){return em(this._rgb,1,e),this}desaturate(e){return em(this._rgb,1,-e),this}rotate(e){return K7(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Kl(){}const i9=(()=>{let n=0;return()=>n++})();function ni(n){return n==null}function cr(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Pn(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ma(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Zo(n,e){return Ma(n)?n:e}function Gn(n,e){return typeof n>"u"?e:n}const r9=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function oi(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Hn(n,e,t,i){let r,s,o;if(cr(n))for(s=n.length,r=0;r<s;r++)e.call(t,n[r],r);else if(Pn(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function gv(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function mv(n){if(cr(n))return n.map(mv);if(Pn(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let r=0;for(;r<i;++r)e[t[r]]=mv(n[t[r]]);return e}return n}function c4(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function s9(n,e,t,i){if(!c4(n))return;const r=e[n],s=t[n];Pn(r)&&Pn(s)?Ep(r,s,i):e[n]=mv(s)}function Ep(n,e,t){const i=cr(e)?e:[e],r=i.length;if(!Pn(n))return n;t=t||{};const s=t.merger||s9;let o;for(let u=0;u<r;++u){if(o=i[u],!Pn(o))continue;const c=Object.keys(o);for(let f=0,p=c.length;f<p;++f)s(c[f],n,o,t)}return n}function sp(n,e){return Ep(n,e,{merger:a9})}function a9(n,e,t){if(!c4(n))return;const i=e[n],r=t[n];Pn(i)&&Pn(r)?sp(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=mv(r))}const RE={"":n=>n,x:n=>n.x,y:n=>n.y};function o9(n){const e=n.split("."),t=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function l9(n){const e=o9(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function kf(n,e){return(RE[e]||(RE[e]=l9(e)))(n)}function sb(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ap=n=>typeof n<"u",_c=n=>typeof n=="function",kE=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function u9(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const os=Math.PI,hc=2*os,vv=Number.POSITIVE_INFINITY,c9=os/180,po=os/2,Xc=os/4,NE=os*2/3,h4=Math.log10,fc=Math.sign;function Tm(n,e,t){return Math.abs(n-e)<t}function PE(n){const e=Math.round(n);n=Tm(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(h4(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function h9(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function f9(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function yv(n){return!f9(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function d9(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function p9(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function oh(n){return n*(os/180)}function g9(n){return n*(180/os)}function ME(n){if(!Ma(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function m9(n,e){const t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*os&&(s+=hc),{angle:s,distance:r}}function v9(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Qc(n){return(n%hc+hc)%hc}function y9(n,e,t,i){const r=Qc(n),s=Qc(e),o=Qc(t),u=Qc(s-r),c=Qc(o-r),f=Qc(r-s),p=Qc(r-o);return r===s||r===o||i||u>c&&f<p}function go(n,e,t){return Math.max(e,Math.min(t,n))}function b9(n){return go(n,-32768,32767)}function cf(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function ab(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}const P1=(n,e,t,i)=>ab(n,t,i?r=>{const s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),_9=(n,e,t)=>ab(n,t,i=>n[i][e]>=t);function w9(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}const f4=["push","pop","shift","splice","unshift"];function S9(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),f4.forEach(t=>{const i="_onData"+sb(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...s)}),o}})})}function OE(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(f4.forEach(s=>{delete n[s]}),delete n._chartjs)}function d4(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const p4=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function g4(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,p4.call(window,()=>{i=!1,n.apply(e,t)}))}}function E9(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const ob=n=>n==="start"?"left":n==="end"?"right":"center",ns=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,A9=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e,tm=n=>n===0||n===1,DE=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*hc/t)),jE=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*hc/t)+1,ap={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*po)+1,easeOutSine:n=>Math.sin(n*po),easeInOutSine:n=>-.5*(Math.cos(os*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>tm(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>tm(n)?n:DE(n,.075,.3),easeOutElastic:n=>tm(n)?n:jE(n,.075,.3),easeInOutElastic(n){return tm(n)?n:n<.5?.5*DE(n*2,.1125,.45):.5+.5*jE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-ap.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?ap.easeInBounce(n*2)*.5:ap.easeOutBounce(n*2-1)*.5+.5};function m4(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function BE(n){return m4(n)?n:new Sp(n)}function Py(n){return m4(n)?n:new Sp(n).saturate(.5).darken(.1).hexString()}const x9=["x","y","borderWidth","radius","tension"],L9=["color","borderColor","backgroundColor"];function T9(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:L9},numbers:{type:"number",properties:x9}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function C9(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const VE=new Map;function I9(n,e){e=e||{};const t=n+JSON.stringify(e);let i=VE.get(t);return i||(i=new Intl.NumberFormat(n,e),VE.set(t,i)),i}function v4(n,e,t){return I9(e,t).format(n)}const R9={values(n){return cr(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let r,s=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=k9(n,t)}const o=h4(Math.abs(s)),u=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),v4(n,i,c)}};function k9(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var y4={formatters:R9};function N9(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:y4.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const vh=Object.create(null),M1=Object.create(null);function op(n,e){if(!e)return n;const t=e.split(".");for(let i=0,r=t.length;i<r;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function My(n,e,t){return typeof e=="string"?Ep(op(n,e),t):Ep(op(n,""),e)}class P9{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Py(r.backgroundColor),this.hoverBorderColor=(i,r)=>Py(r.borderColor),this.hoverColor=(i,r)=>Py(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return My(this,e,t)}get(e){return op(this,e)}describe(e,t){return My(M1,e,t)}override(e,t){return My(vh,e,t)}route(e,t,i,r){const s=op(this,e),o=op(this,i),u="_"+t;Object.defineProperties(s,{[u]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[u],f=o[r];return Pn(c)?Object.assign({},f,c):Gn(c,f)},set(c){this[u]=c}}})}apply(e){e.forEach(t=>t(this))}}var Yi=new P9({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[T9,C9,N9]);function M9(n){return!n||ni(n.size)||ni(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function FE(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function Zc(n,e,t){const i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function UE(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function zE(n,e,t,i){b4(n,e,t,i,null)}function b4(n,e,t,i,r){let s,o,u,c,f,p,v,w;const b=e.pointStyle,A=e.rotation,T=e.radius;let C=(A||0)*c9;if(b&&typeof b=="object"&&(s=b.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(C),n.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),n.restore();return}if(!(isNaN(T)||T<=0)){switch(n.beginPath(),b){default:r?n.ellipse(t,i,r/2,T,0,0,hc):n.arc(t,i,T,0,hc),n.closePath();break;case"triangle":p=r?r/2:T,n.moveTo(t+Math.sin(C)*p,i-Math.cos(C)*T),C+=NE,n.lineTo(t+Math.sin(C)*p,i-Math.cos(C)*T),C+=NE,n.lineTo(t+Math.sin(C)*p,i-Math.cos(C)*T),n.closePath();break;case"rectRounded":f=T*.516,c=T-f,o=Math.cos(C+Xc)*c,v=Math.cos(C+Xc)*(r?r/2-f:c),u=Math.sin(C+Xc)*c,w=Math.sin(C+Xc)*(r?r/2-f:c),n.arc(t-v,i-u,f,C-os,C-po),n.arc(t+w,i-o,f,C-po,C),n.arc(t+v,i+u,f,C,C+po),n.arc(t-w,i+o,f,C+po,C+os),n.closePath();break;case"rect":if(!A){c=Math.SQRT1_2*T,p=r?r/2:c,n.rect(t-p,i-c,2*p,2*c);break}C+=Xc;case"rectRot":v=Math.cos(C)*(r?r/2:T),o=Math.cos(C)*T,u=Math.sin(C)*T,w=Math.sin(C)*(r?r/2:T),n.moveTo(t-v,i-u),n.lineTo(t+w,i-o),n.lineTo(t+v,i+u),n.lineTo(t-w,i+o),n.closePath();break;case"crossRot":C+=Xc;case"cross":v=Math.cos(C)*(r?r/2:T),o=Math.cos(C)*T,u=Math.sin(C)*T,w=Math.sin(C)*(r?r/2:T),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+w,i-o),n.lineTo(t-w,i+o);break;case"star":v=Math.cos(C)*(r?r/2:T),o=Math.cos(C)*T,u=Math.sin(C)*T,w=Math.sin(C)*(r?r/2:T),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+w,i-o),n.lineTo(t-w,i+o),C+=Xc,v=Math.cos(C)*(r?r/2:T),o=Math.cos(C)*T,u=Math.sin(C)*T,w=Math.sin(C)*(r?r/2:T),n.moveTo(t-v,i-u),n.lineTo(t+v,i+u),n.moveTo(t+w,i-o),n.lineTo(t-w,i+o);break;case"line":o=r?r/2:Math.cos(C)*T,u=Math.sin(C)*T,n.moveTo(t-o,i-u),n.lineTo(t+o,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(C)*(r?r/2:T),i+Math.sin(C)*T);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function _4(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function lb(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function ub(n){n.restore()}function O9(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ni(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function D9(n,e,t,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=e-s.actualBoundingBoxLeft,u=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,f=t+s.actualBoundingBoxDescent,p=r.strikethrough?(c+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,p),n.lineTo(u,p),n.stroke()}}function j9(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function xp(n,e,t,i,r,s={}){const o=cr(e)?e:[e],u=s.strokeWidth>0&&s.strokeColor!=="";let c,f;for(n.save(),n.font=r.string,O9(n,s),c=0;c<o.length;++c)f=o[c],s.backdrop&&j9(n,s.backdrop),u&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),ni(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,t,i,s.maxWidth)),n.fillText(f,t,i,s.maxWidth),D9(n,t,i,f,s),i+=Number(r.lineHeight);n.restore()}function bv(n,e){const{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*os,os,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,os,po,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,po,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-po,!0),n.lineTo(t+o.topLeft,i)}const B9=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,V9=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function F9(n,e){const t=(""+n).match(B9);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const U9=n=>+n||0;function w4(n,e){const t={},i=Pn(e),r=i?Object.keys(e):e,s=Pn(n)?i?o=>Gn(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of r)t[o]=U9(s(o));return t}function S4(n){return w4(n,{top:"y",right:"x",bottom:"y",left:"x"})}function vf(n){return w4(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Oa(n){const e=S4(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function as(n,e){n=n||{},e=e||Yi.font;let t=Gn(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Gn(n.style,e.style);i&&!(""+i).match(V9)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Gn(n.family,e.family),lineHeight:F9(Gn(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Gn(n.weight,e.weight),string:""};return r.string=M9(r),r}function nm(n,e,t,i){let r,s,o;for(r=0,s=n.length;r<s;++r)if(o=n[r],o!==void 0&&o!==void 0)return o}function z9(n,e,t){const{min:i,max:r}=n,s=r9(e,(r-i)/2),o=(u,c)=>t&&u===0?0:u+c;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Hf(n,e){return Object.assign(Object.create(n),e)}function cb(n,e=[""],t,i,r=()=>n[0]){const s=t||n;typeof i>"u"&&(i=L4("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:u=>cb([u,...n],e,s,i)};return new Proxy(o,{deleteProperty(u,c){return delete u[c],delete u._keys,delete n[0][c],!0},get(u,c){return A4(u,c,()=>X9(c,e,n,u))},getOwnPropertyDescriptor(u,c){return Reflect.getOwnPropertyDescriptor(u._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,c){return HE(u).includes(c)},ownKeys(u){return HE(u)},set(u,c,f){const p=u._storage||(u._storage=r());return u[c]=p[c]=f,delete u._keys,!0}})}function Nf(n,e,t,i){const r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:E4(n,i),setContext:s=>Nf(n,s,t,i),override:s=>Nf(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,u){return A4(s,o,()=>H9(s,o,u))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,u){return n[o]=u,delete s[o],!0}})}function E4(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:_c(t)?t:()=>t,isIndexable:_c(i)?i:()=>i}}const q9=(n,e)=>n?n+sb(e):e,hb=(n,e)=>Pn(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function A4(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function H9(n,e,t){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let u=i[e];return _c(u)&&o.isScriptable(e)&&(u=G9(e,u,n,t)),cr(u)&&u.length&&(u=W9(e,u,n,o.isIndexable)),hb(e,u)&&(u=Nf(u,r,s&&s[e],o)),u}function G9(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let c=e(s,o||i);return u.delete(n),hb(n,c)&&(c=fb(r._scopes,r,n,c)),c}function W9(n,e,t,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:u}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(Pn(e[0])){const c=e,f=r._scopes.filter(p=>p!==c);e=[];for(const p of c){const v=fb(f,r,n,p);e.push(Nf(v,s,o&&o[n],u))}}return e}function x4(n,e,t){return _c(n)?n(e,t):n}const $9=(n,e)=>n===!0?e:typeof n=="string"?kf(e,n):void 0;function K9(n,e,t,i,r){for(const s of e){const o=$9(t,s);if(o){n.add(o);const u=x4(o._fallback,t,r);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function fb(n,e,t,i){const r=e._rootScopes,s=x4(e._fallback,t,i),o=[...n,...r],u=new Set;u.add(i);let c=qE(u,o,t,s||t,i);return c===null||typeof s<"u"&&s!==t&&(c=qE(u,o,s,c,i),c===null)?!1:cb(Array.from(u),[""],r,s,()=>Y9(e,t,i))}function qE(n,e,t,i,r){for(;t;)t=K9(n,e,t,i,r);return t}function Y9(n,e,t){const i=n._getTarget();e in i||(i[e]={});const r=i[e];return cr(r)&&Pn(t)?t:r||{}}function X9(n,e,t,i){let r;for(const s of e)if(r=L4(q9(s,n),t),typeof r<"u")return hb(n,r)?fb(t,i,n,r):r}function L4(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function HE(n){let e=n._keys;return e||(e=n._keys=Q9(n._scopes)),e}function Q9(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function db(){return typeof window<"u"&&typeof document<"u"}function pb(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function _v(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const Yv=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Z9(n,e){return Yv(n).getPropertyValue(e)}const J9=["top","right","bottom","left"];function uh(n,e,t){const i={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=J9[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const ej=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function tj(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i;let o=!1,u,c;if(ej(r,s,n.target))u=r,c=s;else{const f=e.getBoundingClientRect();u=i.clientX-f.left,c=i.clientY-f.top,o=!0}return{x:u,y:c,box:o}}function nh(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,r=Yv(t),s=r.boxSizing==="border-box",o=uh(r,"padding"),u=uh(r,"border","width"),{x:c,y:f,box:p}=tj(n,t),v=o.left+(p&&u.left),w=o.top+(p&&u.top);let{width:b,height:A}=e;return s&&(b-=o.width+u.width,A-=o.height+u.height),{x:Math.round((c-v)/b*t.width/i),y:Math.round((f-w)/A*t.height/i)}}function nj(n,e,t){let i,r;if(e===void 0||t===void 0){const s=n&&pb(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const o=s.getBoundingClientRect(),u=Yv(s),c=uh(u,"border","width"),f=uh(u,"padding");e=o.width-f.width-c.width,t=o.height-f.height-c.height,i=_v(u.maxWidth,s,"clientWidth"),r=_v(u.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||vv,maxHeight:r||vv}}const im=n=>Math.round(n*10)/10;function ij(n,e,t,i){const r=Yv(n),s=uh(r,"margin"),o=_v(r.maxWidth,n,"clientWidth")||vv,u=_v(r.maxHeight,n,"clientHeight")||vv,c=nj(n,e,t);let{width:f,height:p}=c;if(r.boxSizing==="content-box"){const w=uh(r,"border","width"),b=uh(r,"padding");f-=b.width+w.width,p-=b.height+w.height}return f=Math.max(0,f-s.width),p=Math.max(0,i?f/i:p-s.height),f=im(Math.min(f,o,c.maxWidth)),p=im(Math.min(p,u,c.maxHeight)),f&&!p&&(p=im(f/2)),(e!==void 0||t!==void 0)&&i&&c.height&&p>c.height&&(p=c.height,f=im(Math.floor(p*i))),{width:f,height:p}}function GE(n,e,t){const i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const rj=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};db()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function WE(n,e){const t=Z9(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const sj=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},aj=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function yf(n,e,t){return n?sj(e,t):aj()}function T4(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function C4(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function rm(n,e,t){return n.options.clip?n[t]:e[t]}function oj(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:rm(t,e,"left"),right:rm(t,e,"right"),top:rm(i,e,"top"),bottom:rm(i,e,"bottom")}:e}function lj(n,e){const t=e._clip;if(t.disabled)return!1;const i=oj(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class uj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){const s=t.listeners[r],o=t.duration;s.forEach(u=>u({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=p4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,u=!1,c;for(;o>=0;--o)c=s[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),u=!0):(s[o]=s[s.length-1],s.pop());u&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Xl=new uj;const $E="transparent",cj={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=BE(n||$E),r=i.valid&&BE(e||$E);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class hj{constructor(e,t,i,r){const s=t[i];r=nm([e.to,r,s,e.from]);const o=nm([e.from,s,r]);this._active=!0,this._fn=e.fn||cj[e.type||typeof o],this._easing=ap[e.easing]||ap.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=nm([e.to,t,r,e.from]),this._from=nm([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,u=this._to;let c;if(this._active=s!==u&&(o||t<i),!this._active){this._target[r]=u,this._notify(!0);return}if(t<0){this._target[r]=s;return}c=t/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(s,u,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}}class I4{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Pn(e))return;const t=Object.keys(Yi.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Pn(s))return;const o={};for(const u of t)o[u]=s[u];(cr(s.properties)&&s.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,o)})})}_animateOptions(e,t){const i=t.options,r=dj(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&fj(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),u=Date.now();let c;for(c=o.length-1;c>=0;--c){const f=o[c];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[f];let v=s[f];const w=i.get(f);if(v)if(w&&v.active()){v.update(w,p,u);continue}else v.cancel();if(!w||!w.duration){e[f]=p;continue}s[f]=v=new hj(w,e,f,p),r.push(v)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Xl.add(this._chart,i),!0}}function fj(n,e){const t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function dj(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function KE(n,e){const t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function pj(n,e,t){if(t===!1)return!1;const i=KE(n,t),r=KE(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function gj(n){let e,t,i,r;return Pn(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function R4(n,e){const t=[],i=n._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function YE(n,e,t,i={}){const r=n.keys,s=i.mode==="single";let o,u,c,f;if(e===null)return;let p=!1;for(o=0,u=r.length;o<u;++o){if(c=+r[o],c===t){if(p=!0,i.all)continue;break}f=n.values[c],Ma(f)&&(s||e===0||fc(e)===fc(f))&&(e+=f)}return!p&&!i.all?0:e}function mj(n,e){const{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),u=new Array(o.length);let c,f,p;for(c=0,f=o.length;c<f;++c)p=o[c],u[c]={[r]:p,[s]:n[p]};return u}function Oy(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function vj(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function yj(n){const{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function bj(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function XE(n,e,t,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function QE(n,e){const{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:u}=i,c=s.axis,f=o.axis,p=vj(s,o,i),v=e.length;let w;for(let b=0;b<v;++b){const A=e[b],{[c]:T,[f]:C}=A,I=A._stacks||(A._stacks={});w=I[f]=bj(r,p,T),w[u]=C,w._top=XE(w,o,!0,i.type),w._bottom=XE(w,o,!1,i.type);const j=w._visualValues||(w._visualValues={});j[u]=C}}function Dy(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function _j(n,e){return Hf(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function wj(n,e,t){return Hf(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function jd(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}const jy=n=>n==="reset"||n==="none",ZE=(n,e)=>e?n:Object.assign({},n),Sj=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:R4(t,!0),values:null};class lp{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Oy(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&jd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),r=(v,w,b,A)=>v==="x"?w:v==="r"?A:b,s=t.xAxisID=Gn(i.xAxisID,Dy(e,"x")),o=t.yAxisID=Gn(i.yAxisID,Dy(e,"y")),u=t.rAxisID=Gn(i.rAxisID,Dy(e,"r")),c=t.indexAxis,f=t.iAxisID=r(c,s,o,u),p=t.vAxisID=r(c,o,s,u);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&OE(this._data,this),e._stacked&&jd(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(Pn(t)){const r=this._cachedMeta;this._data=mj(t,r)}else if(i!==t){if(i){OE(i,this);const r=this._cachedMeta;jd(r),r._parsed=[]}t&&Object.isExtensible(t)&&S9(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=Oy(t.vScale,t),t.stack!==i.stack&&(r=!0,jd(t),t.stack=i.stack),this._resyncElements(e),(r||s!==t._stacked)&&(QE(this,t._parsed),t._stacked=Oy(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,u=s.axis;let c=e===0&&t===r.length?!0:i._sorted,f=e>0&&i._parsed[e-1],p,v,w;if(this._parsing===!1)i._parsed=r,i._sorted=!0,w=r;else{cr(r[e])?w=this.parseArrayData(i,r,e,t):Pn(r[e])?w=this.parseObjectData(i,r,e,t):w=this.parsePrimitiveData(i,r,e,t);const b=()=>v[u]===null||f&&v[u]<f[u];for(p=0;p<t;++p)i._parsed[p+e]=v=w[p],c&&(b()&&(c=!1),f=v);i._sorted=c}o&&QE(this,w)}parsePrimitiveData(e,t,i,r){const{iScale:s,vScale:o}=e,u=s.axis,c=o.axis,f=s.getLabels(),p=s===o,v=new Array(r);let w,b,A;for(w=0,b=r;w<b;++w)A=w+i,v[w]={[u]:p||s.parse(f[A],A),[c]:o.parse(t[A],A)};return v}parseArrayData(e,t,i,r){const{xScale:s,yScale:o}=e,u=new Array(r);let c,f,p,v;for(c=0,f=r;c<f;++c)p=c+i,v=t[p],u[c]={x:s.parse(v[0],p),y:o.parse(v[1],p)};return u}parseObjectData(e,t,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=new Array(r);let p,v,w,b;for(p=0,v=r;p<v;++p)w=p+i,b=t[w],f[p]={x:s.parse(kf(b,u),w),y:o.parse(kf(b,c),w)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const r=this.chart,s=this._cachedMeta,o=t[e.axis],u={keys:R4(r,!0),values:t._stacks[e.axis]._visualValues};return YE(u,o,s.index,{mode:i})}updateRangeFromParsed(e,t,i,r){const s=i[t.axis];let o=s===null?NaN:s;const u=r&&i._stacks[t.axis];r&&u&&(r.values=u,o=YE(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,u=this._getOtherScale(e),c=Sj(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:v}=yj(u);let w,b;function A(){b=r[w];const T=b[u.axis];return!Ma(b[e.axis])||p>T||v<T}for(w=0;w<o&&!(!A()&&(this.updateRangeFromParsed(f,e,b,c),s));++w);if(s){for(w=o-1;w>=0;--w)if(!A()){this.updateRangeFromParsed(f,e,b,c);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=t.length;r<s;++r)o=t[r][e.axis],Ma(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=gj(Gn(this.options.clip,pj(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,r=i.data||[],s=t.chartArea,o=[],u=this._drawStart||0,c=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,s,u,c),p=u;p<u+c;++p){const v=r[p];v.hidden||(v.active&&f?o.push(v):v.draw(e,s))}for(p=0;p<o.length;++p)o[p].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=wj(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=_j(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const r=t==="active",s=this._cachedDataOpts,o=e+"-"+t,u=s[o],c=this.enableOptionSharing&&Ap(i);if(u)return ZE(u,c);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),v=r?[`${e}Hover`,"hover",e,""]:[e,""],w=f.getOptionScopes(this.getDataset(),p),b=Object.keys(Yi.elements[e]),A=()=>this.getContext(i,r,t),T=f.resolveNamedOptions(w,b,A,v);return T.$shared&&(T.$shared=c,s[o]=Object.freeze(ZE(T,c))),T}_resolveAnimations(e,t,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,u=s[o];if(u)return u;let c;if(r.options.animation!==!1){const p=this.chart.config,v=p.datasetAnimationScopeKeys(this._type,t),w=p.getOptionScopes(this.getDataset(),v);c=p.createResolver(w,this.getContext(e,i,t))}const f=new I4(r,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||jy(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:o}}updateElement(e,t,i,r){jy(r)?Object.assign(e,i):this._resolveAnimations(t,r).update(e,i)}updateSharedOptions(e,t,i){e&&!jy(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,c,f]of this._syncList)this[u](c,f);this._syncList=[];const r=i.length,s=t.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,i=!0){const r=this._cachedMeta,s=r.data,o=e+t;let u;const c=f=>{for(f.length+=t,u=f.length-1;u>=o;u--)f[u]=f[u-t]};for(c(s),u=e;u<o;++u)s[u]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,r){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,t);i._stacked&&jd(i,r)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,r]=e;this[t](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}An(lp,"defaults",{}),An(lp,"datasetElementType",null),An(lp,"dataElementType",null);function Ej(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=d4(i.sort((r,s)=>r-s))}return n._cache.$bar}function Aj(n){const e=n.iScale,t=Ej(e,n.type);let i=e._length,r,s,o,u;const c=()=>{o===32767||o===-32768||(Ap(u)&&(i=Math.min(i,Math.abs(o-u)||i)),u=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),c();for(u=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),c();return i}function xj(n,e,t,i){const r=t.barThickness;let s,o;return ni(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}function Lj(n,e,t,i){const r=e.pixels,s=r[n];let o=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const c=t.categoryPercentage;o===null&&(o=s-(u===null?e.end-e.start:u-s)),u===null&&(u=s+s-o);const f=s-(s-Math.min(o,u))/2*c;return{chunk:Math.abs(u-o)/2*c/i,ratio:t.barPercentage,start:f}}function Tj(n,e,t,i){const r=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(r,s),u=Math.max(r,s);let c=o,f=u;Math.abs(o)>Math.abs(u)&&(c=u,f=o),e[t.axis]=f,e._custom={barStart:c,barEnd:f,start:r,end:s,min:o,max:u}}function k4(n,e,t,i){return cr(n)?Tj(n,e,t,i):e[t.axis]=t.parse(n,i),e}function JE(n,e,t,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),u=r===s,c=[];let f,p,v,w;for(f=t,p=t+i;f<p;++f)w=e[f],v={},v[r.axis]=u||r.parse(o[f],f),c.push(k4(w,v,s,f));return c}function By(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Cj(n,e,t){return n!==0?fc(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function Ij(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}function Rj(n,e,t,i){let r=e.borderSkipped;const s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:u,reverse:c,top:f,bottom:p}=Ij(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=f:(t._bottom||0)===i?r=p:(s[eA(p,o,u,c)]=!0,r=f)),s[eA(r,o,u,c)]=!0,n.borderSkipped=s}function eA(n,e,t,i){return i?(n=kj(n,e,t),n=tA(n,t,e)):n=tA(n,e,t),n}function kj(n,e,t){return n===e?t:n===t?e:n}function tA(n,e,t){return n==="start"?e:n==="end"?t:n}function Nj(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Cm extends lp{parsePrimitiveData(e,t,i,r){return JE(e,t,i,r)}parseArrayData(e,t,i,r){return JE(e,t,i,r)}parseObjectData(e,t,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=s.axis==="x"?u:c,p=o.axis==="x"?u:c,v=[];let w,b,A,T;for(w=i,b=i+r;w<b;++w)T=t[w],A={},A[s.axis]=s.parse(kf(T,f),w),v.push(k4(kf(T,p),A,o,w));return v}updateRangeFromParsed(e,t,i,r){super.updateRangeFromParsed(e,t,i,r);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:r}=t,s=this.getParsed(e),o=s._custom,u=By(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:u}}=this,c=u.getBasePixel(),f=u.isHorizontal(),p=this._getRuler(),{sharedOptions:v,includeOptions:w}=this._getSharedOptions(t,r);for(let b=t;b<t+i;b++){const A=this.getParsed(b),T=s||ni(A[u.axis])?{base:c,head:c}:this._calculateBarValuePixels(b),C=this._calculateBarIndexPixels(b,p),I=(A._stacks||{})[u.axis],j={horizontal:f,base:T.base,enableBorderRadius:!I||By(A._custom)||o===I._top||o===I._bottom,x:f?T.head:C.center,y:f?C.center:T.head,height:f?C.size:Math.abs(T.size),width:f?Math.abs(T.size):C.size};w&&(j.options=v||this.resolveDataElementOptions(b,e[b].active?"active":r));const W=j.options||e[b].options;Rj(j,W,I,o),Nj(j,W,p.ratio),this.updateElement(e[b],b,j,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),s=i.options.stacked,o=[],u=this._cachedMeta.controller.getParsed(t),c=u&&u[i.axis],f=p=>{const v=p._parsed.find(b=>b[i.axis]===c),w=v&&v[p.vScale.axis];if(ni(w)||isNaN(w))return!0};for(const p of r)if(!(t!==void 0&&f(p))&&((s===!1||o.indexOf(p.stack)===-1||s===void 0&&p.stack===void 0)&&o.push(p.stack),p.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const r=this._getStacks(e,i),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,r=[];let s,o;for(s=0,o=t.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const u=e.barThickness;return{min:u||Aj(t),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,u=s||0,c=this.getParsed(e),f=c._custom,p=By(f);let v=c[t.axis],w=0,b=i?this.applyStack(t,c,i):v,A,T;b!==v&&(w=b-v,b=v),p&&(v=f.barStart,b=f.barEnd-f.barStart,v!==0&&fc(v)!==fc(f.barEnd)&&(w=0),w+=v);const C=!ni(s)&&!p?s:w;let I=t.getPixelForValue(C);if(this.chart.getDataVisibility(e)?A=t.getPixelForValue(w+b):A=I,T=A-I,Math.abs(T)<o){T=Cj(T,t,u)*o,v===u&&(I-=T/2);const j=t.getPixelForDecimal(0),W=t.getPixelForDecimal(1),Z=Math.min(j,W),X=Math.max(j,W);I=Math.max(Math.min(I,X),Z),A=I+T,i&&!p&&(c._stacks[t.axis]._visualValues[r]=t.getValueForPixel(A)-t.getValueForPixel(I))}if(I===t.getPixelForValue(u)){const j=fc(T)*t.getLineWidthForValue(u)/2;I+=j,T-=j}return{size:T,base:I,head:A,center:A+T/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,s=r.skipNull,o=Gn(r.maxBarThickness,1/0);let u,c;if(t.grouped){const f=s?this._getStackCount(e):t.stackCount,p=r.barThickness==="flex"?Lj(e,t,r,f):xj(e,t,r,f),v=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);u=p.start+p.chunk*v+p.chunk/2,c=Math.min(o,p.chunk*p.ratio)}else u=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(o,t.min*t.ratio);return{base:u-c/2,head:u+c/2,center:u,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}An(Cm,"id","bar"),An(Cm,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),An(Cm,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Jc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class gb{constructor(e){An(this,"options");this.options=e||{}}static override(e){Object.assign(gb.prototype,e)}init(){}formats(){return Jc()}parse(){return Jc()}format(){return Jc()}add(){return Jc()}diff(){return Jc()}startOf(){return Jc()}endOf(){return Jc()}}var Pj={_date:gb};function Mj(n,e,t,i){const{controller:r,data:s,_sorted:o}=n,u=r._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&o&&s.length){const f=u._reversePixels?_9:P1;if(i){if(r._sharedOptions){const p=s[0],v=typeof p.getRange=="function"&&p.getRange(e);if(v){const w=f(s,e,t-v),b=f(s,e,t+v);return{lo:w.lo,hi:b.hi}}}}else{const p=f(s,e,t);if(c){const{vScale:v}=r._cachedMeta,{_parsed:w}=n,b=w.slice(0,p.lo+1).reverse().findIndex(T=>!ni(T[v.axis]));p.lo-=Math.max(0,b);const A=w.slice(p.hi).findIndex(T=>!ni(T[v.axis]));p.hi+=Math.max(0,A)}return p}}return{lo:0,hi:s.length-1}}function Xv(n,e,t,i,r){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let u=0,c=s.length;u<c;++u){const{index:f,data:p}=s[u],{lo:v,hi:w}=Mj(s[u],e,o,r);for(let b=v;b<=w;++b){const A=p[b];A.skip||i(A,f,b)}}}function Oj(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Vy(n,e,t,i,r){const s=[];return!r&&!n.isPointInArea(e)||Xv(n,t,e,function(u,c,f){!r&&!_4(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&s.push({element:u,datasetIndex:c,index:f})},!0),s}function Dj(n,e,t,i){let r=[];function s(o,u,c){const{startAngle:f,endAngle:p}=o.getProps(["startAngle","endAngle"],i),{angle:v}=m9(o,{x:e.x,y:e.y});y9(v,f,p)&&r.push({element:o,datasetIndex:u,index:c})}return Xv(n,t,e,s),r}function jj(n,e,t,i,r,s){let o=[];const u=Oj(t);let c=Number.POSITIVE_INFINITY;function f(p,v,w){const b=p.inRange(e.x,e.y,r);if(i&&!b)return;const A=p.getCenterPoint(r);if(!(!!s||n.isPointInArea(A))&&!b)return;const C=u(e,A);C<c?(o=[{element:p,datasetIndex:v,index:w}],c=C):C===c&&o.push({element:p,datasetIndex:v,index:w})}return Xv(n,t,e,f),o}function Fy(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?Dj(n,e,t,r):jj(n,e,t,i,r,s)}function nA(n,e,t,i,r){const s=[],o=t==="x"?"inXRange":"inYRange";let u=!1;return Xv(n,t,e,(c,f,p)=>{c[o]&&c[o](e[t],r)&&(s.push({element:c,datasetIndex:f,index:p}),u=u||c.inRange(e.x,e.y,r))}),i&&!u?[]:s}var Bj={modes:{index(n,e,t,i){const r=nh(e,n),s=t.axis||"x",o=t.includeInvisible||!1,u=t.intersect?Vy(n,r,s,i,o):Fy(n,r,s,!1,i,o),c=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,v=f.data[p];v&&!v.skip&&c.push({element:v,datasetIndex:f.index,index:p})}),c):[]},dataset(n,e,t,i){const r=nh(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let u=t.intersect?Vy(n,r,s,i,o):Fy(n,r,s,!1,i,o);if(u.length>0){const c=u[0].datasetIndex,f=n.getDatasetMeta(c).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:c,index:p})}return u},point(n,e,t,i){const r=nh(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return Vy(n,r,s,i,o)},nearest(n,e,t,i){const r=nh(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return Fy(n,r,s,t.intersect,i,o)},x(n,e,t,i){const r=nh(e,n);return nA(n,r,"x",t.intersect,i)},y(n,e,t,i){const r=nh(e,n);return nA(n,r,"y",t.intersect,i)}}};const N4=["left","top","right","bottom"];function Bd(n,e){return n.filter(t=>t.pos===e)}function iA(n,e){return n.filter(t=>N4.indexOf(t.pos)===-1&&t.box.axis===e)}function Vd(n,e){return n.sort((t,i)=>{const r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function Vj(n){const e=[];let t,i,r,s,o,u;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:o,stackWeight:u=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:u});return e}function Fj(n){const e={};for(const t of n){const{stack:i,pos:r,stackWeight:s}=t;if(!i||!N4.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function Uj(n,e){const t=Fj(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,u;for(s=0,o=n.length;s<o;++s){u=n[s];const{fullSize:c}=u.box,f=t[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:c&&e.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:c&&e.availableHeight)}return t}function zj(n){const e=Vj(n),t=Vd(e.filter(f=>f.box.fullSize),!0),i=Vd(Bd(e,"left"),!0),r=Vd(Bd(e,"right")),s=Vd(Bd(e,"top"),!0),o=Vd(Bd(e,"bottom")),u=iA(e,"x"),c=iA(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(c).concat(o).concat(u),chartArea:Bd(e,"chartArea"),vertical:i.concat(r).concat(c),horizontal:s.concat(o).concat(u)}}function rA(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function P4(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function qj(n,e,t,i){const{pos:r,box:s}=t,o=n.maxPadding;if(!Pn(r)){t.size&&(n[r]-=t.size);const v=i[t.stack]||{size:0,count:1};v.size=Math.max(v.size,t.horizontal?s.height:s.width),t.size=v.size/v.count,n[r]+=t.size}s.getPadding&&P4(o,s.getPadding());const u=Math.max(0,e.outerWidth-rA(o,n,"left","right")),c=Math.max(0,e.outerHeight-rA(o,n,"top","bottom")),f=u!==n.w,p=c!==n.h;return n.w=u,n.h=c,t.horizontal?{same:f,other:p}:{same:p,other:f}}function Hj(n){const e=n.maxPadding;function t(i){const r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Gj(n,e){const t=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return i(n?["left","right"]:["top","bottom"])}function Qd(n,e,t,i){const r=[];let s,o,u,c,f,p;for(s=0,o=n.length,f=0;s<o;++s){u=n[s],c=u.box,c.update(u.width||e.w,u.height||e.h,Gj(u.horizontal,e));const{same:v,other:w}=qj(e,t,u,i);f|=v&&r.length,p=p||w,c.fullSize||r.push(u)}return f&&Qd(r,e,t,i)||p}function sm(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function sA(n,e,t,i){const r=t.padding;let{x:s,y:o}=e;for(const u of n){const c=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const v=e.w*p,w=f.size||c.height;Ap(f.start)&&(o=f.start),c.fullSize?sm(c,r.left,o,t.outerWidth-r.right-r.left,w):sm(c,e.left+f.placed,o,v,w),f.start=o,f.placed+=v,o=c.bottom}else{const v=e.h*p,w=f.size||c.width;Ap(f.start)&&(s=f.start),c.fullSize?sm(c,s,r.top,w,t.outerHeight-r.bottom-r.top):sm(c,s,e.top+f.placed,w,v),f.start=s,f.placed+=v,s=c.right}}e.x=s,e.y=o}var Pa={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const r=Oa(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),u=zj(n.boxes),c=u.vertical,f=u.horizontal;Hn(n.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const p=c.reduce((T,C)=>C.box.options&&C.box.options.display===!1?T:T+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/p,hBoxMaxHeight:o/2}),w=Object.assign({},r);P4(w,Oa(i));const b=Object.assign({maxPadding:w,w:s,h:o,x:r.left,y:r.top},r),A=Uj(c.concat(f),v);Qd(u.fullSize,b,v,A),Qd(c,b,v,A),Qd(f,b,v,A)&&Qd(c,b,v,A),Hj(b),sA(u.leftAndTop,b,v,A),b.x+=b.w,b.y+=b.h,sA(u.rightAndBottom,b,v,A),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},Hn(u.chartArea,T=>{const C=T.box;Object.assign(C,n.chartArea),C.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class M4{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}}class Wj extends M4{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Im="$chartjs",$j={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},aA=n=>n===null||n==="";function Kj(n,e){const t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Im]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",aA(r)){const s=WE(n,"width");s!==void 0&&(n.width=s)}if(aA(i))if(n.style.height==="")n.height=n.width/(e||2);else{const s=WE(n,"height");s!==void 0&&(n.height=s)}return n}const O4=rj?{passive:!0}:!1;function Yj(n,e,t){n&&n.addEventListener(e,t,O4)}function Xj(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,O4)}function Qj(n,e){const t=$j[n.type]||n.type,{x:i,y:r}=nh(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function wv(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Zj(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const u of s)o=o||wv(u.addedNodes,i),o=o&&!wv(u.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function Jj(n,e,t){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const u of s)o=o||wv(u.removedNodes,i),o=o&&!wv(u.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Lp=new Map;let oA=0;function D4(){const n=window.devicePixelRatio;n!==oA&&(oA=n,Lp.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function eB(n,e){Lp.size||window.addEventListener("resize",D4),Lp.set(n,e)}function tB(n){Lp.delete(n),Lp.size||window.removeEventListener("resize",D4)}function nB(n,e,t){const i=n.canvas,r=i&&pb(i);if(!r)return;const s=g4((u,c)=>{const f=r.clientWidth;t(u,c),f<r.clientWidth&&t()},window),o=new ResizeObserver(u=>{const c=u[0],f=c.contentRect.width,p=c.contentRect.height;f===0&&p===0||s(f,p)});return o.observe(r),eB(n,s),o}function Uy(n,e,t){t&&t.disconnect(),e==="resize"&&tB(n)}function iB(n,e,t){const i=n.canvas,r=g4(s=>{n.ctx!==null&&t(Qj(s,n))},n);return Yj(i,e,r),r}class rB extends M4{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Kj(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Im])return!1;const i=t[Im].initial;["height","width"].forEach(s=>{const o=i[s];ni(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Im],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:Zj,detach:Jj,resize:nB}[t]||iB;r[t]=o(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Uy,detach:Uy,resize:Uy}[t]||Xj)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return ij(e,t,i,r)}isAttached(e){const t=e&&pb(e);return!!(t&&t.isConnected)}}function sB(n){return!db()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Wj:rB}class wc{constructor(){An(this,"x");An(this,"y");An(this,"active",!1);An(this,"options");An(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return yv(this.x)&&yv(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}An(wc,"defaults",{}),An(wc,"defaultRoutes");function aB(n,e){const t=n.options.ticks,i=oB(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?uB(e):[],o=s.length,u=s[0],c=s[o-1],f=[];if(o>r)return cB(e,f,s,o/r),f;const p=lB(s,e,r);if(o>0){let v,w;const b=o>1?Math.round((c-u)/(o-1)):null;for(am(e,f,p,ni(b)?0:u-b,u),v=0,w=o-1;v<w;v++)am(e,f,p,s[v],s[v+1]);return am(e,f,p,c,ni(b)?e.length:c+b),f}return am(e,f,p),f}function oB(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function lB(n,e,t){const i=hB(n),r=e.length/t;if(!i)return Math.max(r,1);const s=h9(i);for(let o=0,u=s.length-1;o<u;o++){const c=s[o];if(c>r)return c}return Math.max(r,1)}function uB(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function cB(n,e,t,i){let r=0,s=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}function am(n,e,t,i,r){const s=Gn(i,0),o=Math.min(Gn(r,n.length),n.length);let u=0,c,f,p;for(t=Math.ceil(t),r&&(c=r-i,t=c/Math.floor(c/t)),p=s;p<0;)u++,p=Math.round(s+u*t);for(f=Math.max(s,0);f<o;f++)f===p&&(e.push(n[f]),u++,p=Math.round(s+u*t))}function hB(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const fB=n=>n==="left"?"right":n==="right"?"left":n,lA=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,uA=(n,e)=>Math.min(e||n,n);function cA(n,e){const t=[],i=n.length/e,r=n.length;let s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function dB(n,e,t){const i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,u=1e-6;let c=n.getPixelForTick(r),f;if(!(t&&(i===1?f=Math.max(c-s,o-c):e===0?f=(n.getPixelForTick(1)-c)/2:f=(c-n.getPixelForTick(r-1))/2,c+=r<e?f:-f,c<s-u||c>o+u)))return c}function pB(n,e){Hn(n,t=>{const i=t.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function Fd(n){return n.drawTicks?n.tickLength:0}function hA(n,e){if(!n.display)return 0;const t=as(n.font,e),i=Oa(n.padding);return(cr(n.text)?n.text.length:1)*t.lineHeight+i.height}function gB(n,e){return Hf(n,{scale:e,type:"scale"})}function mB(n,e,t){return Hf(n,{tick:t,index:e,type:"tick"})}function vB(n,e,t){let i=ob(n);return(t&&e!=="right"||!t&&e==="right")&&(i=fB(i)),i}function yB(n,e,t,i){const{top:r,left:s,bottom:o,right:u,chart:c}=n,{chartArea:f,scales:p}=c;let v=0,w,b,A;const T=o-r,C=u-s;if(n.isHorizontal()){if(b=ns(i,s,u),Pn(t)){const I=Object.keys(t)[0],j=t[I];A=p[I].getPixelForValue(j)+T-e}else t==="center"?A=(f.bottom+f.top)/2+T-e:A=lA(n,t,e);w=u-s}else{if(Pn(t)){const I=Object.keys(t)[0],j=t[I];b=p[I].getPixelForValue(j)-C+e}else t==="center"?b=(f.left+f.right)/2-C+e:b=lA(n,t,e);A=ns(i,o,r),v=t==="left"?-po:po}return{titleX:b,titleY:A,maxWidth:w,rotation:v}}class Gf extends wc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=Zo(e,Number.POSITIVE_INFINITY),t=Zo(t,Number.NEGATIVE_INFINITY),i=Zo(i,Number.POSITIVE_INFINITY),r=Zo(r,Number.NEGATIVE_INFINITY),{min:Zo(e,i),max:Zo(t,r),minDefined:Ma(e),maxDefined:Ma(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let c=0,f=u.length;c<f;++c)o=u[c].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:Zo(t,Zo(i,t)),max:Zo(i,Zo(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oi(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,u=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=z9(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=u<this.ticks.length;this._convertTicksToLabels(c?cA(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=aB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oi(this.options.afterUpdate,[this])}beforeSetDimensions(){oi(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oi(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),oi(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oi(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=oi(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){oi(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oi(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=uA(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let o=r,u,c,f;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),v=p.widest.width,w=p.highest.height,b=go(this.chart.width-v,0,this.maxWidth);u=e.offset?this.maxWidth/i:b/(i-1),v+6>u&&(u=b/(i-(e.offset?.5:1)),c=this.maxHeight-Fd(e.grid)-t.padding-hA(e.title,this.chart.options.font),f=Math.sqrt(v*v+w*w),o=g9(Math.min(Math.asin(go((p.highest.height+6)/u,-1,1)),Math.asin(go(c/f,-1,1))-Math.asin(go(w/f,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){oi(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oi(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),u=this.isHorizontal();if(o){const c=hA(r,t.options.font);if(u?(e.width=this.maxWidth,e.height=Fd(s)+c):(e.height=this.maxHeight,e.width=Fd(s)+c),i.display&&this.ticks.length){const{first:f,last:p,widest:v,highest:w}=this._getLabelSizes(),b=i.padding*2,A=oh(this.labelRotation),T=Math.cos(A),C=Math.sin(A);if(u){const I=i.mirror?0:C*v.width+T*w.height;e.height=Math.min(this.maxHeight,e.height+I+b)}else{const I=i.mirror?0:T*v.width+C*w.height;e.width=Math.min(this.maxWidth,e.width+I+b)}this._calculatePadding(f,p,C,T)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){const{ticks:{align:s,padding:o},position:u}=this.options,c=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,b=0;c?f?(w=r*e.width,b=i*t.height):(w=i*e.height,b=r*t.width):s==="start"?b=t.width:s==="end"?w=e.width:s!=="inner"&&(w=e.width/2,b=t.width/2),this.paddingLeft=Math.max((w-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-v+o)*this.width/(this.width-v),0)}else{let p=t.height/2,v=e.height/2;s==="start"?(p=0,v=e.height):s==="end"&&(p=t.height,v=0),this.paddingTop=p+o,this.paddingBottom=v+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oi(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)ni(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=cA(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:r,_longestTextCache:s}=this,o=[],u=[],c=Math.floor(t/uA(t,i));let f=0,p=0,v,w,b,A,T,C,I,j,W,Z,X;for(v=0;v<t;v+=c){if(A=e[v].label,T=this._resolveTickFontOptions(v),r.font=C=T.string,I=s[C]=s[C]||{data:{},gc:[]},j=T.lineHeight,W=Z=0,!ni(A)&&!cr(A))W=FE(r,I.data,I.gc,W,A),Z=j;else if(cr(A))for(w=0,b=A.length;w<b;++w)X=A[w],!ni(X)&&!cr(X)&&(W=FE(r,I.data,I.gc,W,X),Z+=j);o.push(W),u.push(Z),f=Math.max(W,f),p=Math.max(Z,p)}pB(s,t);const se=o.indexOf(f),B=u.indexOf(p),N=O=>({width:o[O]||0,height:u[O]||0});return{first:N(0),last:N(t-1),widest:N(se),highest:N(B),widths:o,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return b9(this._alignToPixels?Zc(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=mB(this.getContext(),e,i))}return this.$context||(this.$context=gB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=oh(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,u=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*i>u*r?u/i:c/r:c*r<u*i?c/i:u/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:u}=r,c=s.offset,f=this.isHorizontal(),v=this.ticks.length+(c?1:0),w=Fd(s),b=[],A=u.setContext(this.getContext()),T=A.display?A.width:0,C=T/2,I=function(re){return Zc(i,re,T)};let j,W,Z,X,se,B,N,O,G,k,M,V;if(o==="top")j=I(this.bottom),B=this.bottom-w,O=j-C,k=I(e.top)+C,V=e.bottom;else if(o==="bottom")j=I(this.top),k=e.top,V=I(e.bottom)-C,B=j+C,O=this.top+w;else if(o==="left")j=I(this.right),se=this.right-w,N=j-C,G=I(e.left)+C,M=e.right;else if(o==="right")j=I(this.left),G=e.left,M=I(e.right)-C,se=j+C,N=this.left+w;else if(t==="x"){if(o==="center")j=I((e.top+e.bottom)/2+.5);else if(Pn(o)){const re=Object.keys(o)[0],he=o[re];j=I(this.chart.scales[re].getPixelForValue(he))}k=e.top,V=e.bottom,B=j+C,O=B+w}else if(t==="y"){if(o==="center")j=I((e.left+e.right)/2);else if(Pn(o)){const re=Object.keys(o)[0],he=o[re];j=I(this.chart.scales[re].getPixelForValue(he))}se=j-C,N=se-w,G=e.left,M=e.right}const oe=Gn(r.ticks.maxTicksLimit,v),pe=Math.max(1,Math.ceil(v/oe));for(W=0;W<v;W+=pe){const re=this.getContext(W),he=s.setContext(re),ce=u.setContext(re),Se=he.lineWidth,K=he.color,ve=ce.dash||[],F=ce.dashOffset,H=he.tickWidth,ie=he.tickColor,Q=he.tickBorderDash||[],ue=he.tickBorderDashOffset;Z=dB(this,W,c),Z!==void 0&&(X=Zc(i,Z,Se),f?se=N=G=M=X:B=O=k=V=X,b.push({tx1:se,ty1:B,tx2:N,ty2:O,x1:G,y1:k,x2:M,y2:V,width:Se,color:K,borderDash:ve,borderDashOffset:F,tickWidth:H,tickColor:ie,tickBorderDash:Q,tickBorderDashOffset:ue}))}return this._ticksLength=v,this._borderValue=j,b}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),u=this.ticks,{align:c,crossAlign:f,padding:p,mirror:v}=s,w=Fd(i.grid),b=w+p,A=v?-p:b,T=-oh(this.labelRotation),C=[];let I,j,W,Z,X,se,B,N,O,G,k,M,V="middle";if(r==="top")se=this.bottom-A,B=this._getXAxisLabelAlignment();else if(r==="bottom")se=this.top+A,B=this._getXAxisLabelAlignment();else if(r==="left"){const pe=this._getYAxisLabelAlignment(w);B=pe.textAlign,X=pe.x}else if(r==="right"){const pe=this._getYAxisLabelAlignment(w);B=pe.textAlign,X=pe.x}else if(t==="x"){if(r==="center")se=(e.top+e.bottom)/2+b;else if(Pn(r)){const pe=Object.keys(r)[0],re=r[pe];se=this.chart.scales[pe].getPixelForValue(re)+b}B=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")X=(e.left+e.right)/2-b;else if(Pn(r)){const pe=Object.keys(r)[0],re=r[pe];X=this.chart.scales[pe].getPixelForValue(re)}B=this._getYAxisLabelAlignment(w).textAlign}t==="y"&&(c==="start"?V="top":c==="end"&&(V="bottom"));const oe=this._getLabelSizes();for(I=0,j=u.length;I<j;++I){W=u[I],Z=W.label;const pe=s.setContext(this.getContext(I));N=this.getPixelForTick(I)+s.labelOffset,O=this._resolveTickFontOptions(I),G=O.lineHeight,k=cr(Z)?Z.length:1;const re=k/2,he=pe.color,ce=pe.textStrokeColor,Se=pe.textStrokeWidth;let K=B;o?(X=N,B==="inner"&&(I===j-1?K=this.options.reverse?"left":"right":I===0?K=this.options.reverse?"right":"left":K="center"),r==="top"?f==="near"||T!==0?M=-k*G+G/2:f==="center"?M=-oe.highest.height/2-re*G+G:M=-oe.highest.height+G/2:f==="near"||T!==0?M=G/2:f==="center"?M=oe.highest.height/2-re*G:M=oe.highest.height-k*G,v&&(M*=-1),T!==0&&!pe.showLabelBackdrop&&(X+=G/2*Math.sin(T))):(se=N,M=(1-k)*G/2);let ve;if(pe.showLabelBackdrop){const F=Oa(pe.backdropPadding),H=oe.heights[I],ie=oe.widths[I];let Q=M-F.top,ue=0-F.left;switch(V){case"middle":Q-=H/2;break;case"bottom":Q-=H;break}switch(B){case"center":ue-=ie/2;break;case"right":ue-=ie;break;case"inner":I===j-1?ue-=ie:I>0&&(ue-=ie/2);break}ve={left:ue,top:Q,width:ie+F.width,height:H+F.height,color:pe.backdropColor}}C.push({label:Z,font:O,textOffset:M,options:{rotation:T,color:he,strokeColor:ce,strokeWidth:Se,textAlign:K,textBaseline:V,translation:[X,se],backdrop:ve}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-oh(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),u=e+s,c=o.widest.width;let f,p;return t==="left"?r?(p=this.right+s,i==="near"?f="left":i==="center"?(f="center",p+=c/2):(f="right",p+=c)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=c/2):(f="left",p=this.left)):t==="right"?r?(p=this.left+s,i==="near"?f="right":i==="center"?(f="center",p-=c/2):(f="left",p-=c)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=c/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const u=(c,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const c=r[s];t.drawOnChartArea&&u({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&u({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const u=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let f,p,v,w;this.isHorizontal()?(f=Zc(e,this.left,o)-o/2,p=Zc(e,this.right,u)+u/2,v=w=c):(v=Zc(e,this.top,o)-o/2,w=Zc(e,this.bottom,u)+u/2,f=p=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(f,v),t.lineTo(p,w),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&lb(i,r);const s=this.getLabelItems(e);for(const o of s){const u=o.options,c=o.font,f=o.label,p=o.textOffset;xp(i,f,0,p,c,u)}r&&ub(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const s=as(i.font),o=Oa(i.padding),u=i.align;let c=s.lineHeight/2;t==="bottom"||t==="center"||Pn(t)?(c+=o.bottom,cr(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:f,titleY:p,maxWidth:v,rotation:w}=yB(this,c,t,u);xp(e,i.text,0,0,s,{color:i.color,maxWidth:v,rotation:w,textAlign:vB(u,t,r),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=Gn(e.grid&&e.grid.z,-1),r=Gn(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Gf.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const u=t[s];u[i]===this.id&&(!e||u.type===e)&&r.push(u)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return as(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class om{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;wB(t)&&(i=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,bB(e,o,i),this.override&&Yi.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in Yi[r]&&(delete Yi[r][i],this.override&&delete vh[i])}}function bB(n,e,t){const i=Ep(Object.create(null),[t?Yi.get(t):{},Yi.get(e),n.defaults]);Yi.set(e,i),n.defaultRoutes&&_B(e,n.defaultRoutes),n.descriptors&&Yi.describe(e,n.descriptors)}function _B(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),u=o.pop(),c=o.join(".");Yi.route(s,r,c,u)})}function wB(n){return"id"in n&&"defaults"in n}class SB{constructor(){this.controllers=new om(lp,"datasets",!0),this.elements=new om(wc,"elements"),this.plugins=new om(Object,"plugins"),this.scales=new om(Gf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Hn(r,o=>{const u=i||this._getRegistryForType(o);this._exec(e,u,o)})})}_exec(e,t,i){const r=sb(e);oi(i["before"+r],[],i),t[e](i),oi(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var tl=new SB;class EB{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(const s of e){const o=s.plugin,u=o[i],c=[t,r,s.options];if(oi(u,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ni(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,r=Gn(i.options&&i.options.plugins,{}),s=AB(i);return r===!1&&!t?[]:LB(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(u=>!o.some(c=>u.plugin.id===c.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}}function AB(n){const e={},t=[],i=Object.keys(tl.plugins.items);for(let s=0;s<i.length;s++)t.push(tl.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function xB(n,e){return!e&&n===!1?null:n===!0?{}:n}function LB(n,{plugins:e,localIds:t},i,r){const s=[],o=n.getContext();for(const u of e){const c=u.id,f=xB(i[c],r);f!==null&&s.push({plugin:u,options:TB(n.config,{plugin:u,local:t[c]},f,o)})}return s}function TB(n,{plugin:e,local:t},i,r){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function O1(n,e){const t=Yi.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function CB(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function IB(n,e){return n===e?"_index_":"_value_"}function fA(n){if(n==="x"||n==="y"||n==="r")return n}function RB(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function D1(n,...e){if(fA(n))return n;for(const t of e){const i=t.axis||RB(t.position)||n.length>1&&fA(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function dA(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function kB(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return dA(n,"x",t[0])||dA(n,"y",t[0])}return{}}function NB(n,e){const t=vh[n.type]||{scales:{}},i=e.scales||{},r=O1(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const u=i[o];if(!Pn(u))return console.error(`Invalid scale configuration for scale: ${o}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=D1(o,u,kB(o,n),Yi.scales[u.type]),f=IB(c,r),p=t.scales||{};s[o]=sp(Object.create(null),[{axis:c},u,p[c],p[f]])}),n.data.datasets.forEach(o=>{const u=o.type||n.type,c=o.indexAxis||O1(u,e),p=(vh[u]||{}).scales||{};Object.keys(p).forEach(v=>{const w=CB(v,c),b=o[w+"AxisID"]||w;s[b]=s[b]||Object.create(null),sp(s[b],[{axis:w},i[b],p[v]])})}),Object.keys(s).forEach(o=>{const u=s[o];sp(u,[Yi.scales[u.type],Yi.scale])}),s}function j4(n){const e=n.options||(n.options={});e.plugins=Gn(e.plugins,{}),e.scales=NB(n,e)}function B4(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function PB(n){return n=n||{},n.data=B4(n.data),j4(n),n}const pA=new Map,V4=new Set;function lm(n,e){let t=pA.get(n);return t||(t=e(),pA.set(n,t),V4.add(t)),t}const Ud=(n,e,t)=>{const i=kf(e,t);i!==void 0&&n.add(i)};class MB{constructor(e){this._config=PB(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=B4(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),j4(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return lm(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return lm(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return lm(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return lm(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),u=o.get(t);if(u)return u;const c=new Set;t.forEach(p=>{e&&(c.add(e),p.forEach(v=>Ud(c,e,v))),p.forEach(v=>Ud(c,r,v)),p.forEach(v=>Ud(c,vh[s]||{},v)),p.forEach(v=>Ud(c,Yi,v)),p.forEach(v=>Ud(c,M1,v))});const f=Array.from(c);return f.length===0&&f.push(Object.create(null)),V4.has(t)&&o.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,vh[t]||{},Yi.datasets[t]||{},{type:t},Yi,M1]}resolveNamedOptions(e,t,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:u}=gA(this._resolverCache,e,r);let c=o;if(DB(o,t)){s.$shared=!1,i=_c(i)?i():i;const f=this.createResolver(e,i,u);c=Nf(o,i,f)}for(const f of t)s[f]=c[f];return s}createResolver(e,t,i=[""],r){const{resolver:s}=gA(this._resolverCache,e,i);return Pn(t)?Nf(s,t,void 0,r):s}}function gA(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const r=t.join();let s=i.get(r);return s||(s={resolver:cb(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,s)),s}const OB=n=>Pn(n)&&Object.getOwnPropertyNames(n).some(e=>_c(n[e]));function DB(n,e){const{isScriptable:t,isIndexable:i}=E4(n);for(const r of e){const s=t(r),o=i(r),u=(o||s)&&n[r];if(s&&(_c(u)||OB(u))||o&&cr(u))return!0}return!1}var jB="4.4.9";const BB=["top","bottom","left","right","chartArea"];function mA(n,e){return n==="top"||n==="bottom"||BB.indexOf(n)===-1&&e==="x"}function vA(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function yA(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),oi(t&&t.onComplete,[n],e)}function VB(n){const e=n.chart,t=e.options.animation;oi(t&&t.onProgress,[n],e)}function F4(n){return db()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Rm={},bA=n=>{const e=F4(n);return Object.values(Rm).filter(t=>t.canvas===e).pop()};function FB(n,e,t){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=e){const o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}function UB(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var $u;let Qv=($u=class{static register(...e){tl.add(...e),_A()}static unregister(...e){tl.remove(...e),_A()}constructor(e,t){const i=this.config=new MB(t),r=F4(e),s=bA(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||sB(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,o.aspectRatio),c=u&&u.canvas,f=c&&c.height,p=c&&c.width;if(this.id=i9(),this.ctx=u,this.canvas=c,this.width=p,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new EB,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=E9(v=>this.update(v),o.resizeDelay||0),this._dataChanges=[],Rm[this.id]=this,!u||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Xl.listen(this,"complete",yA),Xl.listen(this,"progress",VB),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:s}=this;return ni(e)?t&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return tl}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():GE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return UE(this.canvas,this.ctx),this}stop(){return Xl.stop(this),this}resize(e,t){Xl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,s),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,GE(this,u,!0)&&(this.notifyPlugins("resize",{size:o}),oi(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Hn(t,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,r=Object.keys(i).reduce((o,u)=>(o[u]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const u=t[o],c=D1(o,u),f=c==="r",p=c==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),Hn(s,o=>{const u=o.options,c=u.id,f=D1(c,u),p=Gn(u.type,o.dtype);(u.position===void 0||mA(u.position,f)!==mA(o.dposition))&&(u.position=o.dposition),r[c]=!0;let v=null;if(c in i&&i[c].type===p)v=i[c];else{const w=tl.getScale(p);v=new w({id:c,type:p,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(u,e)}),Hn(r,(o,u)=>{o||delete i[u]}),Hn(i,o=>{Pa.configure(this,o,o.options),Pa.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>t){for(let r=t;r<i;++r)this._destroyDatasetMeta(r);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(vA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,r)=>{t.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=t.length;i<r;i++){const s=t[i];let o=this.getDatasetMeta(i);const u=s.type||this.config.type;if(o.type&&o.type!==u&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=u,o.indexAxis=s.indexAxis||O1(u,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=tl.getController(u),{datasetElementType:f,dataElementType:p}=Yi.datasets[u];Object.assign(c,{dataElementType:tl.getElement(p),datasetElementType:f&&tl.getElement(f)}),o.controller=new c(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Hn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:v}=this.getDatasetMeta(f),w=!r&&s.indexOf(v)===-1;v.buildOrUpdateElements(w),o=Math.max(+v.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Hn(s,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vA("z","_idx"));const{_active:u,_lastEvent:c}=this;c?this._eventHandler(c,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Hn(this.scales,e=>{Pa.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!kE(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of t){const o=i==="_removeElements"?-s:s;FB(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,u)=>u+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<t;s++)if(!kE(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pa.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Hn(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,_c(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Xl.has(this)?this.attached&&!Xl.running(this)&&Xl.start(this):(this.draw(),yA({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let r,s;for(r=0,s=t.length;r<s;++r){const o=t[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},r=lj(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&lb(t,r),e.controller.draw(),r&&ub(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return _4(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,r){const s=Bj.modes[t];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Hf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);Ap(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(u=>u.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Xl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),UE(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Rm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},r=(s,o,u)=>{s.offsetX=o,s.offsetY=u,this._eventHandler(s)};Hn(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(c,f)=>{t.addEventListener(this,c,f),e[c]=f},r=(c,f)=>{e[c]&&(t.removeEventListener(this,c,f),delete e[c])},s=(c,f)=>{this.canvas&&this.resize(c,f)};let o;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():o()}unbindEvents(){Hn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Hn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const r=i?"set":"remove";let s,o,u,c;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),u=0,c=e.length;u<c;++u){o=e[u];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const u=this.getDatasetMeta(s);if(!u)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:u.data[o],index:o}});!gv(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const r=this.options.hover,s=(c,f)=>c.filter(p=>!f.some(v=>p.datasetIndex===v.datasetIndex&&p.index===v.index)),o=s(t,e),u=i?e:s(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:r=[],options:s}=this,o=t,u=this._getActiveElements(e,r,i,o),c=u9(e),f=UB(e,this._lastEvent,i,c);i&&(this._lastEvent=null,oi(s.onHover,[e,u,this],this),c&&oi(s.onClick,[e,u,this],this));const p=!gv(u,r);return(p||t)&&(this._active=u,this._updateHoverStyles(u,r,t)),this._lastEvent=f,p}_getActiveElements(e,t,i,r){if(e.type==="mouseout")return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},An($u,"defaults",Yi),An($u,"instances",Rm),An($u,"overrides",vh),An($u,"registry",tl),An($u,"version",jB),An($u,"getChart",bA),$u);function _A(){return Hn(Qv.instances,n=>n._plugins.invalidate())}function U4(n,e){const{x:t,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let u,c,f,p,v;return n.horizontal?(v=o/2,u=Math.min(t,r),c=Math.max(t,r),f=i-v,p=i+v):(v=s/2,u=t-v,c=t+v,f=Math.min(i,r),p=Math.max(i,r)),{left:u,top:f,right:c,bottom:p}}function nc(n,e,t,i){return n?0:go(e,t,i)}function zB(n,e,t){const i=n.options.borderWidth,r=n.borderSkipped,s=S4(i);return{t:nc(r.top,s.top,0,t),r:nc(r.right,s.right,0,e),b:nc(r.bottom,s.bottom,0,t),l:nc(r.left,s.left,0,e)}}function qB(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=vf(r),o=Math.min(e,t),u=n.borderSkipped,c=i||Pn(r);return{topLeft:nc(!c||u.top||u.left,s.topLeft,0,o),topRight:nc(!c||u.top||u.right,s.topRight,0,o),bottomLeft:nc(!c||u.bottom||u.left,s.bottomLeft,0,o),bottomRight:nc(!c||u.bottom||u.right,s.bottomRight,0,o)}}function HB(n){const e=U4(n),t=e.right-e.left,i=e.bottom-e.top,r=zB(n,t/2,i/2),s=qB(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function zy(n,e,t,i){const r=e===null,s=t===null,u=n&&!(r&&s)&&U4(n,i);return u&&(r||cf(e,u.left,u.right))&&(s||cf(t,u.top,u.bottom))}function GB(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function WB(n,e){n.rect(e.x,e.y,e.w,e.h)}function qy(n,e,t={}){const i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}class km extends wc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=HB(this),u=GB(o.radius)?bv:WB;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),u(e,qy(o,t,s)),e.clip(),u(e,qy(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),u(e,qy(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return zy(this,e,t,i)}inXRange(e,t){return zy(this,e,null,t)}inYRange(e,t){return zy(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}An(km,"id","bar"),An(km,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),An(km,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const wA=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},$B=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class SA extends wc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=oi(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=as(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:u,itemHeight:c}=wA(i,s);let f,p;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(o,s,u,c)+10):(p=this.maxHeight,f=this._fitCols(o,r,u,c)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+u;let v=e;s.textAlign="left",s.textBaseline="middle";let w=-1,b=-p;return this.legendItems.forEach((A,T)=>{const C=i+t/2+s.measureText(A.text).width;(T===0||f[f.length-1]+C+2*u>o)&&(v+=p,f[f.length-(T>0?0:1)]=0,b+=p,w++),c[T]={left:0,top:b,row:w,width:C,height:r},f[f.length-1]+=C+u}),v}_fitCols(e,t,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.columnSizes=[],p=o-e;let v=u,w=0,b=0,A=0,T=0;return this.legendItems.forEach((C,I)=>{const{itemWidth:j,itemHeight:W}=KB(i,t,s,C,r);I>0&&b+W+2*u>p&&(v+=w+u,f.push({width:w,height:b}),A+=w+u,T++,w=b=0),c[I]={left:A,top:b,col:T,width:j,height:W},w=Math.max(w,j),b+=W+u}),v+=w,f.push({width:w,height:b}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=yf(s,this.left,this.width);if(this.isHorizontal()){let u=0,c=ns(i,this.left+r,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,c=ns(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+e+r,f.left=o.leftForLtr(o.x(c),f.width),c+=f.width+r}else{let u=0,c=ns(i,this.top+e+r,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,c=ns(i,this.top+e+r,this.bottom-this.columnSizes[u].height)),f.top=c,f.left+=this.left+r,f.left=o.leftForLtr(o.x(f.left),f.width),c+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;lb(e,this),this._draw(),ub(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,u=Yi.color,c=yf(e.rtl,this.left,this.width),f=as(o.font),{padding:p}=o,v=f.size,w=v/2;let b;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:A,boxHeight:T,itemHeight:C}=wA(o,v),I=function(se,B,N){if(isNaN(A)||A<=0||isNaN(T)||T<0)return;r.save();const O=Gn(N.lineWidth,1);if(r.fillStyle=Gn(N.fillStyle,u),r.lineCap=Gn(N.lineCap,"butt"),r.lineDashOffset=Gn(N.lineDashOffset,0),r.lineJoin=Gn(N.lineJoin,"miter"),r.lineWidth=O,r.strokeStyle=Gn(N.strokeStyle,u),r.setLineDash(Gn(N.lineDash,[])),o.usePointStyle){const G={radius:T*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:O},k=c.xPlus(se,A/2),M=B+w;b4(r,G,k,M,o.pointStyleWidth&&A)}else{const G=B+Math.max((v-T)/2,0),k=c.leftForLtr(se,A),M=vf(N.borderRadius);r.beginPath(),Object.values(M).some(V=>V!==0)?bv(r,{x:k,y:G,w:A,h:T,radius:M}):r.rect(k,G,A,T),r.fill(),O!==0&&r.stroke()}r.restore()},j=function(se,B,N){xp(r,N.text,se,B+C/2,f,{strikethrough:N.hidden,textAlign:c.textAlign(N.textAlign)})},W=this.isHorizontal(),Z=this._computeTitleHeight();W?b={x:ns(s,this.left+p,this.right-i[0]),y:this.top+p+Z,line:0}:b={x:this.left+p,y:ns(s,this.top+Z+p,this.bottom-t[0].height),line:0},T4(this.ctx,e.textDirection);const X=C+p;this.legendItems.forEach((se,B)=>{r.strokeStyle=se.fontColor,r.fillStyle=se.fontColor;const N=r.measureText(se.text).width,O=c.textAlign(se.textAlign||(se.textAlign=o.textAlign)),G=A+w+N;let k=b.x,M=b.y;c.setWidth(this.width),W?B>0&&k+G+p>this.right&&(M=b.y+=X,b.line++,k=b.x=ns(s,this.left+p,this.right-i[b.line])):B>0&&M+X>this.bottom&&(k=b.x=k+t[b.line].width+p,b.line++,M=b.y=ns(s,this.top+Z+p,this.bottom-t[b.line].height));const V=c.x(k);if(I(V,M,se),k=A9(O,k+A+w,W?k+G:this.right,e.rtl),j(c.x(k),M,se),W)b.x+=G+p;else if(typeof se.text!="string"){const oe=f.lineHeight;b.y+=z4(se,oe)+p}else b.y+=X}),C4(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=as(t.font),r=Oa(t.padding);if(!t.display)return;const s=yf(e.rtl,this.left,this.width),o=this.ctx,u=t.position,c=i.size/2,f=r.top+c;let p,v=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),p=this.top+f,v=ns(e.align,v,this.right-w);else{const A=this.columnSizes.reduce((T,C)=>Math.max(T,C.height),0);p=f+ns(e.align,this.top,this.bottom-A-e.labels.padding-this._computeTitleHeight())}const b=ns(u,v,v+w);o.textAlign=s.textAlign(ob(u)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,xp(o,t.text,b,p,i)}_computeTitleHeight(){const e=this.options.title,t=as(e.font),i=Oa(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(cf(e,this.left,this.right)&&cf(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],cf(e,r.left,r.left+r.width)&&cf(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!QB(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=$B(r,i);r&&!s&&oi(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&oi(t.onHover,[e,i,this],this)}else i&&oi(t.onClick,[e,i,this],this)}}function KB(n,e,t,i,r){const s=YB(i,n,e,t),o=XB(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function YB(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}function XB(n,e,t){let i=n;return typeof e.text!="string"&&(i=z4(e,t)),i}function z4(n,e){const t=n.text?n.text.length:0;return e*t}function QB(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var ZB={id:"legend",_element:SA,start(n,e,t){const i=n.legend=new SA({ctx:n.ctx,options:t,chart:n});Pa.configure(n,i,t),Pa.addBox(n,i)},stop(n){Pa.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;Pa.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const f=c.controller.getStyle(t?0:void 0),p=Oa(f.borderWidth);return{text:e[c.index].label,fillStyle:f.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:o&&(u||f.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class q4 extends wc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=cr(i.text)?i.text.length:1;this._padding=Oa(i.padding);const s=r*as(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:r,right:s,options:o}=this,u=o.align;let c=0,f,p,v;return this.isHorizontal()?(p=ns(u,i,s),v=t+e,f=s-i):(o.position==="left"?(p=i+e,v=ns(u,r,t),c=os*-.5):(p=s-e,v=ns(u,t,r),c=os*.5),f=r-t),{titleX:p,titleY:v,maxWidth:f,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=as(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:u,maxWidth:c,rotation:f}=this._drawArgs(s);xp(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:f,textAlign:ob(t.align),textBaseline:"middle",translation:[o,u]})}}function JB(n,e){const t=new q4({ctx:n.ctx,options:e,chart:n});Pa.configure(n,t,e),Pa.addBox(n,t),n.titleBlock=t}var eV={id:"title",_element:q4,start(n,e,t){JB(n,t)},stop(n){const e=n.titleBlock;Pa.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;Pa.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Zd={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const c=u.tooltipPosition();i.add(c.x),r+=c.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((u,c)=>u+c)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,u;for(s=0,o=n.length;s<o;++s){const c=n[s].element;if(c&&c.hasValue()){const f=c.getCenterPoint(),p=v9(e,f);p<r&&(r=p,u=c)}}if(u){const c=u.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function Jo(n,e){return e&&(cr(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Ql(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function tV(n,e){const{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:u}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function EA(n,e){const t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:u}=e,c=as(e.bodyFont),f=as(e.titleFont),p=as(e.footerFont),v=s.length,w=r.length,b=i.length,A=Oa(e.padding);let T=A.height,C=0,I=i.reduce((Z,X)=>Z+X.before.length+X.lines.length+X.after.length,0);if(I+=n.beforeBody.length+n.afterBody.length,v&&(T+=v*f.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),I){const Z=e.displayColors?Math.max(u,c.lineHeight):c.lineHeight;T+=b*Z+(I-b)*c.lineHeight+(I-1)*e.bodySpacing}w&&(T+=e.footerMarginTop+w*p.lineHeight+(w-1)*e.footerSpacing);let j=0;const W=function(Z){C=Math.max(C,t.measureText(Z).width+j)};return t.save(),t.font=f.string,Hn(n.title,W),t.font=c.string,Hn(n.beforeBody.concat(n.afterBody),W),j=e.displayColors?o+2+e.boxPadding:0,Hn(i,Z=>{Hn(Z.before,W),Hn(Z.lines,W),Hn(Z.after,W)}),j=0,t.font=p.string,Hn(n.footer,W),t.restore(),C+=A.width,{width:C,height:T}}function nV(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function iV(n,e,t,i){const{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&r+s+o>e.width||n==="right"&&r-s-o<0)return!0}function rV(n,e,t,i){const{x:r,width:s}=t,{width:o,chartArea:{left:u,right:c}}=n;let f="center";return i==="center"?f=r<=(u+c)/2?"left":"right":r<=s/2?f="left":r>=o-s/2&&(f="right"),iV(f,n,e,t)&&(f="center"),f}function AA(n,e,t){const i=t.yAlign||e.yAlign||nV(n,t);return{xAlign:t.xAlign||e.xAlign||rV(n,e,t,i),yAlign:i}}function sV(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function aV(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function xA(n,e,t,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:u,yAlign:c}=t,f=r+s,{topLeft:p,topRight:v,bottomLeft:w,bottomRight:b}=vf(o);let A=sV(e,u);const T=aV(e,c,f);return c==="center"?u==="left"?A+=f:u==="right"&&(A-=f):u==="left"?A-=Math.max(p,w)+r:u==="right"&&(A+=Math.max(v,b)+r),{x:go(A,0,i.width-e.width),y:go(T,0,i.height-e.height)}}function um(n,e,t){const i=Oa(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function LA(n){return Jo([],Ql(n))}function oV(n,e,t){return Hf(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function TA(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const H4={beforeTitle:Kl,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Kl,beforeBody:Kl,beforeLabel:Kl,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return ni(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Kl,afterBody:Kl,beforeFooter:Kl,footer:Kl,afterFooter:Kl};function ks(n,e,t,i){const r=n[e].call(t,i);return typeof r>"u"?H4[e].call(t,i):r}class j1 extends wc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&t.options.animation&&i.animations,s=new I4(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=oV(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,r=ks(i,"beforeTitle",this,e),s=ks(i,"title",this,e),o=ks(i,"afterTitle",this,e);let u=[];return u=Jo(u,Ql(r)),u=Jo(u,Ql(s)),u=Jo(u,Ql(o)),u}getBeforeBody(e,t){return LA(ks(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,r=[];return Hn(e,s=>{const o={before:[],lines:[],after:[]},u=TA(i,s);Jo(o.before,Ql(ks(u,"beforeLabel",this,s))),Jo(o.lines,ks(u,"label",this,s)),Jo(o.after,Ql(ks(u,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,t){return LA(ks(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,r=ks(i,"beforeFooter",this,e),s=ks(i,"footer",this,e),o=ks(i,"afterFooter",this,e);let u=[];return u=Jo(u,Ql(r)),u=Jo(u,Ql(s)),u=Jo(u,Ql(o)),u}_createItems(e){const t=this._active,i=this.chart.data,r=[],s=[],o=[];let u=[],c,f;for(c=0,f=t.length;c<f;++c)u.push(tV(this.chart,t[c]));return e.filter&&(u=u.filter((p,v,w)=>e.filter(p,v,w,i))),e.itemSort&&(u=u.sort((p,v)=>e.itemSort(p,v,i))),Hn(u,p=>{const v=TA(e.callbacks,p);r.push(ks(v,"labelColor",this,p)),s.push(ks(v,"labelPointStyle",this,p)),o.push(ks(v,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const u=Zd[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const c=this._size=EA(this,i),f=Object.assign({},u,c),p=AA(this.chart,i,f),v=xA(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:v.x,y:v.y,width:c.width,height:c.height,caretX:u.x,caretY:u.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,r){const s=this.getCaretPosition(e,i,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:u}=i,{topLeft:c,topRight:f,bottomLeft:p,bottomRight:v}=vf(u),{x:w,y:b}=e,{width:A,height:T}=t;let C,I,j,W,Z,X;return s==="center"?(Z=b+T/2,r==="left"?(C=w,I=C-o,W=Z+o,X=Z-o):(C=w+A,I=C+o,W=Z-o,X=Z+o),j=C):(r==="left"?I=w+Math.max(c,p)+o:r==="right"?I=w+A-Math.max(f,v)-o:I=this.caretX,s==="top"?(W=b,Z=W-o,C=I-o,j=I+o):(W=b+T,Z=W+o,C=I+o,j=I-o),X=W),{x1:C,x2:I,x3:j,y1:W,y2:Z,y3:X}}drawTitle(e,t,i){const r=this.title,s=r.length;let o,u,c;if(s){const f=yf(i.rtl,this.x,this.width);for(e.x=um(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",o=as(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,c=0;c<s;++c)t.fillText(r[c],f.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+u,c+1===s&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,r,s){const o=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:c,boxWidth:f}=s,p=as(s.bodyFont),v=um(this,"left",s),w=r.x(v),b=c<p.lineHeight?(p.lineHeight-c)/2:0,A=t.y+b;if(s.usePointStyle){const T={radius:Math.min(f,c)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},C=r.leftForLtr(w,f)+f/2,I=A+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,zE(e,T,C,I),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,zE(e,T,C,I)}else{e.lineWidth=Pn(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const T=r.leftForLtr(w,f),C=r.leftForLtr(r.xPlus(w,1),f-2),I=vf(o.borderRadius);Object.values(I).some(j=>j!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,bv(e,{x:T,y:A,w:f,h:c,radius:I}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),bv(e,{x:C,y:A+1,w:f-2,h:c-2,radius:I}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(T,A,f,c),e.strokeRect(T,A,f,c),e.fillStyle=o.backgroundColor,e.fillRect(C,A+1,f-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:u,boxHeight:c,boxWidth:f,boxPadding:p}=i,v=as(i.bodyFont);let w=v.lineHeight,b=0;const A=yf(i.rtl,this.x,this.width),T=function(N){t.fillText(N,A.x(e.x+b),e.y+w/2),e.y+=w+s},C=A.textAlign(o);let I,j,W,Z,X,se,B;for(t.textAlign=o,t.textBaseline="middle",t.font=v.string,e.x=um(this,C,i),t.fillStyle=i.bodyColor,Hn(this.beforeBody,T),b=u&&C!=="right"?o==="center"?f/2+p:f+2+p:0,Z=0,se=r.length;Z<se;++Z){for(I=r[Z],j=this.labelTextColors[Z],t.fillStyle=j,Hn(I.before,T),W=I.lines,u&&W.length&&(this._drawColorBox(t,e,Z,A,i),w=Math.max(v.lineHeight,c)),X=0,B=W.length;X<B;++X)T(W[X]),w=v.lineHeight;Hn(I.after,T)}b=0,w=v.lineHeight,Hn(this.afterBody,T),e.y-=s}drawFooter(e,t,i){const r=this.footer,s=r.length;let o,u;if(s){const c=yf(i.rtl,this.x,this.width);for(e.x=um(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=c.textAlign(i.footerAlign),t.textBaseline="middle",o=as(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,u=0;u<s;++u)t.fillText(r[u],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,r){const{xAlign:s,yAlign:o}=this,{x:u,y:c}=e,{width:f,height:p}=i,{topLeft:v,topRight:w,bottomLeft:b,bottomRight:A}=vf(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(u+v,c),o==="top"&&this.drawCaret(e,t,i,r),t.lineTo(u+f-w,c),t.quadraticCurveTo(u+f,c,u+f,c+w),o==="center"&&s==="right"&&this.drawCaret(e,t,i,r),t.lineTo(u+f,c+p-A),t.quadraticCurveTo(u+f,c+p,u+f-A,c+p),o==="bottom"&&this.drawCaret(e,t,i,r),t.lineTo(u+b,c+p),t.quadraticCurveTo(u,c+p,u,c+p-b),o==="center"&&s==="left"&&this.drawCaret(e,t,i,r),t.lineTo(u,c+v),t.quadraticCurveTo(u,c,u+v,c),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Zd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const u=this._size=EA(this,e),c=Object.assign({},o,this._size),f=AA(t,e,c),p=xA(e,c,f,t);(r._to!==p.x||s._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Oa(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,t),T4(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),C4(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,r=e.map(({datasetIndex:u,index:c})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[c],index:c}}),s=!gv(i,r),o=this._positionChanged(r,t);(s||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,i),u=this._positionChanged(o,e),c=t||!gv(o,s)||u;return c&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:r,options:s}=this,o=Zd[s.position].call(this,e,t);return o!==!1&&(i!==o.x||r!==o.y)}}An(j1,"positioners",Zd);var lV={id:"tooltip",_element:j1,positioners:Zd,afterInit(n,e,t){t&&(n.tooltip=new j1({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:H4},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const uV=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function cV(n,e,t,i){const r=n.indexOf(e);if(r===-1)return uV(n,e,t,i);const s=n.lastIndexOf(e);return r!==s?t:r}const hV=(n,e)=>n===null?null:go(Math.round(n),0,e);function CA(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class B1 extends Gf{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:r,label:s}of t)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ni(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:cV(i,e,Gn(t,e),this._addedLabels),hV(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return CA.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}An(B1,"id","category"),An(B1,"defaults",{ticks:{callback:CA}});function fV(n,e){const t=[],{bounds:r,step:s,min:o,max:u,precision:c,count:f,maxTicks:p,maxDigits:v,includeBounds:w}=n,b=s||1,A=p-1,{min:T,max:C}=e,I=!ni(o),j=!ni(u),W=!ni(f),Z=(C-T)/(v+1);let X=PE((C-T)/A/b)*b,se,B,N,O;if(X<1e-14&&!I&&!j)return[{value:T},{value:C}];O=Math.ceil(C/X)-Math.floor(T/X),O>A&&(X=PE(O*X/A/b)*b),ni(c)||(se=Math.pow(10,c),X=Math.ceil(X*se)/se),r==="ticks"?(B=Math.floor(T/X)*X,N=Math.ceil(C/X)*X):(B=T,N=C),I&&j&&s&&d9((u-o)/s,X/1e3)?(O=Math.round(Math.min((u-o)/X,p)),X=(u-o)/O,B=o,N=u):W?(B=I?o:B,N=j?u:N,O=f-1,X=(N-B)/O):(O=(N-B)/X,Tm(O,Math.round(O),X/1e3)?O=Math.round(O):O=Math.ceil(O));const G=Math.max(ME(X),ME(B));se=Math.pow(10,ni(c)?G:c),B=Math.round(B*se)/se,N=Math.round(N*se)/se;let k=0;for(I&&(w&&B!==o?(t.push({value:o}),B<o&&k++,Tm(Math.round((B+k*X)*se)/se,o,IA(o,Z,n))&&k++):B<o&&k++);k<O;++k){const M=Math.round((B+k*X)*se)/se;if(j&&M>u)break;t.push({value:M})}return j&&w&&N!==u?t.length&&Tm(t[t.length-1].value,u,IA(u,Z,n))?t[t.length-1].value=u:t.push({value:u}):(!j||N===u)&&t.push({value:N}),t}function IA(n,e,{horizontal:t,minRotation:i}){const r=oh(i),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}class dV extends Gf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ni(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=c=>r=t?r:c,u=c=>s=i?s:c;if(e){const c=fc(r),f=fc(s);c<0&&f<0?u(0):c>0&&f>0&&o(0)}if(r===s){let c=s===0?1:Math.abs(s*.05);u(s+c),e||o(r-c)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=fV(r,s);return e.bounds==="ticks"&&p9(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return v4(e,this.chart.options.locale,this.options.ticks.format)}}class V1 extends dV{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ma(e)?e:0,this.max=Ma(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=oh(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}An(V1,"id","linear"),An(V1,"defaults",{ticks:{callback:y4.formatters.numeric}});const Zv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ms=Object.keys(Zv);function RA(n,e){return n-e}function kA(n,e){if(ni(e))return null;const t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ma(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(yv(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function NA(n,e,t,i){const r=Ms.length;for(let s=Ms.indexOf(n);s<r-1;++s){const o=Zv[Ms[s]],u=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(u*o.size))<=i)return Ms[s]}return Ms[r-1]}function pV(n,e,t,i,r){for(let s=Ms.length-1;s>=Ms.indexOf(t);s--){const o=Ms[s];if(Zv[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return Ms[t?Ms.indexOf(t):0]}function gV(n){for(let e=Ms.indexOf(n)+1,t=Ms.length;e<t;++e)if(Zv[Ms[e]].common)return Ms[e]}function PA(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:r}=ab(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function mV(n,e,t,i){const r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let u,c;for(u=s;u<=o;u=+r.add(u,1,i))c=t[u],c>=0&&(e[c].major=!0);return e}function MA(n,e,t){const i=[],r={},s=e.length;let o,u;for(o=0;o<s;++o)u=e[o],r[u]=o,i.push({value:u,major:!1});return s===0||!t?i:mV(n,i,r,t)}class Sv extends Gf{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),r=this._adapter=new Pj._date(e.adapters.date);r.init(t),sp(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:kA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:u}=this.getUserBounds();function c(f){!o&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!o||!u)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Ma(r)&&!isNaN(r)?r:+t.startOf(Date.now(),i),s=Ma(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,u=w9(r,s,o);return this._unit=t.unit||(i.autoSkip?NA(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):pV(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:gV(this._unit),this.initOffsets(r),e.reverse&&u.reverse(),MA(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=go(t,0,o),i=go(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||NA(s.minUnit,t,i,this._getLabelCapacity(t)),u=Gn(r.ticks.stepSize,1),c=o==="week"?s.isoWeekday:!1,f=yv(c)||c===!0,p={};let v=t,w,b;if(f&&(v=+e.startOf(v,"isoWeek",c)),v=+e.startOf(v,f?"day":o),e.diff(i,t,o)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+o);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(w=v,b=0;w<i;w=+e.add(w,u,o),b++)PA(p,w,A);return(w===i||r.bounds==="ticks"||b===1)&&PA(p,w,A),Object.keys(p).sort(RA).map(T=>+T)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,o=t||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,i,r){const s=this.options,o=s.ticks.callback;if(o)return oi(o,[e,t,i],this);const u=s.time.displayFormats,c=this._unit,f=this._majorUnit,p=c&&u[c],v=f&&u[f],w=i[t],b=f&&v&&w&&w.major;return this._adapter.format(e,r||(b?v:p))}generateTickLabels(e){let t,i,r;for(t=0,i=e.length;t<i;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,r=oh(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),o=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*s+u*o,h:i*o+u*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,r=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,MA(this,[e],this._majorUnit),r),o=this._getLabelSize(s),u=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,i=r.length;t<i;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const r=this.getLabels();for(t=0,i=r.length;t<i;++t)e.push(kA(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return d4(e.sort(RA))}}An(Sv,"id","time"),An(Sv,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function cm(n,e,t){let i=0,r=n.length-1,s,o,u,c;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=P1(n,"pos",e)),{pos:s,time:u}=n[i],{pos:o,time:c}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=P1(n,"time",e)),{time:s,pos:u}=n[i],{time:o,pos:c}=n[r]);const f=o-s;return f?u+(c-u)*(e-s)/f:u}class OA extends Sv{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=cm(t,this.min),this._tableRange=cm(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,r=[],s=[];let o,u,c,f,p;for(o=0,u=e.length;o<u;++o)f=e[o],f>=t&&f<=i&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,u=r.length;o<u;++o)p=r[o+1],c=r[o-1],f=r[o],Math.round((p+c)/2)!==f&&s.push({time:f,pos:o/(u-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(cm(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return cm(this._table,i*this._tableRange+this._minPos,!0)}}An(OA,"id","timeseries"),An(OA,"defaults",Sv.defaults);const G4="label";function DA(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function vV(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function W4(n,e){n.labels=e}function $4(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G4;const i=[];n.datasets=e.map(r=>{const s=n.datasets.find(o=>o[t]===r[t]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function yV(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G4;const t={labels:[],datasets:[]};return W4(t,n.labels),$4(t,n.datasets,e),t}function bV(n,e){const{height:t=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:u,options:c,plugins:f=[],fallbackContent:p,updateMode:v,...w}=n,b=R.useRef(null),A=R.useRef(null),T=()=>{b.current&&(A.current=new Qv(b.current,{type:o,data:yV(u,s),options:c&&{...c},plugins:f}),DA(e,A.current))},C=()=>{DA(e,null),A.current&&(A.current.destroy(),A.current=null)};return R.useEffect(()=>{!r&&A.current&&c&&vV(A.current,c)},[r,c]),R.useEffect(()=>{!r&&A.current&&W4(A.current.config.data,u.labels)},[r,u.labels]),R.useEffect(()=>{!r&&A.current&&u.datasets&&$4(A.current.config.data,u.datasets,s)},[r,u.datasets]),R.useEffect(()=>{A.current&&(r?(C(),setTimeout(T)):A.current.update(v))},[r,c,u.labels,u.datasets,v]),R.useEffect(()=>{A.current&&(C(),setTimeout(T))},[o]),R.useEffect(()=>(T(),()=>C()),[]),rx.createElement("canvas",{ref:b,role:"img",height:t,width:i,...w},p)}const _V=R.forwardRef(bV);function wV(n,e){return Qv.register(e),R.forwardRef((t,i)=>rx.createElement(_V,{...t,ref:i,type:n}))}const SV=wV("bar",Cm);Qv.register(B1,V1,km,eV,lV,ZB);const Hy=["Cardiologist","Dermatologist","Pediatrician","Neurologist","Orthopedic","Oncologist","Psychiatrist","Ophthalmologist","Dentist","Gynecologist","Surgeon","General Practitioner"],EV=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#00A6B4","#B4FF00","#C9CBCF","#F67019","#8E5EA2","#3CBA9F"],AV=()=>{const[n,e]=R.useState(0),[t,i]=R.useState(0),[r,s]=R.useState({});R.useEffect(()=>{(async()=>{const w=await Qm(yp(lh,"doctors"));e(w.size);const b=qP(yp(lh,"doctors"),HP("suspended","==",!0)),A=await Qm(b);i(A.size);const T={};Hy.forEach(C=>T[C]=0),w.forEach(C=>{const j=C.data().specialty;j&&Object.prototype.hasOwnProperty.call(T,j)&&T[j]++}),s(T)})()},[]);const o=["Total Doctors","Suspended Doctors",...Hy],u=[n,t,...Hy.map(v=>r[v]||0)],c=["yellow","orange",...EV],f={labels:o,datasets:[{label:"Count",data:u,backgroundColor:c,borderColor:"black",borderWidth:1}]},p={responsive:!0,plugins:{legend:{labels:{color:"yellow"}},title:{display:!0,text:"Doctor Statistics by Specialty",color:"yellow"}},scales:{x:{ticks:{color:"yellow"}},y:{ticks:{color:"yellow"}}}};return Ke.jsx("div",{className:"analytics-container",children:Ke.jsx(SV,{data:f,options:p})})},xV="modulepreload",LV=function(n){return"/hey-doc-admin-portal/"+n},jA={},F1=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let o=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=o(t.map(f=>{if(f=LV(f),f in jA)return;jA[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":xV,p||(w.as="script"),w.crossOrigin="",w.href=f,c&&w.setAttribute("nonce",c),document.head.appendChild(w),p)return new Promise((b,A)=>{w.addEventListener("load",b),w.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return r.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function Wn(n){"@babel/helpers - typeof";return Wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(n)}var ss=Uint8Array,sa=Uint16Array,mb=Int32Array,Jv=new ss([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),e0=new ss([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),U1=new ss([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),K4=function(n,e){for(var t=new sa(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new mb(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return{b:t,r}},Y4=K4(Jv,2),X4=Y4.b,z1=Y4.r;X4[28]=258,z1[258]=28;var Q4=K4(e0,0),TV=Q4.b,BA=Q4.r,q1=new sa(32768);for(var ui=0;ui<32768;++ui){var Gu=(ui&43690)>>1|(ui&21845)<<1;Gu=(Gu&52428)>>2|(Gu&13107)<<2,Gu=(Gu&61680)>>4|(Gu&3855)<<4,q1[ui]=((Gu&65280)>>8|(Gu&255)<<8)>>1}var ul=function(n,e,t){for(var i=n.length,r=0,s=new sa(e);r<i;++r)n[r]&&++s[n[r]-1];var o=new sa(e);for(r=1;r<e;++r)o[r]=o[r-1]+s[r-1]<<1;var u;if(t){u=new sa(1<<e);var c=15-e;for(r=0;r<i;++r)if(n[r])for(var f=r<<4|n[r],p=e-n[r],v=o[n[r]-1]++<<p,w=v|(1<<p)-1;v<=w;++v)u[q1[v]>>c]=f}else for(u=new sa(i),r=0;r<i;++r)n[r]&&(u[r]=q1[o[n[r]-1]++]>>15-n[r]);return u},Sc=new ss(288);for(var ui=0;ui<144;++ui)Sc[ui]=8;for(var ui=144;ui<256;++ui)Sc[ui]=9;for(var ui=256;ui<280;++ui)Sc[ui]=7;for(var ui=280;ui<288;++ui)Sc[ui]=8;var Tp=new ss(32);for(var ui=0;ui<32;++ui)Tp[ui]=5;var CV=ul(Sc,9,0),IV=ul(Sc,9,1),RV=ul(Tp,5,0),kV=ul(Tp,5,1),Gy=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},lo=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},Wy=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},vb=function(n){return(n+7)/8|0},Z4=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new ss(n.subarray(e,t))},NV=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],co=function(n,e,t){var i=new Error(e||NV[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,co),!t)throw i;return i},PV=function(n,e,t,i){var r=n.length,s=0;if(!r||e.f&&!e.l)return t||new ss(0);var o=!t,u=o||e.i!=2,c=e.i;o&&(t=new ss(r*3));var f=function(Ve){var tt=t.length;if(Ve>tt){var nt=new ss(Math.max(tt*2,Ve));nt.set(t),t=nt}},p=e.f||0,v=e.p||0,w=e.b||0,b=e.l,A=e.d,T=e.m,C=e.n,I=r*8;do{if(!b){p=lo(n,v,1);var j=lo(n,v+1,3);if(v+=3,j)if(j==1)b=IV,A=kV,T=9,C=5;else if(j==2){var se=lo(n,v,31)+257,B=lo(n,v+10,15)+4,N=se+lo(n,v+5,31)+1;v+=14;for(var O=new ss(N),G=new ss(19),k=0;k<B;++k)G[U1[k]]=lo(n,v+k*3,7);v+=B*3;for(var M=Gy(G),V=(1<<M)-1,oe=ul(G,M,1),k=0;k<N;){var pe=oe[lo(n,v,V)];v+=pe&15;var W=pe>>4;if(W<16)O[k++]=W;else{var re=0,he=0;for(W==16?(he=3+lo(n,v,3),v+=2,re=O[k-1]):W==17?(he=3+lo(n,v,7),v+=3):W==18&&(he=11+lo(n,v,127),v+=7);he--;)O[k++]=re}}var ce=O.subarray(0,se),Se=O.subarray(se);T=Gy(ce),C=Gy(Se),b=ul(ce,T,1),A=ul(Se,C,1)}else co(1);else{var W=vb(v)+4,Z=n[W-4]|n[W-3]<<8,X=W+Z;if(X>r){c&&co(0);break}u&&f(w+Z),t.set(n.subarray(W,X),w),e.b=w+=Z,e.p=v=X*8,e.f=p;continue}if(v>I){c&&co(0);break}}u&&f(w+131072);for(var K=(1<<T)-1,ve=(1<<C)-1,F=v;;F=v){var re=b[Wy(n,v)&K],H=re>>4;if(v+=re&15,v>I){c&&co(0);break}if(re||co(2),H<256)t[w++]=H;else if(H==256){F=v,b=null;break}else{var ie=H-254;if(H>264){var k=H-257,Q=Jv[k];ie=lo(n,v,(1<<Q)-1)+X4[k],v+=Q}var ue=A[Wy(n,v)&ve],we=ue>>4;ue||co(3),v+=ue&15;var Se=TV[we];if(we>3){var Q=e0[we];Se+=Wy(n,v)&(1<<Q)-1,v+=Q}if(v>I){c&&co(0);break}u&&f(w+131072);var me=w+ie;if(w<Se){var Ce=s-Se,je=Math.min(Se,me);for(Ce+w<0&&co(3);w<je;++w)t[w]=i[Ce+w]}for(;w<me;++w)t[w]=t[w-Se]}}e.l=b,e.p=F,e.b=w,e.f=p,b&&(p=1,e.m=T,e.d=A,e.n=C)}while(!p);return w!=t.length&&o?Z4(t,0,w):t.subarray(0,w)},Yl=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},zd=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},$y=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,s=t.slice();if(!r)return{t:e3,l:0};if(r==1){var o=new ss(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(X,se){return X.f-se.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],f=0,p=1,v=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};p!=r-1;)u=t[t[f].f<t[v].f?f++:v++],c=t[f!=p&&t[f].f<t[v].f?f++:v++],t[p++]={s:-1,f:u.f+c.f,l:u,r:c};for(var w=s[0].s,i=1;i<r;++i)s[i].s>w&&(w=s[i].s);var b=new sa(w+1),A=H1(t[p-1],b,0);if(A>e){var i=0,T=0,C=A-e,I=1<<C;for(s.sort(function(se,B){return b[B.s]-b[se.s]||se.f-B.f});i<r;++i){var j=s[i].s;if(b[j]>e)T+=I-(1<<A-b[j]),b[j]=e;else break}for(T>>=C;T>0;){var W=s[i].s;b[W]<e?T-=1<<e-b[W]++-1:++i}for(;i>=0&&T;--i){var Z=s[i].s;b[Z]==e&&(--b[Z],++T)}A=e}return{t:new ss(b),l:A}},H1=function(n,e,t){return n.s==-1?Math.max(H1(n.l,e,t+1),H1(n.r,e,t+1)):e[n.s]=t},VA=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new sa(++e),i=0,r=n[0],s=1,o=function(c){t[i++]=c},u=1;u<=e;++u)if(n[u]==r&&u!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[u]}return{c:t.subarray(0,i),n:e}},qd=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},J4=function(n,e,t){var i=t.length,r=vb(e+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=t[s];return(r+4+i)*8},FA=function(n,e,t,i,r,s,o,u,c,f,p){Yl(e,p++,t),++r[256];for(var v=$y(r,15),w=v.t,b=v.l,A=$y(s,15),T=A.t,C=A.l,I=VA(w),j=I.c,W=I.n,Z=VA(T),X=Z.c,se=Z.n,B=new sa(19),N=0;N<j.length;++N)++B[j[N]&31];for(var N=0;N<X.length;++N)++B[X[N]&31];for(var O=$y(B,7),G=O.t,k=O.l,M=19;M>4&&!G[U1[M-1]];--M);var V=f+5<<3,oe=qd(r,Sc)+qd(s,Tp)+o,pe=qd(r,w)+qd(s,T)+o+14+3*M+qd(B,G)+2*B[16]+3*B[17]+7*B[18];if(c>=0&&V<=oe&&V<=pe)return J4(e,p,n.subarray(c,c+f));var re,he,ce,Se;if(Yl(e,p,1+(pe<oe)),p+=2,pe<oe){re=ul(w,b,0),he=w,ce=ul(T,C,0),Se=T;var K=ul(G,k,0);Yl(e,p,W-257),Yl(e,p+5,se-1),Yl(e,p+10,M-4),p+=14;for(var N=0;N<M;++N)Yl(e,p+3*N,G[U1[N]]);p+=3*M;for(var ve=[j,X],F=0;F<2;++F)for(var H=ve[F],N=0;N<H.length;++N){var ie=H[N]&31;Yl(e,p,K[ie]),p+=G[ie],ie>15&&(Yl(e,p,H[N]>>5&127),p+=H[N]>>12)}}else re=CV,he=Sc,ce=RV,Se=Tp;for(var N=0;N<u;++N){var Q=i[N];if(Q>255){var ie=Q>>18&31;zd(e,p,re[ie+257]),p+=he[ie+257],ie>7&&(Yl(e,p,Q>>23&31),p+=Jv[ie]);var ue=Q&31;zd(e,p,ce[ue]),p+=Se[ue],ue>3&&(zd(e,p,Q>>5&8191),p+=e0[ue])}else zd(e,p,re[Q]),p+=he[Q]}return zd(e,p,re[256]),p+he[256]},MV=new mb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),e3=new ss(0),OV=function(n,e,t,i,r,s){var o=s.z||n.length,u=new ss(i+o+5*(1+Math.ceil(o/7e3))+r),c=u.subarray(i,u.length-r),f=s.l,p=(s.r||0)&7;if(e){p&&(c[0]=s.r>>3);for(var v=MV[e-1],w=v>>13,b=v&8191,A=(1<<t)-1,T=s.p||new sa(32768),C=s.h||new sa(A+1),I=Math.ceil(t/3),j=2*I,W=function(St){return(n[St]^n[St+1]<<I^n[St+2]<<j)&A},Z=new mb(25e3),X=new sa(288),se=new sa(32),B=0,N=0,O=s.i||0,G=0,k=s.w||0,M=0;O+2<o;++O){var V=W(O),oe=O&32767,pe=C[V];if(T[oe]=pe,C[V]=oe,k<=O){var re=o-O;if((B>7e3||G>24576)&&(re>423||!f)){p=FA(n,c,0,Z,X,se,N,G,M,O-M,p),G=B=N=0,M=O;for(var he=0;he<286;++he)X[he]=0;for(var he=0;he<30;++he)se[he]=0}var ce=2,Se=0,K=b,ve=oe-pe&32767;if(re>2&&V==W(O-ve))for(var F=Math.min(w,re)-1,H=Math.min(32767,O),ie=Math.min(258,re);ve<=H&&--K&&oe!=pe;){if(n[O+ce]==n[O+ce-ve]){for(var Q=0;Q<ie&&n[O+Q]==n[O+Q-ve];++Q);if(Q>ce){if(ce=Q,Se=ve,Q>F)break;for(var ue=Math.min(ve,Q-2),we=0,he=0;he<ue;++he){var me=O-ve+he&32767,Ce=T[me],je=me-Ce&32767;je>we&&(we=je,pe=me)}}}oe=pe,pe=T[oe],ve+=oe-pe&32767}if(Se){Z[G++]=268435456|z1[ce]<<18|BA[Se];var Ve=z1[ce]&31,tt=BA[Se]&31;N+=Jv[Ve]+e0[tt],++X[257+Ve],++se[tt],k=O+ce,++B}else Z[G++]=n[O],++X[n[O]]}}for(O=Math.max(O,k);O<o;++O)Z[G++]=n[O],++X[n[O]];p=FA(n,c,f,Z,X,se,N,G,M,O-M,p),f||(s.r=p&7|c[p/8|0]<<3,p-=7,s.h=C,s.p=T,s.i=O,s.w=k)}else{for(var O=s.w||0;O<o+f;O+=65535){var nt=O+65535;nt>=o&&(c[p/8|0]=f,nt=o),p=J4(c,p+1,n.subarray(O,nt))}s.i=o}return Z4(u,0,i+vb(p)+r)},t3=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,s=t.length|0,o=0;o!=s;){for(var u=Math.min(o+2655,s);o<u;++o)r+=i+=t[o];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,e=r},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},DV=function(n,e,t,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new ss(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return OV(n,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,r)},n3=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},jV=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=t3();r.p(e.dictionary),n3(n,2,r.d())}},BV=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&co(6,"invalid zlib data"),(n[1]>>5&1)==1&&co(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function G1(n,e){e||(e={});var t=t3();t.p(n);var i=DV(n,e,e.dictionary?6:2,4);return jV(i,e),n3(i,i.length-4,t.d()),i}function VV(n,e){return PV(n.subarray(BV(n),-4),{i:2},e,e)}var FV=typeof TextDecoder<"u"&&new TextDecoder,UV=0;try{FV.decode(e3,{stream:!0}),UV=1}catch{}var jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ky(){jt.console&&typeof jt.console.log=="function"&&jt.console.log.apply(jt.console,arguments)}var ti={log:Ky,warn:function(n){jt.console&&(typeof jt.console.warn=="function"?jt.console.warn.apply(jt.console,arguments):Ky.call(null,arguments))},error:function(n){jt.console&&(typeof jt.console.error=="function"?jt.console.error.apply(jt.console,arguments):Ky(n))}};function Yy(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){ih(i.response,e,t)},i.onerror=function(){ti.error("could not download file")},i.send()}function UA(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function hm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var up,W1,ih=jt.saveAs||((typeof window>"u"?"undefined":Wn(window))!=="object"||window!==jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=jt.URL||jt.webkitURL,r=document.createElement("a");e=e||n.name||"download",r.download=e,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?UA(r.href)?Yy(n,e,t):hm(r,r.target="_blank"):hm(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){hm(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(UA(n))Yy(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){hm(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:Wn(s)!=="object"&&(ti.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return Yy(n,e,t);var r=n.type==="application/octet-stream",s=/constructor/i.test(jt.HTMLElement)||jt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&(typeof FileReader>"u"?"undefined":Wn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=o?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},u.readAsDataURL(n)}else{var c=jt.URL||jt.webkitURL,f=c.createObjectURL(n);i?i.location=f:location.href=f,i=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function i3(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<t.length;i++){var r=t[i].re,s=t[i].process,o=r.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+u+c+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Xy(n,e){var t=n[0],i=n[1],r=n[2],s=n[3];t=Zr(t,i,r,s,e[0],7,-680876936),s=Zr(s,t,i,r,e[1],12,-389564586),r=Zr(r,s,t,i,e[2],17,606105819),i=Zr(i,r,s,t,e[3],22,-1044525330),t=Zr(t,i,r,s,e[4],7,-176418897),s=Zr(s,t,i,r,e[5],12,1200080426),r=Zr(r,s,t,i,e[6],17,-1473231341),i=Zr(i,r,s,t,e[7],22,-45705983),t=Zr(t,i,r,s,e[8],7,1770035416),s=Zr(s,t,i,r,e[9],12,-1958414417),r=Zr(r,s,t,i,e[10],17,-42063),i=Zr(i,r,s,t,e[11],22,-1990404162),t=Zr(t,i,r,s,e[12],7,1804603682),s=Zr(s,t,i,r,e[13],12,-40341101),r=Zr(r,s,t,i,e[14],17,-1502002290),t=Jr(t,i=Zr(i,r,s,t,e[15],22,1236535329),r,s,e[1],5,-165796510),s=Jr(s,t,i,r,e[6],9,-1069501632),r=Jr(r,s,t,i,e[11],14,643717713),i=Jr(i,r,s,t,e[0],20,-373897302),t=Jr(t,i,r,s,e[5],5,-701558691),s=Jr(s,t,i,r,e[10],9,38016083),r=Jr(r,s,t,i,e[15],14,-660478335),i=Jr(i,r,s,t,e[4],20,-405537848),t=Jr(t,i,r,s,e[9],5,568446438),s=Jr(s,t,i,r,e[14],9,-1019803690),r=Jr(r,s,t,i,e[3],14,-187363961),i=Jr(i,r,s,t,e[8],20,1163531501),t=Jr(t,i,r,s,e[13],5,-1444681467),s=Jr(s,t,i,r,e[2],9,-51403784),r=Jr(r,s,t,i,e[7],14,1735328473),t=es(t,i=Jr(i,r,s,t,e[12],20,-1926607734),r,s,e[5],4,-378558),s=es(s,t,i,r,e[8],11,-2022574463),r=es(r,s,t,i,e[11],16,1839030562),i=es(i,r,s,t,e[14],23,-35309556),t=es(t,i,r,s,e[1],4,-1530992060),s=es(s,t,i,r,e[4],11,1272893353),r=es(r,s,t,i,e[7],16,-155497632),i=es(i,r,s,t,e[10],23,-1094730640),t=es(t,i,r,s,e[13],4,681279174),s=es(s,t,i,r,e[0],11,-358537222),r=es(r,s,t,i,e[3],16,-722521979),i=es(i,r,s,t,e[6],23,76029189),t=es(t,i,r,s,e[9],4,-640364487),s=es(s,t,i,r,e[12],11,-421815835),r=es(r,s,t,i,e[15],16,530742520),t=ts(t,i=es(i,r,s,t,e[2],23,-995338651),r,s,e[0],6,-198630844),s=ts(s,t,i,r,e[7],10,1126891415),r=ts(r,s,t,i,e[14],15,-1416354905),i=ts(i,r,s,t,e[5],21,-57434055),t=ts(t,i,r,s,e[12],6,1700485571),s=ts(s,t,i,r,e[3],10,-1894986606),r=ts(r,s,t,i,e[10],15,-1051523),i=ts(i,r,s,t,e[1],21,-2054922799),t=ts(t,i,r,s,e[8],6,1873313359),s=ts(s,t,i,r,e[15],10,-30611744),r=ts(r,s,t,i,e[6],15,-1560198380),i=ts(i,r,s,t,e[13],21,1309151649),t=ts(t,i,r,s,e[4],6,-145523070),s=ts(s,t,i,r,e[11],10,-1120210379),r=ts(r,s,t,i,e[2],15,718787259),i=ts(i,r,s,t,e[9],21,-343485551),n[0]=ic(t,n[0]),n[1]=ic(i,n[1]),n[2]=ic(r,n[2]),n[3]=ic(s,n[3])}function t0(n,e,t,i,r,s){return e=ic(ic(e,n),ic(i,s)),ic(e<<r|e>>>32-r,t)}function Zr(n,e,t,i,r,s,o){return t0(e&t|~e&i,n,e,r,s,o)}function Jr(n,e,t,i,r,s,o){return t0(e&i|t&~i,n,e,r,s,o)}function es(n,e,t,i,r,s,o){return t0(e^t^i,n,e,r,s,o)}function ts(n,e,t,i,r,s,o){return t0(t^(e|~i),n,e,r,s,o)}function r3(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Xy(i,zV(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(Xy(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,Xy(i,r),i}function zV(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}up=jt.atob.bind(jt),W1=jt.btoa.bind(jt);var zA="0123456789abcdef".split("");function qV(n){for(var e="",t=0;t<4;t++)e+=zA[n>>8*t+4&15]+zA[n>>8*t&15];return e}function HV(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function $1(n){return r3(n).map(HV).join("")}var GV=function(n){for(var e=0;e<n.length;e++)n[e]=qV(n[e]);return n.join("")}(r3("hello"))!="5d41402abc4b2a76b9719d911017c592";function ic(n,e){if(GV){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function K1(n,e){var t,i,r,s;if(n!==t){for(var o=(r=n,s=1+(256/n.length>>0),new Array(s+1).join(r)),u=[],c=0;c<256;c++)u[c]=c;var f=0;for(c=0;c<256;c++){var p=u[c];f=(f+p+o.charCodeAt(c))%256,u[c]=u[f],u[f]=p}t=n,i=u}else u=i;var v=e.length,w=0,b=0,A="";for(c=0;c<v;c++)b=(b+(p=u[w=(w+1)%256]))%256,u[w]=u[b],u[b]=p,o=u[(u[w]+u[b])%256],A+=String.fromCharCode(e.charCodeAt(c)^o);return A}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var qA={print:4,modify:8,copy:16,"annot-forms":32};function of(n,e,t,i){this.v=1,this.r=2;var r=192;n.forEach(function(u){if(qA.perm!==void 0)throw new Error("Invalid permission: "+u);r+=qA[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=$1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=K1(this.encryptionKey,this.padding)}function lf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?e+="#"+("0"+r.toString(16)).slice(-2):e+=n[i]}return e}function HA(n){if(Wn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,typeof t!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[i,!!r],s},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,i)}catch(u){jt.console&&ti.error("jsPDF PubSub Error",u.message,u)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ev(n){if(!(this instanceof Ev))return new Ev(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function s3(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function rh(n,e,t,i,r){if(!(this instanceof rh))return new rh(n,e,t,i,r);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,s3.call(this,i,r)}function hf(n,e,t,i,r){if(!(this instanceof hf))return new hf(n,e,t,i,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,s3.call(this,i,r)}function Mt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],u=1,c=16,f="S",p=null;Wn(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),f=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),i=i||"mm",t=(""+(t||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,w={},b={internal:{},__private__:{}};b.__private__.PubSub=HA;var A="1.3",T=b.__private__.getPdfVersion=function(){return A};b.__private__.setPdfVersion=function(E){A=E};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return C};var I=b.__private__.getPageFormat=function(E){return C[E]};r=r||"a4";var j={COMPAT:"compat",ADVANCED:"advanced"},W=j.COMPAT;function Z(){this.saveGraphicsState(),fe(new ct(ut,0,0,-ut,0,br()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),f="n",W=j.ADVANCED}function X(){this.restoreGraphicsState(),f="S",W=j.COMPAT}var se=b.__private__.combineFontStyleAndFontWeight=function(E,q){if(E=="bold"&&q=="normal"||E=="bold"&&q==400||E=="normal"&&q=="italic"||E=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(E=q==400||q==="normal"?E==="italic"?"italic":"normal":q!=700&&q!=="bold"||E!=="normal"?(q==700?"bold":q)+""+E:"bold"),E};b.advancedAPI=function(E){var q=W===j.COMPAT;return q&&Z.call(this),typeof E!="function"||(E(this),q&&X.call(this)),this},b.compatAPI=function(E){var q=W===j.ADVANCED;return q&&X.call(this),typeof E!="function"||(E(this),q&&Z.call(this)),this},b.isAdvancedAPI=function(){return W===j.ADVANCED};var B,N=function(E){if(W!==j.ADVANCED)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=b.roundToPrecision=b.__private__.roundToPrecision=function(E,q){var le=e||q;if(isNaN(E)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(le).replace(/0+$/,"")};B=b.hpf=b.__private__.hpf=typeof c=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return O(E,c)}:c==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return O(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return O(E,16)};var G=b.f2=b.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return O(E,2)},k=b.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return O(E,3)},M=b.scale=b.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return W===j.COMPAT?E*ut:W===j.ADVANCED?E:void 0},V=function(E){return W===j.COMPAT?br()-E:W===j.ADVANCED?E:void 0},oe=function(E){return M(V(E))};b.__private__.setPrecision=b.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var pe,re="00000000000000000000000000000000",he=b.__private__.getFileId=function(){return re},ce=b.__private__.setFileId=function(E){return re=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Fn=new of(p.userPermissions,p.userPassword,p.ownerPassword,re)),re};b.setFileId=function(E){return ce(E),this},b.getFileId=function(){return he()};var Se=b.__private__.convertDateToPDFDate=function(E){var q=E.getTimezoneOffset(),le=q<0?"+":"-",ge=Math.floor(Math.abs(q/60)),xe=Math.abs(q%60),Fe=[le,ie(ge),"'",ie(xe),"'"].join("");return["D:",E.getFullYear(),ie(E.getMonth()+1),ie(E.getDate()),ie(E.getHours()),ie(E.getMinutes()),ie(E.getSeconds()),Fe].join("")},K=b.__private__.convertPDFDateToDate=function(E){var q=parseInt(E.substr(2,4),10),le=parseInt(E.substr(6,2),10)-1,ge=parseInt(E.substr(8,2),10),xe=parseInt(E.substr(10,2),10),Fe=parseInt(E.substr(12,2),10),Ze=parseInt(E.substr(14,2),10);return new Date(q,le,ge,xe,Fe,Ze,0)},ve=b.__private__.setCreationDate=function(E){var q;if(E===void 0&&(E=new Date),E instanceof Date)q=Se(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=E}return pe=q},F=b.__private__.getCreationDate=function(E){var q=pe;return E==="jsDate"&&(q=K(pe)),q};b.setCreationDate=function(E){return ve(E),this},b.getCreationDate=function(E){return F(E)};var H,ie=b.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},Q=b.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},ue=0,we=[],me=[],Ce=0,je=[],Ve=[],tt=!1,nt=me,St=function(){ue=0,Ce=0,me=[],we=[],je=[],Tr=hi(),Xi=hi()};b.__private__.setCustomOutputDestination=function(E){tt=!0,nt=E};var Ne=function(E){tt||(nt=E)};b.__private__.resetCustomOutputDestination=function(){tt=!1,nt=me};var fe=b.__private__.out=function(E){return E=E.toString(),Ce+=E.length+1,nt.push(E),nt},Et=b.__private__.write=function(E){return fe(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},mt=b.__private__.getArrayBuffer=function(E){for(var q=E.length,le=new ArrayBuffer(q),ge=new Uint8Array(le);q--;)ge[q]=E.charCodeAt(q);return le},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return et};var it=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(E){return it=W===j.ADVANCED?E/ut:E,this};var rt,at=b.__private__.getFontSize=b.getFontSize=function(){return W===j.COMPAT?it:it*ut},vt=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(E){return vt=E,this},b.__private__.getR2L=b.getR2L=function(){return vt};var It,Ot=b.__private__.setZoomMode=function(E){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))rt=E;else if(isNaN(E)){if(q.indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');rt=E}else rt=parseInt(E,10)};b.__private__.getZoomMode=function(){return rt};var yt,pt=b.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');It=E};b.__private__.getPageMode=function(){return It};var qt=b.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');yt=E};b.__private__.getLayoutMode=function(){return yt},b.__private__.setDisplayMode=b.setDisplayMode=function(E,q,le){return Ot(E),qt(q),pt(le),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(E){if(Object.keys(dt).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[E]},b.__private__.getDocumentProperties=function(){return dt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(E){for(var q in dt)dt.hasOwnProperty(q)&&E[q]&&(dt[q]=E[q]);return this},b.__private__.setDocumentProperty=function(E,q){if(Object.keys(dt).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[E]=q};var Ht,ut,Zn,Gt,Ai,$t={},vn={},mi=[],tn={},pr={},Mn={},ci={},xi=null,Sn=0,At=[],Xt=new HA(b),rr=n.hotfixes||[],Vn={},Li={},Lr=[],ct=function E(q,le,ge,xe,Fe,Ze){if(!(this instanceof E))return new E(q,le,ge,xe,Fe,Ze);isNaN(q)&&(q=1),isNaN(le)&&(le=0),isNaN(ge)&&(ge=0),isNaN(xe)&&(xe=1),isNaN(Fe)&&(Fe=0),isNaN(Ze)&&(Ze=0),this._matrix=[q,le,ge,xe,Fe,Ze]};Object.defineProperty(ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ct.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(B).join(E)},ct.prototype.multiply=function(E){var q=E.sx*this.sx+E.shy*this.shx,le=E.sx*this.shy+E.shy*this.sy,ge=E.shx*this.sx+E.sy*this.shx,xe=E.shx*this.shy+E.sy*this.sy,Fe=E.tx*this.sx+E.ty*this.shx+this.tx,Ze=E.tx*this.shy+E.ty*this.sy+this.ty;return new ct(q,le,ge,xe,Fe,Ze)},ct.prototype.decompose=function(){var E=this.sx,q=this.shy,le=this.shx,ge=this.sy,xe=this.tx,Fe=this.ty,Ze=Math.sqrt(E*E+q*q),ot=(E/=Ze)*le+(q/=Ze)*ge;le-=E*ot,ge-=q*ot;var m=Math.sqrt(le*le+ge*ge);return ot/=m,E*(ge/=m)<q*(le/=m)&&(E=-E,q=-q,ot=-ot,Ze=-Ze),{scale:new ct(Ze,0,0,m,0,0),translate:new ct(1,0,0,1,xe,Fe),rotate:new ct(E,q,-q,E,0,0),skew:new ct(1,0,ot,1,0,0)}},ct.prototype.toString=function(E){return this.join(" ")},ct.prototype.inversed=function(){var E=this.sx,q=this.shy,le=this.shx,ge=this.sy,xe=this.tx,Fe=this.ty,Ze=1/(E*ge-q*le),ot=ge*Ze,m=-q*Ze,L=-le*Ze,D=E*Ze;return new ct(ot,m,L,D,-ot*xe-L*Fe,-m*xe-D*Fe)},ct.prototype.applyToPoint=function(E){var q=E.x*this.sx+E.y*this.shx+this.tx,le=E.x*this.shy+E.y*this.sy+this.ty;return new qa(q,le)},ct.prototype.applyToRectangle=function(E){var q=this.applyToPoint(E),le=this.applyToPoint(new qa(E.x+E.w,E.y+E.h));return new To(q.x,q.y,le.x-q.x,le.y-q.y)},ct.prototype.clone=function(){var E=this.sx,q=this.shy,le=this.shx,ge=this.sy,xe=this.tx,Fe=this.ty;return new ct(E,q,le,ge,xe,Fe)},b.Matrix=ct;var ht=b.matrixMult=function(E,q){return q.multiply(E)},On=new ct(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=On;var Jn=function(E,q){if(!pr[E]){var le=(q instanceof rh?"Sh":"P")+(Object.keys(tn).length+1).toString(10);q.id=le,pr[E]=le,tn[le]=q,Xt.publish("addPattern",q)}};b.ShadingPattern=rh,b.TilingPattern=hf,b.addShadingPattern=function(E,q){return N("addShadingPattern()"),Jn(E,q),this},b.beginTilingPattern=function(E){N("beginTilingPattern()"),ma(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},b.endTilingPattern=function(E,q){N("endTilingPattern()"),q.stream=Ve[H].join(`
`),Jn(E,q),Xt.publish("endTilingPattern",q),Lr.pop().restore()};var si=b.__private__.newObject=function(){var E=hi();return Ti(E,!0),E},hi=b.__private__.newObjectDeferred=function(){return ue++,we[ue]=function(){return Ce},ue},Ti=function(E,q){return q=typeof q=="boolean"&&q,we[E]=Ce,q&&fe(E+" 0 obj"),E},Da=b.__private__.newAdditionalObject=function(){var E={objId:hi(),content:""};return je.push(E),E},Tr=hi(),Xi=hi(),Di=b.__private__.decodeColorString=function(E){var q=E.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var le=parseFloat(q[0]);q=[le,le,le,"r"]}for(var ge="#",xe=0;xe<3;xe++)ge+=("0"+Math.floor(255*parseFloat(q[xe])).toString(16)).slice(-2);return ge},Ci=b.__private__.encodeColorString=function(E){var q;typeof E=="string"&&(E={ch1:E});var le=E.ch1,ge=E.ch2,xe=E.ch3,Fe=E.ch4,Ze=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var ot=new i3(le);if(ot.ok)le=ot.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var m=parseInt(le.substr(1),16);le=m>>16&255,ge=m>>8&255,xe=255&m}if(ge===void 0||Fe===void 0&&le===ge&&ge===xe)if(typeof le=="string")q=le+" "+Ze[0];else switch(E.precision){case 2:q=G(le/255)+" "+Ze[0];break;case 3:default:q=k(le/255)+" "+Ze[0]}else if(Fe===void 0||Wn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return q=["1.","1.","1.",Ze[1]].join(" ");if(typeof le=="string")q=[le,ge,xe,Ze[1]].join(" ");else switch(E.precision){case 2:q=[G(le/255),G(ge/255),G(xe/255),Ze[1]].join(" ");break;default:case 3:q=[k(le/255),k(ge/255),k(xe/255),Ze[1]].join(" ")}}else if(typeof le=="string")q=[le,ge,xe,Fe,Ze[2]].join(" ");else switch(E.precision){case 2:q=[G(le),G(ge),G(xe),G(Fe),Ze[2]].join(" ");break;case 3:default:q=[k(le),k(ge),k(xe),k(Fe),Ze[2]].join(" ")}return q},ji=b.__private__.getFilters=function(){return o},$n=b.__private__.putStream=function(E){var q=(E=E||{}).data||"",le=E.filters||ji(),ge=E.alreadyAppliedFilters||[],xe=E.addLength1||!1,Fe=q.length,Ze=E.objectId,ot=function(kt){return kt};if(p!==null&&Ze===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ot=Fn.encryptor(Ze,0));var m={};le===!0&&(le=["FlateEncode"]);var L=E.additionalKeyValues||[],D=(m=Mt.API.processDataByFilters!==void 0?Mt.API.processDataByFilters(q,le):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(m.data.length!==0&&(L.push({key:"Length",value:m.data.length}),xe===!0&&L.push({key:"Length1",value:Fe})),D.length!=0)if(D.split("/").length-1==1)L.push({key:"Filter",value:D});else{L.push({key:"Filter",value:"["+D+"]"});for(var ee=0;ee<L.length;ee+=1)if(L[ee].key==="DecodeParms"){for(var Ae=[],Pe=0;Pe<m.reverseChain.split("/").length-1;Pe+=1)Ae.push("null");Ae.push(L[ee].value),L[ee].value="["+Ae.join(" ")+"]"}}fe("<<");for(var Je=0;Je<L.length;Je++)fe("/"+L[Je].key+" "+L[Je].value);fe(">>"),m.data.length!==0&&(fe("stream"),fe(ot(m.data)),fe("endstream"))},xn=b.__private__.putPage=function(E){var q=E.number,le=E.data,ge=E.objId,xe=E.contentsObjId;Ti(ge,!0),fe("<</Type /Page"),fe("/Parent "+E.rootDictionaryObjId+" 0 R"),fe("/Resources "+E.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(B(E.mediaBox.bottomLeftX))+" "+parseFloat(B(E.mediaBox.bottomLeftY))+" "+B(E.mediaBox.topRightX)+" "+B(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&fe("/CropBox ["+B(E.cropBox.bottomLeftX)+" "+B(E.cropBox.bottomLeftY)+" "+B(E.cropBox.topRightX)+" "+B(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&fe("/BleedBox ["+B(E.bleedBox.bottomLeftX)+" "+B(E.bleedBox.bottomLeftY)+" "+B(E.bleedBox.topRightX)+" "+B(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&fe("/TrimBox ["+B(E.trimBox.bottomLeftX)+" "+B(E.trimBox.bottomLeftY)+" "+B(E.trimBox.topRightX)+" "+B(E.trimBox.topRightY)+"]"),E.artBox!==null&&fe("/ArtBox ["+B(E.artBox.bottomLeftX)+" "+B(E.artBox.bottomLeftY)+" "+B(E.artBox.topRightX)+" "+B(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&fe("/UserUnit "+E.userUnit),Xt.publish("putPage",{objId:ge,pageContext:At[q],pageNumber:q,page:le}),fe("/Contents "+xe+" 0 R"),fe(">>"),fe("endobj");var Fe=le.join(`
`);return W===j.ADVANCED&&(Fe+=`
Q`),Ti(xe,!0),$n({data:Fe,filters:ji(),objectId:xe}),fe("endobj"),ge},Ds=b.__private__.putPages=function(){var E,q,le=[];for(E=1;E<=Sn;E++)At[E].objId=hi(),At[E].contentsObjId=hi();for(E=1;E<=Sn;E++)le.push(xn({number:E,data:Ve[E],objId:At[E].objId,contentsObjId:At[E].contentsObjId,mediaBox:At[E].mediaBox,cropBox:At[E].cropBox,bleedBox:At[E].bleedBox,trimBox:At[E].trimBox,artBox:At[E].artBox,userUnit:At[E].userUnit,rootDictionaryObjId:Tr,resourceDictionaryObjId:Xi}));Ti(Tr,!0),fe("<</Type /Pages");var ge="/Kids [";for(q=0;q<Sn;q++)ge+=le[q]+" 0 R ";fe(ge+"]"),fe("/Count "+Sn),fe(">>"),fe("endobj"),Xt.publish("postPutPages")},js=function(E){Xt.publish("putFont",{font:E,out:fe,newObject:si,putStream:$n}),E.isAlreadyPutted!==!0&&(E.objectNumber=si(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+lf(E.postScriptName)),fe("/Subtype /Type1"),typeof E.encoding=="string"&&fe("/Encoding /"+E.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},gr=function(){for(var E in $t)$t.hasOwnProperty(E)&&(v===!1||v===!0&&w.hasOwnProperty(E))&&js($t[E])},Vr=function(E){E.objectNumber=si();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[B(E.x),B(E.y),B(E.x+E.width),B(E.y+E.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var le=E.pages[1].join(`
`);$n({data:le,additionalKeyValues:q,objectId:E.objectNumber}),fe("endobj")},ja=function(){for(var E in Vn)Vn.hasOwnProperty(E)&&Vr(Vn[E])},vl=function(E,q){var le,ge=[],xe=1/(q-1);for(le=0;le<1;le+=xe)ge.push(le);if(ge.push(1),E[0].offset!=0){var Fe={offset:0,color:E[0].color};E.unshift(Fe)}if(E[E.length-1].offset!=1){var Ze={offset:1,color:E[E.length-1].color};E.push(Ze)}for(var ot="",m=0,L=0;L<ge.length;L++){for(le=ge[L];le>E[m+1].offset;)m++;var D=E[m].offset,ee=(le-D)/(E[m+1].offset-D),Ae=E[m].color,Pe=E[m+1].color;ot+=Q(Math.round((1-ee)*Ae[0]+ee*Pe[0]).toString(16))+Q(Math.round((1-ee)*Ae[1]+ee*Pe[1]).toString(16))+Q(Math.round((1-ee)*Ae[2]+ee*Pe[2]).toString(16))}return ot.trim()},Ba=function(E,q){q||(q=21);var le=si(),ge=vl(E.colors,q),xe=[];xe.push({key:"FunctionType",value:"0"}),xe.push({key:"Domain",value:"[0.0 1.0]"}),xe.push({key:"Size",value:"["+q+"]"}),xe.push({key:"BitsPerSample",value:"8"}),xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$n({data:ge,additionalKeyValues:xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),fe("endobj"),E.objectNumber=si(),fe("<< /ShadingType "+E.type),fe("/ColorSpace /DeviceRGB");var Fe="/Coords ["+B(parseFloat(E.coords[0]))+" "+B(parseFloat(E.coords[1]))+" ";E.type===2?Fe+=B(parseFloat(E.coords[2]))+" "+B(parseFloat(E.coords[3])):Fe+=B(parseFloat(E.coords[2]))+" "+B(parseFloat(E.coords[3]))+" "+B(parseFloat(E.coords[4]))+" "+B(parseFloat(E.coords[5])),fe(Fe+="]"),E.matrix&&fe("/Matrix ["+E.matrix.toString()+"]"),fe("/Function "+le+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},lu=function(E,q){var le=hi(),ge=si();q.push({resourcesOid:le,objectOid:ge}),E.objectNumber=ge;var xe=[];xe.push({key:"Type",value:"/Pattern"}),xe.push({key:"PatternType",value:"1"}),xe.push({key:"PaintType",value:"1"}),xe.push({key:"TilingType",value:"1"}),xe.push({key:"BBox",value:"["+E.boundingBox.map(B).join(" ")+"]"}),xe.push({key:"XStep",value:B(E.xStep)}),xe.push({key:"YStep",value:B(E.yStep)}),xe.push({key:"Resources",value:le+" 0 R"}),E.matrix&&xe.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),$n({data:E.stream,additionalKeyValues:xe,objectId:E.objectNumber}),fe("endobj")},us=function(E){var q;for(q in tn)tn.hasOwnProperty(q)&&(tn[q]instanceof rh?Ba(tn[q]):tn[q]instanceof hf&&lu(tn[q],E))},cs=function(E){for(var q in E.objectNumber=si(),fe("<<"),E)switch(q){case"opacity":fe("/ca "+G(E[q]));break;case"stroke-opacity":fe("/CA "+G(E[q]))}fe(">>"),fe("endobj")},Bi=function(){var E;for(E in Mn)Mn.hasOwnProperty(E)&&cs(Mn[E])},Bs=function(){for(var E in fe("/XObject <<"),Vn)Vn.hasOwnProperty(E)&&Vn[E].objectNumber>=0&&fe("/"+E+" "+Vn[E].objectNumber+" 0 R");Xt.publish("putXobjectDict"),fe(">>")},uu=function(){Fn.oid=si(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Fn.v),fe("/R "+Fn.r),fe("/U <"+Fn.toHexString(Fn.U)+">"),fe("/O <"+Fn.toHexString(Fn.O)+">"),fe("/P "+Fn.P),fe(">>"),fe("endobj")},gs=function(){for(var E in fe("/Font <<"),$t)$t.hasOwnProperty(E)&&(v===!1||v===!0&&w.hasOwnProperty(E))&&fe("/"+E+" "+$t[E].objectNumber+" 0 R");fe(">>")},wo=function(){if(Object.keys(tn).length>0){for(var E in fe("/Shading <<"),tn)tn.hasOwnProperty(E)&&tn[E]instanceof rh&&tn[E].objectNumber>=0&&fe("/"+E+" "+tn[E].objectNumber+" 0 R");Xt.publish("putShadingPatternDict"),fe(">>")}},Vs=function(E){if(Object.keys(tn).length>0){for(var q in fe("/Pattern <<"),tn)tn.hasOwnProperty(q)&&tn[q]instanceof b.TilingPattern&&tn[q].objectNumber>=0&&tn[q].objectNumber<E&&fe("/"+q+" "+tn[q].objectNumber+" 0 R");Xt.publish("putTilingPatternDict"),fe(">>")}},yl=function(){if(Object.keys(Mn).length>0){var E;for(E in fe("/ExtGState <<"),Mn)Mn.hasOwnProperty(E)&&Mn[E].objectNumber>=0&&fe("/"+E+" "+Mn[E].objectNumber+" 0 R");Xt.publish("putGStateDict"),fe(">>")}},Kn=function(E){Ti(E.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),gs(),wo(),Vs(E.objectOid),yl(),Bs(),fe(">>"),fe("endobj")},Qi=function(){var E=[];gr(),Bi(),ja(),us(E),Xt.publish("putResources"),E.forEach(Kn),Kn({resourcesOid:Xi,objectOid:Number.MAX_SAFE_INTEGER}),Xt.publish("postPutResources")},So=function(){Xt.publish("putAdditionalObjects");for(var E=0;E<je.length;E++){var q=je[E];Ti(q.objId,!0),fe(q.content),fe("endobj")}Xt.publish("postPutAdditionalObjects")},cu=function(E){vn[E.fontName]=vn[E.fontName]||{},vn[E.fontName][E.fontStyle]=E.id},oa=function(E,q,le,ge,xe){var Fe={id:"F"+(Object.keys($t).length+1).toString(10),postScriptName:E,fontName:q,fontStyle:le,encoding:ge,isStandardFont:xe||!1,metadata:{}};return Xt.publish("addFont",{font:Fe,instance:this}),$t[Fe.id]=Fe,cu(Fe),Fe.id},bl=function(E){for(var q=0,le=et.length;q<le;q++){var ge=oa.call(this,E[q][0],E[q][1],E[q][2],et[q][3],!0);v===!1&&(w[ge]=!0);var xe=E[q][0].split("-");cu({id:ge,fontName:xe[0],fontStyle:xe[1]||""})}Xt.publish("addFonts",{fonts:$t,dictionary:vn})},sr=function(E){return E.foo=function(){try{return E.apply(this,arguments)}catch(ge){var q=ge.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var le="Error in function "+q.split(`
`)[0].split("<")[0]+": "+ge.message;if(!jt.console)throw new Error(le);jt.console.error(le,ge),jt.alert&&alert(le)}},E.foo.bar=E,E.foo},Eo=function(E,q){var le,ge,xe,Fe,Ze,ot,m,L,D;if(xe=(q=q||{}).sourceEncoding||"Unicode",Ze=q.outputEncoding,(q.autoencode||Ze)&&$t[Ht].metadata&&$t[Ht].metadata[xe]&&$t[Ht].metadata[xe].encoding&&(Fe=$t[Ht].metadata[xe].encoding,!Ze&&$t[Ht].encoding&&(Ze=$t[Ht].encoding),!Ze&&Fe.codePages&&(Ze=Fe.codePages[0]),typeof Ze=="string"&&(Ze=Fe[Ze]),Ze)){for(m=!1,ot=[],le=0,ge=E.length;le<ge;le++)(L=Ze[E.charCodeAt(le)])?ot.push(String.fromCharCode(L)):ot.push(E[le]),ot[le].charCodeAt(0)>>8&&(m=!0);E=ot.join("")}for(le=E.length;m===void 0&&le!==0;)E.charCodeAt(le-1)>>8&&(m=!0),le--;if(!m)return E;for(ot=q.noBOM?[]:[254,255],le=0,ge=E.length;le<ge;le++){if((D=(L=E.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+E+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ot.push(D),ot.push(L-(D<<8))}return String.fromCharCode.apply(void 0,ot)},pn=b.__private__.pdfEscape=b.pdfEscape=function(E,q){return Eo(E,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ar=b.__private__.beginPage=function(E){Ve[++Sn]=[],At[Sn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},ms(Sn),Ne(Ve[H])},la=function(E,q){var le,ge,xe;switch(t=q||t,typeof E=="string"&&(le=I(E.toLowerCase()),Array.isArray(le)&&(ge=le[0],xe=le[1])),Array.isArray(E)&&(ge=E[0]*ut,xe=E[1]*ut),isNaN(ge)&&(ge=r[0],xe=r[1]),(ge>14400||xe>14400)&&(ti.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),xe=Math.min(14400,xe)),r=[ge,xe],t.substr(0,1)){case"l":xe>ge&&(r=[xe,ge]);break;case"p":ge>xe&&(r=[xe,ge])}ar(r),El(fa),fe(or),Al!==0&&fe(Al+" J"),za!==0&&fe(za+" j"),Xt.publish("addPage",{pageNumber:Sn})},ua=function(E){E>0&&E<=Sn&&(Ve.splice(E,1),At.splice(E,1),Sn--,H>Sn&&(H=Sn),this.setPage(H))},ms=function(E){E>0&&E<=Sn&&(H=E)},Ln=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ve.length-1},ca=function(E,q,le){var ge,xe=void 0;return le=le||{},E=E!==void 0?E:$t[Ht].fontName,q=q!==void 0?q:$t[Ht].fontStyle,ge=E.toLowerCase(),vn[ge]!==void 0&&vn[ge][q]!==void 0?xe=vn[ge][q]:vn[E]!==void 0&&vn[E][q]!==void 0?xe=vn[E][q]:le.disableWarning===!1&&ti.warn("Unable to look up font label for font '"+E+"', '"+q+"'. Refer to getFontList() for available fonts."),xe||le.noFallback||(xe=vn.times[q])==null&&(xe=vn.times.normal),xe},Fr=b.__private__.putInfo=function(){var E=si(),q=function(ge){return ge};for(var le in p!==null&&(q=Fn.encryptor(E,0)),fe("<<"),fe("/Producer ("+pn(q("jsPDF "+Mt.version))+")"),dt)dt.hasOwnProperty(le)&&dt[le]&&fe("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+pn(q(dt[le]))+")");fe("/CreationDate ("+pn(q(pe))+")"),fe(">>"),fe("endobj")},Fs=b.__private__.putCatalog=function(E){var q=(E=E||{}).rootDictionaryObjId||Tr;switch(si(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+q+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+rt;le.substr(le.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+G(rt)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}It&&fe("/PageMode /"+It),Xt.publish("putCatalog"),fe(">>"),fe("endobj")},hu=b.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(ue+1)),fe("/Root "+ue+" 0 R"),fe("/Info "+(ue-1)+" 0 R"),p!==null&&fe("/Encrypt "+Fn.oid+" 0 R"),fe("/ID [ <"+re+"> <"+re+"> ]"),fe(">>")},_l=b.__private__.putHeader=function(){fe("%PDF-"+A),fe("%")},wl=b.__private__.putXRef=function(){var E="0000000000";fe("xref"),fe("0 "+(ue+1)),fe("0000000000 65535 f ");for(var q=1;q<=ue;q++)typeof we[q]=="function"?fe((E+we[q]()).slice(-10)+" 00000 n "):we[q]!==void 0?fe((E+we[q]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},Us=b.__private__.buildDocument=function(){St(),Ne(me),Xt.publish("buildDocument"),_l(),Ds(),So(),Qi(),p!==null&&uu(),Fr(),Fs();var E=Ce;return wl(),hu(),fe("startxref"),fe(""+E),fe("%%EOF"),Ne(Ve[H]),me.join(`
`)},Ao=b.__private__.getBlob=function(E){return new Blob([mt(E)],{type:"application/pdf"})},zs=b.output=b.__private__.output=sr(function(E,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",E){case void 0:return Us();case"save":b.save(q.filename);break;case"arraybuffer":return mt(Us());case"blob":return Ao(Us());case"bloburi":case"bloburl":if(jt.URL!==void 0&&typeof jt.URL.createObjectURL=="function")return jt.URL&&jt.URL.createObjectURL(Ao(Us()))||void 0;ti.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",ge=Us();try{le=W1(ge)}catch{le=W1(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+q.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(xe=q.pdfObjectUrl,Fe="");var Ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+xe+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",ot=jt.open();return ot!==null&&ot.document.write(Ze),ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jt)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',L=jt.open();if(L!==null){L.document.write(m);var D=this;L.document.documentElement.querySelector("#pdfViewer").onload=function(){L.document.title=q.filename,L.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(D.output("bloburl"))}}return L}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ee='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Ae=jt.open();if(Ae!==null&&(Ae.document.write(ee),Ae.document.title=q.filename),Ae||typeof safari>"u")return Ae;break;case"datauri":case"dataurl":return jt.document.location.href=this.output("datauristring",q);default:return null}}),vs=function(E){return Array.isArray(rr)===!0&&rr.indexOf(E)>-1};switch(i){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=vs("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ut=i}var Fn=null;ve(),ce();var qs=function(E){return p!==null?Fn.encryptor(E,0):function(q){return q}},ys=b.__private__.getPageInfo=b.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:At[E].objId,pageNumber:E,pageContext:At[E]}},Rt=b.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in At)if(At[q].objId===E)break;return ys(q)},bs=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:At[H].objId,pageNumber:H,pageContext:At[H]}};b.addPage=function(){return la.apply(this,arguments),this},b.setPage=function(){return ms.apply(this,arguments),Ne.call(this,Ve[H]),this},b.insertPage=function(E){return this.addPage(),this.movePage(H,E),this},b.movePage=function(E,q){var le,ge;if(E>q){le=Ve[E],ge=At[E];for(var xe=E;xe>q;xe--)Ve[xe]=Ve[xe-1],At[xe]=At[xe-1];Ve[q]=le,At[q]=ge,this.setPage(q)}else if(E<q){le=Ve[E],ge=At[E];for(var Fe=E;Fe<q;Fe++)Ve[Fe]=Ve[Fe+1],At[Fe]=At[Fe+1];Ve[q]=le,At[q]=ge,this.setPage(q)}return this},b.deletePage=function(){return ua.apply(this,arguments),this},b.__private__.text=b.text=function(E,q,le,ge,xe){var Fe,Ze,ot,m,L,D,ee,Ae,Pe,Je=(ge=ge||{}).scope||this;if(typeof E=="number"&&typeof q=="number"&&(typeof le=="string"||Array.isArray(le))){var kt=le;le=q,q=E,E=kt}if(arguments[3]instanceof ct?(N("The transform parameter of text() with a Matrix value"),Pe=xe):(ot=arguments[4],m=arguments[5],Wn(ee=arguments[3])==="object"&&ee!==null||(typeof ot=="string"&&(m=ot,ot=null),typeof ee=="string"&&(m=ee,ee=null),typeof ee=="number"&&(ot=ee,ee=null),ge={flags:ee,angle:ot,align:m})),isNaN(q)||isNaN(le)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return Je;var on="",Ut=!1,Tn=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:an,Dn=Je.internal.scaleFactor;function Es(nn){return nn=nn.split("	").join(Array(ge.TabLen||9).join(" ")),pn(nn,ee)}function vi(nn){for(var rn,Yn=nn.concat(),yi=[],xs=Yn.length;xs--;)typeof(rn=Yn.shift())=="string"?yi.push(rn):Array.isArray(nn)&&(rn.length===1||rn[1]===void 0&&rn[2]===void 0)?yi.push(rn[0]):yi.push([rn[0],rn[1],rn[2]]);return yi}function Hr(nn,rn){var Yn;if(typeof nn=="string")Yn=rn(nn)[0];else if(Array.isArray(nn)){for(var yi,xs,Bo=nn.concat(),Vo=[],Ka=Bo.length;Ka--;)typeof(yi=Bo.shift())=="string"?Vo.push(rn(yi)[0]):Array.isArray(yi)&&typeof yi[0]=="string"&&(xs=rn(yi[0],yi[1],yi[2]),Vo.push([xs[0],xs[1],xs[2]]));Yn=Vo}return Yn}var ya=!1,Io=!0;if(typeof E=="string")ya=!0;else if(Array.isArray(E)){var gu=E.concat();Ze=[];for(var xl,Vi=gu.length;Vi--;)(typeof(xl=gu.shift())!="string"||Array.isArray(xl)&&typeof xl[0]!="string")&&(Io=!1);ya=Io}if(ya===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Ro=it/Je.internal.scaleFactor,Ll=Ro*(Tn-1);switch(ge.baseline){case"bottom":le-=Ll;break;case"top":le+=Ro-Ll;break;case"hanging":le+=Ro-2*Ll;break;case"middle":le+=Ro/2-Ll}if((D=ge.maxWidth||0)>0&&(typeof E=="string"?E=Je.splitTextToSize(E,D):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(nn,rn){return nn.concat(Je.splitTextToSize(rn,D))},[]))),Fe={text:E,x:q,y:le,options:ge,mutex:{pdfEscape:pn,activeFontKey:Ht,fonts:$t,activeFontSize:it}},Xt.publish("preProcessText",Fe),E=Fe.text,ot=(ge=Fe.options).angle,!(Pe instanceof ct)&&ot&&typeof ot=="number"){ot*=Math.PI/180,ge.rotationDirection===0&&(ot=-ot),W===j.ADVANCED&&(ot=-ot);var Tl=Math.cos(ot),mu=Math.sin(ot);Pe=new ct(Tl,mu,-mu,Tl,0,0)}else ot&&ot instanceof ct&&(Pe=ot);W!==j.ADVANCED||Pe||(Pe=On),(L=ge.charSpace||Ua)!==void 0&&(on+=B(M(L))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ae=ge.horizontalScale)!==void 0&&(on+=B(100*Ae)+` Tz
`),ge.lang;var Gr=-1,Wf=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Tc=Je.internal.getCurrentPageInfo().pageContext;switch(Wf){case 0:case!1:case"fill":Gr=0;break;case 1:case!0:case"stroke":Gr=1;break;case 2:case"fillThenStroke":Gr=2;break;case 3:case"invisible":Gr=3;break;case 4:case"fillAndAddForClipping":Gr=4;break;case 5:case"strokeAndAddPathForClipping":Gr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gr=6;break;case 7:case"addToPathForClipping":Gr=7}var Ah=Tc.usedRenderingMode!==void 0?Tc.usedRenderingMode:-1;Gr!==-1?on+=Gr+` Tr
`:Ah!==-1&&(on+=`0 Tr
`),Gr!==-1&&(Tc.usedRenderingMode=Gr),m=ge.align||"left";var As,Zi=it*Tn,ko=Je.internal.pageSize.getWidth(),Cc=$t[Ht];L=ge.charSpace||Ua,D=ge.maxWidth||0,ee=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Wa=[],No=function(nn){return Je.getStringUnitWidth(nn,{font:Cc,charSpace:L,fontSize:it,doKerning:!1})*it/Dn};if(Object.prototype.toString.call(E)==="[object Array]"){var Ir;Ze=vi(E),m!=="left"&&(As=Ze.map(No));var lr,Po=0;if(m==="right"){q-=As[0],E=[],Vi=Ze.length;for(var Wr=0;Wr<Vi;Wr++)Wr===0?(lr=yr(q),Ir=Ri(le)):(lr=M(Po-As[Wr]),Ir=-Zi),E.push([Ze[Wr],lr,Ir]),Po=As[Wr]}else if(m==="center"){q-=As[0]/2,E=[],Vi=Ze.length;for(var $s=0;$s<Vi;$s++)$s===0?(lr=yr(q),Ir=Ri(le)):(lr=M((Po-As[$s])/2),Ir=-Zi),E.push([Ze[$s],lr,Ir]),Po=As[$s]}else if(m==="left"){E=[],Vi=Ze.length;for(var ba=0;ba<Vi;ba++)E.push(Ze[ba])}else if(m==="justify"&&Cc.encoding==="Identity-H"){E=[],Vi=Ze.length,D=D!==0?D:ko;for(var Ks=0,fi=0;fi<Vi;fi++)if(Ir=fi===0?Ri(le):-Zi,lr=fi===0?yr(q):Ks,fi<Vi-1){var Ys=M((D-As[fi])/(Ze[fi].split(" ").length-1)),ki=Ze[fi].split(" ");E.push([ki[0]+" ",lr,Ir]),Ks=0;for(var $r=1;$r<ki.length;$r++){var Cl=(No(ki[$r-1]+" "+ki[$r])-No(ki[$r]))*Dn+Ys;$r==ki.length-1?E.push([ki[$r],Cl,0]):E.push([ki[$r]+" ",Cl,0]),Ks-=Cl}}else E.push([Ze[fi],lr,Ir]);E.push(["",Ks,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],Vi=Ze.length,D=D!==0?D:ko,fi=0;fi<Vi;fi++)Ir=fi===0?Ri(le):-Zi,lr=fi===0?yr(q):0,fi<Vi-1?Wa.push(B(M((D-As[fi])/(Ze[fi].split(" ").length-1)))):Wa.push(0),E.push([Ze[fi],lr,Ir])}}var _a=typeof ge.R2L=="boolean"?ge.R2L:vt;_a===!0&&(E=Hr(E,function(nn,rn,Yn){return[nn.split("").reverse().join(""),rn,Yn]})),Fe={text:E,x:q,y:le,options:ge,mutex:{pdfEscape:pn,activeFontKey:Ht,fonts:$t,activeFontSize:it}},Xt.publish("postProcessText",Fe),E=Fe.text,Ut=Fe.mutex.isHex||!1;var vu=$t[Ht].encoding;vu!=="WinAnsiEncoding"&&vu!=="StandardEncoding"||(E=Hr(E,function(nn,rn,Yn){return[Es(nn),rn,Yn]})),Ze=vi(E),E=[];for(var Mo,Oo,Do,Il=0,yu=1,jo=Array.isArray(Ze[0])?yu:Il,$a="",Rl=function(nn,rn,Yn){var yi="";return Yn instanceof ct?(Yn=typeof ge.angle=="number"?ht(Yn,new ct(1,0,0,1,nn,rn)):ht(new ct(1,0,0,1,nn,rn),Yn),W===j.ADVANCED&&(Yn=ht(new ct(1,0,0,-1,0,0),Yn)),yi=Yn.join(" ")+` Tm
`):yi=B(nn)+" "+B(rn)+` Td
`,yi},di=0;di<Ze.length;di++){switch($a="",jo){case yu:Do=(Ut?"<":"(")+Ze[di][0]+(Ut?">":")"),Mo=parseFloat(Ze[di][1]),Oo=parseFloat(Ze[di][2]);break;case Il:Do=(Ut?"<":"(")+Ze[di]+(Ut?">":")"),Mo=yr(q),Oo=Ri(le)}Wa!==void 0&&Wa[di]!==void 0&&($a=Wa[di]+` Tw
`),di===0?E.push($a+Rl(Mo,Oo,Pe)+Do):jo===Il?E.push($a+Do):jo===yu&&E.push($a+Rl(Mo,Oo,Pe)+Do)}E=jo===Il?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var fs=`BT
/`;return fs+=Ht+" "+it+` Tf
`,fs+=B(it*Tn)+` TL
`,fs+=Gs+`
`,fs+=on,fs+=E,fe(fs+="ET"),w[Ht]=!0,Je};var fu=b.__private__.clip=b.clip=function(E){return fe(E==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return fu("evenodd")},b.__private__.discardPath=b.discardPath=function(){return fe("n"),this};var mr=b.__private__.isValidStyle=function(E){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(q=!0),q};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(E){return mr(E)&&(f=E),this};var Ur=b.__private__.getStyle=b.getStyle=function(E){var q=f;switch(E){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=E}return q},Cr=b.close=function(){return fe("h"),this};b.stroke=function(){return fe("S"),this},b.fill=function(E){return _s("f",E),this},b.fillEvenOdd=function(E){return _s("f*",E),this},b.fillStroke=function(E){return _s("B",E),this},b.fillStrokeEvenOdd=function(E){return _s("B*",E),this};var _s=function(E,q){Wn(q)==="object"?Hs(q,E):fe(E)},zr=function(E){E===null||W===j.ADVANCED&&E===void 0||(E=Ur(E),fe(E))};function ha(E,q,le,ge,xe){var Fe=new hf(q||this.boundingBox,le||this.xStep,ge||this.yStep,this.gState,xe||this.matrix);Fe.stream=this.stream;var Ze=E+"$$"+this.cloneIndex+++"$$";return Jn(Ze,Fe),Fe}var Hs=function(E,q){var le=pr[E.key],ge=tn[le];if(ge instanceof rh)fe("q"),fe(Sl(q)),ge.gState&&b.setGState(ge.gState),fe(E.matrix.toString()+" cm"),fe("/"+le+" sh"),fe("Q");else if(ge instanceof hf){var xe=new ct(1,0,0,-1,0,br());E.matrix&&(xe=xe.multiply(E.matrix||On),le=ha.call(ge,E.key,E.boundingBox,E.xStep,E.yStep,xe).id),fe("q"),fe("/Pattern cs"),fe("/"+le+" scn"),ge.gState&&b.setGState(ge.gState),fe(q),fe("Q")}},Sl=function(E){switch(E){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},qr=b.moveTo=function(E,q){return fe(B(M(E))+" "+B(oe(q))+" m"),this},vr=b.lineTo=function(E,q){return fe(B(M(E))+" "+B(oe(q))+" l"),this},ws=b.curveTo=function(E,q,le,ge,xe,Fe){return fe([B(M(E)),B(oe(q)),B(M(le)),B(oe(ge)),B(M(xe)),B(oe(Fe)),"c"].join(" ")),this};b.__private__.line=b.line=function(E,q,le,ge,xe){if(isNaN(E)||isNaN(q)||isNaN(le)||isNaN(ge)||!mr(xe))throw new Error("Invalid arguments passed to jsPDF.line");return W===j.COMPAT?this.lines([[le-E,ge-q]],E,q,[1,1],xe||"S"):this.lines([[le-E,ge-q]],E,q,[1,1]).stroke()},b.__private__.lines=b.lines=function(E,q,le,ge,xe,Fe){var Ze,ot,m,L,D,ee,Ae,Pe,Je,kt,on,Ut;if(typeof E=="number"&&(Ut=le,le=q,q=E,E=Ut),ge=ge||[1,1],Fe=Fe||!1,isNaN(q)||isNaN(le)||!Array.isArray(E)||!Array.isArray(ge)||!mr(xe)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(qr(q,le),Ze=ge[0],ot=ge[1],L=E.length,kt=q,on=le,m=0;m<L;m++)(D=E[m]).length===2?(kt=D[0]*Ze+kt,on=D[1]*ot+on,vr(kt,on)):(ee=D[0]*Ze+kt,Ae=D[1]*ot+on,Pe=D[2]*Ze+kt,Je=D[3]*ot+on,kt=D[4]*Ze+kt,on=D[5]*ot+on,ws(ee,Ae,Pe,Je,kt,on));return Fe&&Cr(),zr(xe),this},b.path=function(E){for(var q=0;q<E.length;q++){var le=E[q],ge=le.c;switch(le.op){case"m":qr(ge[0],ge[1]);break;case"l":vr(ge[0],ge[1]);break;case"c":ws.apply(this,ge);break;case"h":Cr()}}return this},b.__private__.rect=b.rect=function(E,q,le,ge,xe){if(isNaN(E)||isNaN(q)||isNaN(le)||isNaN(ge)||!mr(xe))throw new Error("Invalid arguments passed to jsPDF.rect");return W===j.COMPAT&&(ge=-ge),fe([B(M(E)),B(oe(q)),B(M(le)),B(M(ge)),"re"].join(" ")),zr(xe),this},b.__private__.triangle=b.triangle=function(E,q,le,ge,xe,Fe,Ze){if(isNaN(E)||isNaN(q)||isNaN(le)||isNaN(ge)||isNaN(xe)||isNaN(Fe)||!mr(Ze))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-E,ge-q],[xe-le,Fe-ge],[E-xe,q-Fe]],E,q,[1,1],Ze,!0),this},b.__private__.roundedRect=b.roundedRect=function(E,q,le,ge,xe,Fe,Ze){if(isNaN(E)||isNaN(q)||isNaN(le)||isNaN(ge)||isNaN(xe)||isNaN(Fe)||!mr(Ze))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ot=4/3*(Math.SQRT2-1);return xe=Math.min(xe,.5*le),Fe=Math.min(Fe,.5*ge),this.lines([[le-2*xe,0],[xe*ot,0,xe,Fe-Fe*ot,xe,Fe],[0,ge-2*Fe],[0,Fe*ot,-xe*ot,Fe,-xe,Fe],[2*xe-le,0],[-xe*ot,0,-xe,-Fe*ot,-xe,-Fe],[0,2*Fe-ge],[0,-Fe*ot,xe*ot,-Fe,xe,-Fe]],E+xe,q,[1,1],Ze,!0),this},b.__private__.ellipse=b.ellipse=function(E,q,le,ge,xe){if(isNaN(E)||isNaN(q)||isNaN(le)||isNaN(ge)||!mr(xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*le,Ze=4/3*(Math.SQRT2-1)*ge;return qr(E+le,q),ws(E+le,q-Ze,E+Fe,q-ge,E,q-ge),ws(E-Fe,q-ge,E-le,q-Ze,E-le,q),ws(E-le,q+Ze,E-Fe,q+ge,E,q+ge),ws(E+Fe,q+ge,E+le,q+Ze,E+le,q),zr(xe),this},b.__private__.circle=b.circle=function(E,q,le,ge){if(isNaN(E)||isNaN(q)||isNaN(le)||!mr(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,q,le,le,ge)},b.setFont=function(E,q,le){return le&&(q=se(q,le)),Ht=ca(E,q,{disableWarning:!1}),this};var Ii=b.__private__.getFont=b.getFont=function(){return $t[ca.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var E,q,le={};for(E in vn)if(vn.hasOwnProperty(E))for(q in le[E]=[],vn[E])vn[E].hasOwnProperty(q)&&le[E].push(q);return le},b.addFont=function(E,q,le,ge,xe){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?xe=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(le=se(le,ge)),xe=xe||"Identity-H",oa.call(this,E,q,le,xe)};var an,fa=n.lineWidth||.200025,Ss=b.__private__.getLineWidth=b.getLineWidth=function(){return fa},El=b.__private__.setLineWidth=b.setLineWidth=function(E){return fa=E,fe(B(M(E))+" w"),this};b.__private__.setLineDash=Mt.API.setLineDash=Mt.API.setLineDashPattern=function(E,q){if(E=E||[],q=q||0,isNaN(q)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(le){return B(M(le))}).join(" "),q=B(M(q)),fe("["+E+"] "+q+" d"),this};var Va=b.__private__.getLineHeight=b.getLineHeight=function(){return it*an};b.__private__.getLineHeight=b.getLineHeight=function(){return it*an};var Fa=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(an=E),this},hs=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return an};Fa(n.lineHeight);var yr=b.__private__.getHorizontalCoordinate=function(E){return M(E)},Ri=b.__private__.getVerticalCoordinate=function(E){return W===j.ADVANCED?E:At[H].mediaBox.topRightY-At[H].mediaBox.bottomLeftY-M(E)},du=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(E){return B(yr(E))},da=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(E){return B(Ri(E))},or=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Di(or)},b.__private__.setStrokeColor=b.setDrawColor=function(E,q,le,ge){return or=Ci({ch1:E,ch2:q,ch3:le,ch4:ge,pdfColorType:"draw",precision:2}),fe(or),this};var pa=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Di(pa)},b.__private__.setFillColor=b.setFillColor=function(E,q,le,ge){return pa=Ci({ch1:E,ch2:q,ch3:le,ch4:ge,pdfColorType:"fill",precision:2}),fe(pa),this};var Gs=n.textColor||"0 g",xo=b.__private__.getTextColor=b.getTextColor=function(){return Di(Gs)};b.__private__.setTextColor=b.setTextColor=function(E,q,le,ge){return Gs=Ci({ch1:E,ch2:q,ch3:le,ch4:ge,pdfColorType:"text",precision:3}),this};var Ua=n.charSpace,Lo=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Ua||0)};b.__private__.setCharSpace=b.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ua=E,this};var Al=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(E){var q=b.CapJoinStyles[E];if(q===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Al=q,fe(q+" J"),this};var za=0;b.__private__.setLineJoin=b.setLineJoin=function(E){var q=b.CapJoinStyles[E];if(q===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return za=q,fe(q+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(B(M(E))+" M"),this},b.GState=Ev,b.setGState=function(E){(E=typeof E=="string"?Mn[ci[E]]:ga(null,E)).equals(xi)||(fe("/"+E.id+" gs"),xi=E)};var ga=function(E,q){if(!E||!ci[E]){var le=!1;for(var ge in Mn)if(Mn.hasOwnProperty(ge)&&Mn[ge].equals(q)){le=!0;break}if(le)q=Mn[ge];else{var xe="GS"+(Object.keys(Mn).length+1).toString(10);Mn[xe]=q,q.id=xe}return E&&(ci[E]=q.id),Xt.publish("addGState",q),q}};b.addGState=function(E,q){return ga(E,q),this},b.saveGraphicsState=function(){return fe("q"),mi.push({key:Ht,size:it,color:Gs}),this},b.restoreGraphicsState=function(){fe("Q");var E=mi.pop();return Ht=E.key,it=E.size,Gs=E.color,xi=null,this},b.setCurrentTransformationMatrix=function(E){return fe(E.toString()+" cm"),this},b.comment=function(E){return fe("#"+E),this};var qa=function(E,q){var le=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Fe){isNaN(Fe)||(le=parseFloat(Fe))}});var ge=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Fe){isNaN(Fe)||(ge=parseFloat(Fe))}});var xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return xe},set:function(Fe){xe=Fe.toString()}}),this},To=function(E,q,le,ge){qa.call(this,E,q),this.type="rect";var xe=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return xe},set:function(Ze){isNaN(Ze)||(xe=parseFloat(Ze))}});var Fe=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Ze){isNaN(Ze)||(Fe=parseFloat(Ze))}}),this},Ha=function(){this.page=Sn,this.currentPage=H,this.pages=Ve.slice(0),this.pagesContext=At.slice(0),this.x=Zn,this.y=Gt,this.matrix=Ai,this.width=va(H),this.height=br(H),this.outputDestination=nt,this.id="",this.objectNumber=-1};Ha.prototype.restore=function(){Sn=this.page,H=this.currentPage,At=this.pagesContext,Ve=this.pages,Zn=this.x,Gt=this.y,Ai=this.matrix,Ga(H,this.width),Co(H,this.height),nt=this.outputDestination};var ma=function(E,q,le,ge,xe){Lr.push(new Ha),Sn=H=0,Ve=[],Zn=E,Gt=q,Ai=xe,ar([le,ge])},pu=function(E){if(Li[E])Lr.pop().restore();else{var q=new Ha,le="Xo"+(Object.keys(Vn).length+1).toString(10);q.id=le,Li[E]=le,Vn[le]=q,Xt.publish("addFormObject",q),Lr.pop().restore()}};for(var Ws in b.beginFormObject=function(E,q,le,ge,xe){return ma(E,q,le,ge,xe),this},b.endFormObject=function(E){return pu(E),this},b.doFormObject=function(E,q){var le=Vn[Li[E]];return fe("q"),fe(q.toString()+" cm"),fe("/"+le.id+" Do"),fe("Q"),this},b.getFormObject=function(E){var q=Vn[Li[E]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},b.save=function(E,q){return E=E||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(ih(Ao(Us()),E),typeof ih.unload=="function"&&jt.setTimeout&&setTimeout(ih.unload,911),this):new Promise(function(le,ge){try{var xe=ih(Ao(Us()),E);typeof ih.unload=="function"&&jt.setTimeout&&setTimeout(ih.unload,911),le(xe)}catch(Fe){ge(Fe.message)}})},Mt.API)Mt.API.hasOwnProperty(Ws)&&(Ws==="events"&&Mt.API.events.length?function(E,q){var le,ge,xe;for(xe=q.length-1;xe!==-1;xe--)le=q[xe][0],ge=q[xe][1],E.subscribe.apply(E,[le].concat(typeof ge=="function"?[ge]:ge))}(Xt,Mt.API.events):b[Ws]=Mt.API[Ws]);var va=b.getPageWidth=function(E){return(At[E=E||H].mediaBox.topRightX-At[E].mediaBox.bottomLeftX)/ut},Ga=b.setPageWidth=function(E,q){At[E].mediaBox.topRightX=q*ut+At[E].mediaBox.bottomLeftX},br=b.getPageHeight=function(E){return(At[E=E||H].mediaBox.topRightY-At[E].mediaBox.bottomLeftY)/ut},Co=b.setPageHeight=function(E,q){At[E].mediaBox.topRightY=q*ut+At[E].mediaBox.bottomLeftY};return b.internal={pdfEscape:pn,getStyle:Ur,getFont:Ii,getFontSize:at,getCharSpace:Lo,getTextColor:xo,getLineHeight:Va,getLineHeightFactor:hs,getLineWidth:Ss,write:Et,getHorizontalCoordinate:yr,getVerticalCoordinate:Ri,getCoordinateString:du,getVerticalCoordinateString:da,collections:{},newObject:si,newAdditionalObject:Da,newObjectDeferred:hi,newObjectDeferredBegin:Ti,getFilters:ji,putStream:$n,events:Xt,scaleFactor:ut,pageSize:{getWidth:function(){return va(H)},setWidth:function(E){Ga(H,E)},getHeight:function(){return br(H)},setHeight:function(E){Co(H,E)}},encryptionOptions:p,encryption:Fn,getEncryptor:qs,output:zs,getNumberOfPages:Ln,pages:Ve,out:fe,f2:G,f3:k,getPageInfo:ys,getPageInfoByObjId:Rt,getCurrentPageInfo:bs,getPDFVersion:T,Point:qa,Rectangle:To,Matrix:ct,hasHotfix:vs},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return va(H)},set:function(E){Ga(H,E)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return br(H)},set:function(E){Co(H,E)},enumerable:!0,configurable:!0}),bl.call(b,et),Ht="F1",la(r,t),Xt.publish("initialized"),b}of.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},of.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},of.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},of.prototype.processOwnerPassword=function(n,e){return K1($1(e).substr(0,5),n)},of.prototype.encryptor=function(n,e){var t=$1(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return K1(t,i)}},Ev.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Wn(n)!==Wn(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Mt.API={events:[]},Mt.version="3.0.1";var Oi=Mt.API,yb=1,Eh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ef=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kt=function(n){return n.toFixed(2)},Wu=function(n){return n.toFixed(5)};Oi.__acroform__={};var Os=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},GA=function(n){return n*yb},el=function(n){var e=new o3,t=_t.internal.getHeight(n)||0,i=_t.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Kt(i)),Number(Kt(t))],e},WV=Oi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},$V=Oi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},KV=Oi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Wi=Oi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return KV(n,e-1)},$i=Oi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return WV(n,e-1)},Ki=Oi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $V(n,e-1)},YV=Oi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=n[0],s=n[1],o=n[2],u=n[3],c={};return c.lowerLeft_X=t(r)||0,c.lowerLeft_Y=i(s+u)||0,c.upperRight_X=t(r+o)||0,c.upperRight_Y=i(s)||0,[Number(Kt(c.lowerLeft_X)),Number(Kt(c.lowerLeft_Y)),Number(Kt(c.upperRight_X)),Number(Kt(c.upperRight_Y))]},XV=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=Y1(n,t),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+Kt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=el(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},Y1=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=n.multiline?r.map(function(k){return k.split(`
`)}):r.map(function(k){return[k]});var s=t,o=_t.internal.getHeight(n)||0;o=o<0?-o:o;var u=_t.internal.getWidth(n)||0;u=u<0?-u:u;var c=function(k,M,V){if(k+1<r.length){var oe=M+" "+r[k+1][0];return fm(oe,n,V).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var f,p,v=fm("3",n,s).height,w=n.multiline?o-s:(o-v)/2,b=w+=2,A=0,T=0,C=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+fm(e,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var I="",j=0,W=0;W<r.length;W++)if(r.hasOwnProperty(W)){var Z=!1;if(r[W].length!==1&&C!==r[W].length-1){if((v+2)*(j+2)+2>o)continue e;I+=r[W][C],Z=!0,T=W,W--}else{I=(I+=r[W][C]+" ").substr(I.length-1)==" "?I.substr(0,I.length-1):I;var X=parseInt(W),se=c(X,I,s),B=W>=r.length-1;if(se&&!B){I+=" ",C=0;continue}if(se||B){if(B)T=X;else if(n.multiline&&(v+2)*(j+2)+2>o)continue e}else{if(!n.multiline||(v+2)*(j+2)+2>o)continue e;T=X}}for(var N="",O=A;O<=T;O++){var G=r[O];if(n.multiline){if(O===T){N+=G[C]+" ",C=(C+1)%G.length;continue}if(O===A){N+=G[G.length-1]+" ";continue}}N+=G[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,p=fm(N,n,s).width,n.textAlign){case"right":f=u-p-2;break;case"center":f=(u-p)/2;break;case"left":default:f=2}e+=Kt(f)+" "+Kt(b)+` Td
`,e+="("+Eh(N)+`) Tj
`,e+=-Kt(f)+` 0 Td
`,b=-(s+2),p=0,A=Z?T:T+1,j++,I=""}break}return i.text=e,i.fontSize=s,i},fm=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},QV={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ZV=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},JV=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var i=t,r=n[t];e.internal.newObjectDeferredBegin(r.objId,!0),Wn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete n[i]}},eF=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(bo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(QV)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");yb=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new l3,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&ZV(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var u=i[o],c=[],f=u.Rect;if(u.Rect&&(u.Rect=YV(u.Rect,r)),r.internal.newObjectDeferredBegin(u.objId,!0),u.DA=_t.createDefaultAppearanceStream(u),Wn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=XV(u);c.push({key:"AP",value:"<</N "+p+">>"}),r.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var v="";for(var w in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(w)){var b=u.appearanceStreamContent[w];if(v+="/"+w+" ",v+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var o in b)if(b.hasOwnProperty(o)){var A=b[o];typeof A=="function"&&(A=A.call(r,u)),v+="/"+o+" "+A+" ",r.internal.acroformPlugin.xForms.indexOf(A)>=0||r.internal.acroformPlugin.xForms.push(A)}}else typeof(A=b)=="function"&&(A=A.call(r,u)),v+="/"+o+" "+A,r.internal.acroformPlugin.xForms.indexOf(A)>=0||r.internal.acroformPlugin.xForms.push(A);v+=">>"}c.push({key:"AP",value:`<<
`+v+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:u.objId}),r.internal.out("endobj")}s&&JV(r.internal.acroformPlugin.xForms,r)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},a3=Oi.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(o){return o};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),Wn(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),r+="("+Eh(i(n[s].toString()))+")"):r+=n[s].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Qy=function(n,e,t){var i=function(r){return r};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Eh(i(n))+")"},il=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};il.prototype.toString=function(){return this.objId+" 0 R"},il.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},il.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:a3(r,this.objId,this.scope)}):r instanceof il?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var o3=function(){il.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Os(o3,il);var l3=function(){il.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Eh(t(n))+")"}},set:function(t){n=t}})};Os(l3,il);var bo=function n(){il.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute F supplied.');e=I}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Wi(e,3)},set:function(I){I?this.F=$i(e,3):this.F=Ki(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(I){if(isNaN(I))throw new Error('Invalid value "'+I+'" for attribute Ff supplied.');t=I}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(I){i=I!==void 0?I:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(I){i[0]=I}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(I){i[1]=I}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(I){i[2]=I}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(I){i[3]=I}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(I){switch(I){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=I;break;default:throw new Error('Invalid value "'+I+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Av)return;s="FieldObject"+n.FieldNum++}var I=function(j){return j};return this.scope&&(I=this.scope.internal.getEncryptor(this.objId)),"("+Eh(I(s))+")"},set:function(I){s=I.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(I){s=I}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(I){o=I}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(I){u=I}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(I){c=I}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/yb:f},set:function(I){f=I}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(I){p=I}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof Av||this instanceof ch))return Qy(v,this.objId,this.scope)},set:function(I){I=I.toString(),v=I}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof xr?w:Qy(w,this.objId,this.scope)},set:function(I){I=I.toString(),w=this instanceof xr?I:I.substr(0,1)==="("?ef(I.substr(1,I.length-2)):ef(I)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xr?ef(w.substr(1,w.length-1)):w},set:function(I){I=I.toString(),w=this instanceof xr?"/"+I:I}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(I){this.V=I}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof xr?b:Qy(b,this.objId,this.scope)},set:function(I){I=I.toString(),b=this instanceof xr?I:I.substr(0,1)==="("?ef(I.substr(1,I.length-2)):ef(I)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xr?ef(b.substr(1,b.length-1)):b},set:function(I){I=I.toString(),b=this instanceof xr?"/"+I:I}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(I){I=!!I,T=I}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(I){A=I}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,1)},set:function(I){I?this.Ff=$i(this.Ff,1):this.Ff=Ki(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,2)},set:function(I){I?this.Ff=$i(this.Ff,2):this.Ff=Ki(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,3)},set:function(I){I?this.Ff=$i(this.Ff,3):this.Ff=Ki(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(I){if([0,1,2].indexOf(I)===-1)throw new Error('Invalid value "'+I+'" for attribute Q supplied.');C=I}}),Object.defineProperty(this,"textAlign",{get:function(){var I;switch(C){case 0:default:I="left";break;case 1:I="center";break;case 2:I="right"}return I},configurable:!0,enumerable:!0,set:function(I){switch(I){case"right":case 2:C=2;break;case"center":case 1:C=1;break;case"left":case 0:default:C=0}}})};Os(bo,il);var bf=function(){bo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return a3(e,this.objId,this.scope)},set:function(t){var i,r;r=[],typeof(i=t)=="string"&&(r=function(s,o,u){u||(u=1);for(var c,f=[];c=o.exec(s);)f.push(c[u]);return f}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,18)},set:function(t){t?this.Ff=$i(this.Ff,18):this.Ff=Ki(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=$i(this.Ff,19):this.Ff=Ki(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,20)},set:function(t){t?(this.Ff=$i(this.Ff,20),e.sort()):this.Ff=Ki(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,22)},set:function(t){t?this.Ff=$i(this.Ff,22):this.Ff=Ki(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,23)},set:function(t){t?this.Ff=$i(this.Ff,23):this.Ff=Ki(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,27)},set:function(t){t?this.Ff=$i(this.Ff,27):this.Ff=Ki(this.Ff,27)}}),this.hasAppearanceStream=!1};Os(bf,bo);var _f=function(){bf.call(this),this.fontName="helvetica",this.combo=!1};Os(_f,bf);var wf=function(){_f.call(this),this.combo=!0};Os(wf,_f);var Nm=function(){wf.call(this),this.edit=!0};Os(Nm,wf);var xr=function(){bo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,15)},set:function(t){t?this.Ff=$i(this.Ff,15):this.Ff=Ki(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,16)},set:function(t){t?this.Ff=$i(this.Ff,16):this.Ff=Ki(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,17)},set:function(t){t?this.Ff=$i(this.Ff,17):this.Ff=Ki(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,26)},set:function(t){t?this.Ff=$i(this.Ff,26):this.Ff=Ki(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+Eh(t(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){Wn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Os(xr,bo);var Pm=function(){xr.call(this),this.pushButton=!0};Os(Pm,xr);var Sf=function(){xr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Os(Sf,xr);var Av=function(){var n,e;bo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(u){return u};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+Eh(r(i[s]))+")");return o.push(">>"),o.join(`
`)},set:function(r){Wn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Os(Av,bo),Sf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Sf.prototype.createOption=function(n){var e=new Av;return e.Parent=this,e.optionName=n,this.Kids.push(e),tF.call(this.scope,e),e};var Mm=function(){xr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};Os(Mm,xr);var ch=function(){bo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,13)},set:function(e){e?this.Ff=$i(this.Ff,13):this.Ff=Ki(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,21)},set:function(e){e?this.Ff=$i(this.Ff,21):this.Ff=Ki(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,23)},set:function(e){e?this.Ff=$i(this.Ff,23):this.Ff=Ki(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,24)},set:function(e){e?this.Ff=$i(this.Ff,24):this.Ff=Ki(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,25)},set:function(e){e?this.Ff=$i(this.Ff,25):this.Ff=Ki(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,26)},set:function(e){e?this.Ff=$i(this.Ff,26):this.Ff=Ki(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Os(ch,bo);var Om=function(){ch.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Wi(this.Ff,14)},set:function(n){n?this.Ff=$i(this.Ff,14):this.Ff=Ki(this.Ff,14)}}),this.password=!0};Os(Om,ch);var _t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=el(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=Y1(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Kt(_t.internal.getWidth(n))+" "+Kt(_t.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+Kt(s.fontSize)+" Tf "+r),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=el(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=_t.internal.getHeight(n),o=_t.internal.getWidth(n),u=Y1(n,n.caption);return r.push("1 g"),r.push("0 0 "+Kt(o)+" "+Kt(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Kt(o-1)+" "+Kt(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+Kt(u.fontSize)+" Tf "+i),r.push(u.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=el(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Kt(_t.internal.getWidth(n))+" "+Kt(_t.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=_t.RadioButton.Circle.YesNormal,e.D[n]=_t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=el(n);e.scope=n.scope;var t=[],i=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=_t.internal.Bezier_C,s=Number((i*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Wu(_t.internal.getWidth(n)/2)+" "+Wu(_t.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=el(n);e.scope=n.scope;var t=[],i=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*_t.internal.Bezier_C).toFixed(5)),o=Number((i*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Wu(_t.internal.getWidth(n)/2)+" "+Wu(_t.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Wu(_t.internal.getWidth(n)/2)+" "+Wu(_t.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=el(n);e.scope=n.scope;var t=[],i=_t.internal.getWidth(n)<=_t.internal.getHeight(n)?_t.internal.getWidth(n)/4:_t.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Wu(_t.internal.getWidth(n)/2)+" "+Wu(_t.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=_t.RadioButton.Cross.YesNormal,e.D[n]=_t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=el(n);e.scope=n.scope;var t=[],i=_t.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Kt(_t.internal.getWidth(n)-2)+" "+Kt(_t.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Kt(i.x1.x)+" "+Kt(i.x1.y)+" m"),t.push(Kt(i.x2.x)+" "+Kt(i.x2.y)+" l"),t.push(Kt(i.x4.x)+" "+Kt(i.x4.y)+" m"),t.push(Kt(i.x3.x)+" "+Kt(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=el(n);e.scope=n.scope;var t=_t.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+Kt(_t.internal.getWidth(n))+" "+Kt(_t.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Kt(_t.internal.getWidth(n)-2)+" "+Kt(_t.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(Kt(t.x1.x)+" "+Kt(t.x1.y)+" m"),i.push(Kt(t.x2.x)+" "+Kt(t.x2.y)+" l"),i.push(Kt(t.x4.x)+" "+Kt(t.x4.y)+" m"),i.push(Kt(t.x3.x)+" "+Kt(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=el(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Kt(_t.internal.getWidth(n))+" "+Kt(_t.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};_t.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=_t.internal.getWidth(n),t=_t.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},_t.internal.getWidth=function(n){var e=0;return Wn(n)==="object"&&(e=GA(n.Rect[2])),e},_t.internal.getHeight=function(n){var e=0;return Wn(n)==="object"&&(e=GA(n.Rect[3])),e};var tF=Oi.addField=function(n){if(eF(this,n),!(n instanceof bo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Oi.AcroFormChoiceField=bf,Oi.AcroFormListBox=_f,Oi.AcroFormComboBox=wf,Oi.AcroFormEditBox=Nm,Oi.AcroFormButton=xr,Oi.AcroFormPushButton=Pm,Oi.AcroFormRadioButton=Sf,Oi.AcroFormCheckBox=Mm,Oi.AcroFormTextField=ch,Oi.AcroFormPasswordField=Om,Oi.AcroFormAppearance=_t,Oi.AcroForm={ChoiceField:bf,ListBox:_f,ComboBox:wf,EditBox:Nm,Button:xr,PushButton:Pm,RadioButton:Sf,CheckBox:Mm,TextField:ch,PasswordField:Om,Appearance:_t},Mt.AcroForm={ChoiceField:bf,ListBox:_f,ComboBox:wf,EditBox:Nm,Button:xr,PushButton:Pm,RadioButton:Sf,CheckBox:Mm,TextField:ch,PasswordField:Om,Appearance:_t};Mt.AcroForm;function u3(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(k,M){var V,oe,pe,re,he,ce=e;if((M=M||e)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(se(k))for(he in t)for(pe=t[he],V=0;V<pe.length;V+=1){for(re=!0,oe=0;oe<pe[V].length;oe+=1)if(pe[V][oe]!==void 0&&pe[V][oe]!==k[oe]){re=!1;break}if(re===!0){ce=he;break}}else for(he in t)for(pe=t[he],V=0;V<pe.length;V+=1){for(re=!0,oe=0;oe<pe[V].length;oe+=1)if(pe[V][oe]!==void 0&&pe[V][oe]!==k.charCodeAt(oe)){re=!1;break}if(re===!0){ce=he;break}}return ce===e&&M!==e&&(ce=M),ce},r=function k(M){for(var V=this.internal.write,oe=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:M.width}),re.push({key:"Height",value:M.height}),M.colorSpace===C.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===C.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var he="",ce=0,Se=M.transparency.length;ce<Se;ce++)he+=M.transparency[ce]+" "+M.transparency[ce]+" ";re.push({key:"Mask",value:"["+he+"]"})}M.sMask!==void 0&&re.push({key:"SMask",value:M.objectId+1+" 0 R"});var K=M.filter!==void 0?["/"+M.filter]:void 0;if(oe({data:M.data,additionalKeyValues:re,alreadyAppliedFilters:K,objectId:M.objectId}),V("endobj"),"sMask"in M&&M.sMask!==void 0){var ve="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,F={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:ve,data:M.sMask};"filter"in M&&(F.filter=M.filter),k.call(this,F)}if(M.colorSpace===C.INDEXED){var H=this.internal.newObject();oe({data:N(new Uint8Array(M.palette)),objectId:H}),V("endobj")}},s=function(){var k=this.internal.collections.addImage_images;for(var M in k)r.call(this,k[M])},o=function(){var k,M=this.internal.collections.addImage_images,V=this.internal.write;for(var oe in M)V("/I"+(k=M[oe]).index,k.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var k=this.internal.collections.addImage_images;return u.call(this),k},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(k){return typeof n["process"+k.toUpperCase()]=="function"},v=function(k){return Wn(k)==="object"&&k.nodeType===1},w=function(k,M){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var V=""+k.getAttribute("src");if(V.indexOf("data:image/")===0)return up(unescape(V).split("base64,").pop());var oe=n.loadFile(V,!0);if(oe!==void 0)return oe}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var pe;switch(M){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return up(k.toDataURL(pe,1).split("base64,").pop())}},b=function(k){var M=this.internal.collections.addImage_images;if(M){for(var V in M)if(k===M[V].alias)return M[V]}},A=function(k,M,V){return k||M||(k=-96,M=-96),k<0&&(k=-1*V.width*72/k/this.internal.scaleFactor),M<0&&(M=-1*V.height*72/M/this.internal.scaleFactor),k===0&&(k=M*V.width/V.height),M===0&&(M=k*V.height/V.width),[k,M]},T=function(k,M,V,oe,pe,re){var he=A.call(this,V,oe,pe),ce=this.internal.getCoordinateString,Se=this.internal.getVerticalCoordinateString,K=c.call(this);if(V=he[0],oe=he[1],K[pe.index]=pe,re){re*=Math.PI/180;var ve=Math.cos(re),F=Math.sin(re),H=function(Q){return Q.toFixed(4)},ie=[H(ve),H(F),H(-1*F),H(ve),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,ce(k),Se(M+oe),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([ce(V),"0","0",ce(oe),"0","0","cm"].join(" "))):this.internal.write([ce(V),"0","0",ce(oe),ce(k),Se(M+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=n.__addimage__.sHashCode=function(k){var M,V,oe=0;if(typeof k=="string")for(V=k.length,M=0;M<V;M++)oe=(oe<<5)-oe+k.charCodeAt(M),oe|=0;else if(se(k))for(V=k.byteLength/2,M=0;M<V;M++)oe=(oe<<5)-oe+k[M],oe|=0;return oe},W=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var M=!0;return k.length===0&&(M=!1),k.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(M=!1),M},Z=n.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var M=k.indexOf(",");return M<0?null:k.substring(0,M).trim().endsWith("base64")?k.substring(M+1):null},X=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(k){return X()&&k instanceof ArrayBuffer};var se=n.__addimage__.isArrayBufferView=function(k){return X()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},B=n.__addimage__.binaryStringToUint8Array=function(k){for(var M=k.length,V=new Uint8Array(M),oe=0;oe<M;oe++)V[oe]=k.charCodeAt(oe);return V},N=n.__addimage__.arrayBufferToBinaryString=function(k){for(var M="",V=se(k)?k:new Uint8Array(k),oe=0;oe<V.length;oe+=8192)M+=String.fromCharCode.apply(null,V.subarray(oe,oe+8192));return M};n.addImage=function(){var k,M,V,oe,pe,re,he,ce,Se;if(typeof arguments[1]=="number"?(M=e,V=arguments[1],oe=arguments[2],pe=arguments[3],re=arguments[4],he=arguments[5],ce=arguments[6],Se=arguments[7]):(M=arguments[1],V=arguments[2],oe=arguments[3],pe=arguments[4],re=arguments[5],he=arguments[6],ce=arguments[7],Se=arguments[8]),Wn(k=arguments[0])==="object"&&!v(k)&&"imageData"in k){var K=k;k=K.imageData,M=K.format||M||e,V=K.x||V||0,oe=K.y||oe||0,pe=K.w||K.width||pe,re=K.h||K.height||re,he=K.alias||he,ce=K.compression||ce,Se=K.rotation||K.angle||Se}var ve=this.internal.getFilters();if(ce===void 0&&ve.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(V)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var F=O.call(this,k,M,he,ce);return T.call(this,V,oe,pe,re,F,Se),this};var O=function(k,M,V,oe){var pe,re,he;if(typeof k=="string"&&i(k)===e){k=unescape(k);var ce=G(k,!1);(ce!==""||(ce=n.loadFile(k,!0))!==void 0)&&(k=ce)}if(v(k)&&(k=w(k,M)),M=i(k,M),!p(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((he=V)==null||he.length===0)&&(V=function(Se){return typeof Se=="string"||se(Se)?j(Se):se(Se.data)?j(Se.data):null}(k)),(pe=b.call(this,V))||(X()&&(k instanceof Uint8Array||M==="RGBA"||(re=k,k=B(k))),pe=this["process"+M.toUpperCase()](k,f.call(this),V,function(Se){return Se&&typeof Se=="string"&&(Se=Se.toUpperCase()),Se in n.image_compression?Se:I.NONE}(oe),re)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},G=n.__addimage__.convertBase64ToBinaryString=function(k,M){M=typeof M!="boolean"||M;var V,oe="";if(typeof k=="string"){var pe;V=(pe=Z(k))!==null&&pe!==void 0?pe:k;try{oe=up(V)}catch(re){if(M)throw W(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};n.getImageProperties=function(k){var M,V,oe="";if(v(k)&&(k=w(k)),typeof k=="string"&&i(k)===e&&((oe=G(k,!1))===""&&(oe=n.loadFile(k)||""),k=oe),V=i(k),!p(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!X()||k instanceof Uint8Array||(k=B(k)),!(M=this["process"+V.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=V,M}})(Mt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Mt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,r,s,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,p=!1,v=0;v<f.length&&!p;v++)switch((i=f[v]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var w=0;w<f.length;w++){i=f[w];var b=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),I=this.internal.getEncryptor(T.objId),j=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+b(I(i.contents))+")",s+=" /Popup "+C.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+b(I(j))+") >>",T.content=s;var W=T.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+W,i.open&&(s+=" /Open true"),s+=" >>",C.content=s,this.internal.write(T.objId,"0 R",C.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var Z=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+b(A(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Z+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var X=this.annotations._nameMap[i.options.name];i.options.pageNumber=X.page,i.options.top=X.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+b(A(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var se=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+se+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,r,s,o){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(t),y:f(i),w:c(t+r),h:f(i+s)},options:o,type:"link"})},n.textWithLink=function(t,i,r,s){var o,u,c=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var p=this.splitTextToSize(t,u).length;o=Math.ceil(f*p)}else u=c,o=f;return this.text(t,i,r,s),r+=.2*f,s.align==="center"&&(i-=c/2),s.align==="right"&&(i-=c),this.link(i,r-f,u,o,s),c},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}}(Mt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(T){return e[T.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},u=n.__arabicParser__.isArabicEndLetter=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(T){return o(T)&&r.indexOf(T.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(T){return o(T)&&s(T)&&e[T.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(T){var C=0,I=t,j="",W=0;for(C=0;C<T.length;C+=1)I[T.charCodeAt(C)]!==void 0?(W++,typeof(I=I[T.charCodeAt(C)])=="number"&&(j+=String.fromCharCode(I),I=t,W=0),C===T.length-1&&(I=t,j+=T.charAt(C-(W-1)),C-=W-1,W=0)):(I=t,j+=T.charAt(C-W),C-=W,W=0);return j};n.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&i[T.charCodeAt(0)]!==void 0};var w=n.__arabicParser__.getCorrectForm=function(T,C,I){return o(T)?s(T)===!1?-1:!f(T)||!o(C)&&!o(I)||!o(I)&&u(C)||u(T)&&!o(C)||u(T)&&c(C)||u(T)&&u(C)?0:p(T)&&o(C)&&!u(C)&&o(I)&&f(I)?3:u(T)||!o(I)?1:2:-1},b=function(T){var C=0,I=0,j=0,W="",Z="",X="",se=(T=T||"").split("\\s+"),B=[];for(C=0;C<se.length;C+=1){for(B.push(""),I=0;I<se[C].length;I+=1)W=se[C][I],Z=se[C][I-1],X=se[C][I+1],o(W)?(j=w(W,Z,X),B[C]+=j!==-1?String.fromCharCode(e[W.charCodeAt(0)][j]):W):B[C]+=W;B[C]=v(B[C])}return B.join(" ")},A=n.__arabicParser__.processArabic=n.processArabic=function(){var T,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,I=[];if(Array.isArray(C)){var j=0;for(I=[],j=0;j<C.length;j+=1)Array.isArray(C[j])?I.push([b(C[j][0]),C[j][1],C[j][2]]):I.push([b(C[j])]);T=I}else T=b(C);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};n.events.push(["preProcessText",A])}(Mt.API),Mt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var r;if((t=t||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Mt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(T){c=T}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(T){f=T}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(T){p=T}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(T){v=T}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(T){w=T}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(T){b=T}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(T){A=T}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,f){i.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),w=f.scaleFactor||this.internal.scaleFactor,b=0,A=0,T=0,C=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var I=f.maxWidth;I>0?typeof c=="string"?c=this.splitTextToSize(c,I):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(W,Z){return W.concat(C.splitTextToSize(Z,I))},[])):c=Array.isArray(c)?c:[c];for(var j=0;j<c.length;j++)b<(T=this.getStringUnitWidth(c[j],{font:v})*p)&&(b=T);return b!==0&&(A=c.length),{w:b/=w,h:Math.max((A*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/w,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=v.top,b&&w&&(this.printHeaderRow(c.lineNumber,!0),c.y+=w[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};n.table=function(c,f,p,v,w){if(i.call(this),!p)throw new Error("No data for PDF table.");var b,A,T,C,I=[],j=[],W=[],Z={},X={},se=[],B=[],N=(w=w||{}).autoSize||!1,O=w.printHeaders!==!1,G=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,k=w.margins||Object.assign({width:this.getPageWidth()},e),M=typeof w.padding=="number"?w.padding:3,V=w.headerBackgroundColor||"#c8c8c8",oe=w.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=oe,this.setFontSize(G),v==null)j=I=Object.keys(p[0]),W=I.map(function(){return"left"});else if(Array.isArray(v)&&Wn(v[0])==="object")for(I=v.map(function(K){return K.name}),j=v.map(function(K){return K.prompt||K.name||""}),W=v.map(function(K){return K.align||"left"}),b=0;b<v.length;b+=1)X[v[b].name]=v[b].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(j=I=v,W=I.map(function(){return"left"}));if(N||Array.isArray(v)&&typeof v[0]=="string")for(b=0;b<I.length;b+=1){for(Z[C=I[b]]=p.map(function(K){return K[C]}),this.setFont(void 0,"bold"),se.push(this.getTextDimensions(j[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=Z[C],this.setFont(void 0,"normal"),T=0;T<A.length;T+=1)se.push(this.getTextDimensions(A[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[C]=Math.max.apply(null,se)+M+M,se=[]}if(O){var pe={};for(b=0;b<I.length;b+=1)pe[I[b]]={},pe[I[b]].text=j[b],pe[I[b]].align=W[b];var re=u.call(this,pe,X);B=I.map(function(K){return new s(c,f,X[K],re,pe[K].text,void 0,pe[K].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var he=v.reduce(function(K,ve){return K[ve.name]=ve.align,K},{});for(b=0;b<p.length;b+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:b,data:p[b]},this);var ce=u.call(this,p[b],X);for(T=0;T<I.length;T+=1){var Se=p[b][I[T]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:b,col:T,data:Se},this),o.call(this,new s(c,f,X[I[T]],ce,Se,b+2,he[I[T]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var u=function(c,f){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(c).map(function(b){var A=c[b];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,f[b]-p-p)},this).map(function(b){return this.getLineHeightFactor()*b.length*v/w+p+p},this).reduce(function(b,A){return Math.max(b,A)},0)};n.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){p=this.internal.__cell__.tableHeaderRow[b].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,w.push(p)),p.lineNumber=c;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,p),this.setTextColor(A)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),t=!1}}(Mt.API);var c3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},h3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],X1=u3(h3),f3=[100,200,300,400,500,600,700,800,900],nF=u3(f3);function Q1(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return c3[s=s||"normal"]?s:"normal"}(n.style),i=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),r=function(s){return typeof X1[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,i].join(" ")}}}function WA(n,e,t,i){var r;for(r=t;r>=0&&r<e.length;r+=i)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=i)if(n[e[r]])return n[e[r]]}var iF={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$A={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function KA(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function rF(n,e,t){for(var i=(t=t||{}).defaultFontFamily||"times",r=Object.assign({},iF,t.genericFontFamilies||{}),s=null,o=null,u=0;u<e.length;++u)if(r[(s=Q1(e[u])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[i]))throw new Error("Could not find a font-family for the rule '"+KA(s)+"' and default family '"+i+"'.");if(o=function(c,f){if(f[c])return f[c];var p=X1[c],v=p<=X1.normal?-1:1,w=WA(f,h3,p,v);if(!w)throw new Error("Could not find a matching font-stretch value for "+c);return w}(s.stretch,o),o=function(c,f){if(f[c])return f[c];for(var p=c3[c],v=0;v<p.length;++v)if(f[p[v]])return f[p[v]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,f){if(f[c])return f[c];if(c===400&&f[500])return f[500];if(c===500&&f[400])return f[400];var p=nF[c],v=WA(f,f3,p,c<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+c);return v}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+KA(s)+"'.");return o}function YA(n){return n.trimLeft()}function sF(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function aF(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var dm,XA,QA,Zy=["times"];(function(n){var e,t,i,r,s,o,u,c,f,p=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new c,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,f=new p}]);var v=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=F;Object.defineProperty(this,"pdf",{get:function(){return H}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(Ne){ie=!!Ne}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(Ne){Q=!!Ne}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Ne){isNaN(Ne)||(ue=Ne)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Ne){isNaN(Ne)||(we=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Ne){var fe;typeof Ne=="number"?fe=[Ne,Ne,Ne,Ne]:((fe=new Array(4))[0]=Ne[0],fe[1]=Ne.length>=2?Ne[1]:fe[0],fe[2]=Ne.length>=3?Ne[2]:fe[0],fe[3]=Ne.length>=4?Ne[3]:fe[1]),f.margin=fe}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(Ne){me=Ne}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Ne){Ce=Ne}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Ne){je=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Ne){Ne instanceof p&&(f=Ne)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Ne){f.path=Ne}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function(Ne){Ve=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var fe;fe=w(Ne),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var fe=w(Ne);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var tt=null;function nt(Ne,fe){if(tt===null){var Et=function(mt){var et=[];return Object.keys(mt).forEach(function(it){mt[it].forEach(function(rt){var at=null;switch(rt){case"bold":at={family:it,weight:"bold"};break;case"italic":at={family:it,style:"italic"};break;case"bolditalic":at={family:it,weight:"bold",style:"italic"};break;case"":case"normal":at={family:it}}at!==null&&(at.ref={name:it,style:rt},et.push(at))})}),et}(Ne.getFontList());tt=function(mt){for(var et={},it=0;it<mt.length;++it){var rt=Q1(mt[it]),at=rt.family,vt=rt.stretch,It=rt.style,Ot=rt.weight;et[at]=et[at]||{},et[at][vt]=et[at][vt]||{},et[at][vt][It]=et[at][vt][It]||{},et[at][vt][It][Ot]=rt}return et}(Et.concat(fe))}return tt}var St=null;Object.defineProperty(this,"fontFaces",{get:function(){return St},set:function(Ne){tt=null,St=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var fe;if(this.ctx.font=Ne,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var Et=fe[1];fe[2];var mt=fe[3],et=fe[4];fe[5];var it=fe[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(et)[2];et=Math.floor(rt==="px"?parseFloat(et)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(et)*this.pdf.getFontSize():parseFloat(et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(et);var at=function(dt){var Ht,ut,Zn=[],Gt=dt.trim();if(Gt==="")return Zy;if(Gt in $A)return[$A[Gt]];for(;Gt!=="";){switch(ut=null,Ht=(Gt=YA(Gt)).charAt(0)){case'"':case"'":ut=sF(Gt.substring(1),Ht);break;default:ut=aF(Gt)}if(ut===null||(Zn.push(ut[0]),(Gt=YA(ut[1]))!==""&&Gt.charAt(0)!==","))return Zy;Gt=Gt.replace(/^,/,"")}return Zn}(it);if(this.fontFaces){var vt=rF(nt(this.pdf,this.fontFaces),at.map(function(dt){return{family:dt,stretch:"normal",weight:mt,style:Et}}));this.pdf.setFont(vt.ref.name,vt.ref.style)}else{var It="";(mt==="bold"||parseInt(mt,10)>=700||Et==="bold")&&(It="bold"),Et==="italic"&&(It+="italic"),It.length===0&&(It="normal");for(var Ot="",yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<at.length;pt++){if(this.pdf.internal.getFont(at[pt],It,{noFallback:!0,disableWarning:!0})!==void 0){Ot=at[pt];break}if(It==="bolditalic"&&this.pdf.internal.getFont(at[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ot=at[pt],It="bold";else if(this.pdf.internal.getFont(at[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ot=at[pt],It="normal";break}}if(Ot===""){for(var qt=0;qt<at.length;qt++)if(yt[at[qt]]){Ot=yt[at[qt]];break}}Ot=Ot===""?"Times":Ot,this.pdf.setFont(Ot,It)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};v.prototype.setLineDash=function(F){this.lineDash=F},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){Z.call(this,"fill",!1)},v.prototype.stroke=function(){Z.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(F,H){if(isNaN(F)||isNaN(H))throw ti.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(F,H)},v.prototype.closePath=function(){var F=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Wn(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){F=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},v.prototype.lineTo=function(F,H){if(isNaN(F)||isNaN(H))throw ti.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Z.call(this,null,!0)},v.prototype.quadraticCurveTo=function(F,H,ie,Q){if(isNaN(ie)||isNaN(Q)||isNaN(F)||isNaN(H))throw ti.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new o(ie,Q)),we=this.ctx.transform.applyToPoint(new o(F,H));this.path.push({type:"qct",x1:we.x,y1:we.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},v.prototype.bezierCurveTo=function(F,H,ie,Q,ue,we){if(isNaN(ue)||isNaN(we)||isNaN(F)||isNaN(H)||isNaN(ie)||isNaN(Q))throw ti.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new o(ue,we)),Ce=this.ctx.transform.applyToPoint(new o(F,H)),je=this.ctx.transform.applyToPoint(new o(ie,Q));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:je.x,y2:je.y,x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},v.prototype.arc=function(F,H,ie,Q,ue,we){if(isNaN(F)||isNaN(H)||isNaN(ie)||isNaN(Q)||isNaN(ue))throw ti.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new o(F,H));F=me.x,H=me.y;var Ce=this.ctx.transform.applyToPoint(new o(0,ie)),je=this.ctx.transform.applyToPoint(new o(0,0));ie=Math.sqrt(Math.pow(Ce.x-je.x,2)+Math.pow(Ce.y-je.y,2))}Math.abs(ue-Q)>=2*Math.PI&&(Q=0,ue=2*Math.PI),this.path.push({type:"arc",x:F,y:H,radius:ie,startAngle:Q,endAngle:ue,counterclockwise:we})},v.prototype.arcTo=function(F,H,ie,Q,ue){throw new Error("arcTo not implemented.")},v.prototype.rect=function(F,H,ie,Q){if(isNaN(F)||isNaN(H)||isNaN(ie)||isNaN(Q))throw ti.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,H),this.lineTo(F+ie,H),this.lineTo(F+ie,H+Q),this.lineTo(F,H+Q),this.lineTo(F,H),this.lineTo(F+ie,H),this.lineTo(F,H)},v.prototype.fillRect=function(F,H,ie,Q){if(isNaN(F)||isNaN(H)||isNaN(ie)||isNaN(Q))throw ti.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,H,ie,Q),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},v.prototype.strokeRect=function(F,H,ie,Q){if(isNaN(F)||isNaN(H)||isNaN(ie)||isNaN(Q))throw ti.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(F,H,ie,Q),this.stroke())},v.prototype.clearRect=function(F,H,ie,Q){if(isNaN(F)||isNaN(H)||isNaN(ie)||isNaN(Q))throw ti.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,H,ie,Q))},v.prototype.save=function(F){F=typeof F!="boolean"||F;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},v.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(H),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(F){var H,ie,Q,ue;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))H=0,ie=0,Q=0,ue=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(we!==null)H=parseInt(we[1]),ie=parseInt(we[2]),Q=parseInt(we[3]),ue=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)H=parseInt(we[1]),ie=parseInt(we[2]),Q=parseInt(we[3]),ue=parseFloat(we[4]);else{if(ue=1,typeof F=="string"&&F.charAt(0)!=="#"){var me=new i3(F);F=me.ok?me.toHex():"#000000"}F.length===4?(H=F.substring(1,2),H+=H,ie=F.substring(2,3),ie+=ie,Q=F.substring(3,4),Q+=Q):(H=F.substring(1,3),ie=F.substring(3,5),Q=F.substring(5,7)),H=parseInt(H,16),ie=parseInt(ie,16),Q=parseInt(Q,16)}}return{r:H,g:ie,b:Q,a:ue,style:F}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(F,H,ie,Q){if(isNaN(H)||isNaN(ie)||typeof F!="string")throw ti.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!b.call(this)){var ue=ce(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;M.call(this,{text:F,x:H,y:ie,scale:we,angle:ue,align:this.textAlign,maxWidth:Q})}},v.prototype.strokeText=function(F,H,ie,Q){if(isNaN(H)||isNaN(ie)||typeof F!="string")throw ti.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){Q=isNaN(Q)?void 0:Q;var ue=ce(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;M.call(this,{text:F,x:H,y:ie,scale:we,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:Q})}},v.prototype.measureText=function(F){if(typeof F!="string")throw ti.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,ie=this.pdf.internal.scaleFactor,Q=H.internal.getFontSize(),ue=H.getStringUnitWidth(F)*Q/H.internal.scaleFactor,we=function(me){var Ce=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this};return new we({width:ue*=Math.round(96*ie/72*1e4)/1e4})},v.prototype.scale=function(F,H){if(isNaN(F)||isNaN(H))throw ti.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new c(F,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},v.prototype.rotate=function(F){if(isNaN(F))throw ti.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new c(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},v.prototype.translate=function(F,H){if(isNaN(F)||isNaN(H))throw ti.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new c(1,0,0,1,F,H);this.ctx.transform=this.ctx.transform.multiply(ie)},v.prototype.transform=function(F,H,ie,Q,ue,we){if(isNaN(F)||isNaN(H)||isNaN(ie)||isNaN(Q)||isNaN(ue)||isNaN(we))throw ti.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new c(F,H,ie,Q,ue,we);this.ctx.transform=this.ctx.transform.multiply(me)},v.prototype.setTransform=function(F,H,ie,Q,ue,we){F=isNaN(F)?1:F,H=isNaN(H)?0:H,ie=isNaN(ie)?0:ie,Q=isNaN(Q)?1:Q,ue=isNaN(ue)?0:ue,we=isNaN(we)?0:we,this.ctx.transform=new c(F,H,ie,Q,ue,we)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(F,H,ie,Q,ue,we,me,Ce,je){var Ve=this.pdf.getImageProperties(F),tt=1,nt=1,St=1,Ne=1;Q!==void 0&&Ce!==void 0&&(St=Ce/Q,Ne=je/ue,tt=Ve.width/Q*Ce/Q,nt=Ve.height/ue*je/ue),we===void 0&&(we=H,me=ie,H=0,ie=0),Q!==void 0&&Ce===void 0&&(Ce=Q,je=ue),Q===void 0&&Ce===void 0&&(Ce=Ve.width,je=Ve.height);for(var fe,Et=this.ctx.transform.decompose(),mt=ce(Et.rotate.shx),et=new c,it=(et=(et=(et=et.multiply(Et.translate)).multiply(Et.skew)).multiply(Et.scale)).applyToRectangle(new u(we-H*St,me-ie*Ne,Q*tt,ue*nt)),rt=C.call(this,it),at=[],vt=0;vt<rt.length;vt+=1)at.indexOf(rt[vt])===-1&&at.push(rt[vt]);if(W(at),this.autoPaging)for(var It=at[0],Ot=at[at.length-1],yt=It;yt<Ot+1;yt++){this.pdf.setPage(yt);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=yt===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=yt===1?0:dt+(yt-2)*Ht;if(this.ctx.clip_path.length!==0){var Zn=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(fe,this.posX+this.margin[3],-ut+qt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Zn}var Gt=JSON.parse(JSON.stringify(it));Gt=j([Gt],this.posX+this.margin[3],-ut+qt+this.ctx.prevPageLastElemOffset)[0];var Ai=(yt>It||yt<Ot)&&T.call(this);Ai&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Ht,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,mt),Ai&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",it.x,it.y,it.w,it.h,null,null,mt)};var C=function(F,H,ie){var Q=[];H=H||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":Q.push(Math.floor((F.y+ue)/ie)+1);break;case"arc":Q.push(Math.floor((F.y+ue-F.radius)/ie)+1),Q.push(Math.floor((F.y+ue+F.radius)/ie)+1);break;case"qct":var we=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);Q.push(Math.floor((we.y+ue)/ie)+1),Q.push(Math.floor((we.y+we.h+ue)/ie)+1);break;case"bct":var me=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);Q.push(Math.floor((me.y+ue)/ie)+1),Q.push(Math.floor((me.y+me.h+ue)/ie)+1);break;case"rect":Q.push(Math.floor((F.y+ue)/ie)+1),Q.push(Math.floor((F.y+F.h+ue)/ie)+1)}for(var Ce=0;Ce<Q.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<Q[Ce];)I.call(this);return Q},I=function(){var F=this.fillStyle,H=this.strokeStyle,ie=this.font,Q=this.lineCap,ue=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=H,this.font=ie,this.lineCap=Q,this.lineWidth=ue,this.lineJoin=we},j=function(F,H,ie){for(var Q=0;Q<F.length;Q++)switch(F[Q].type){case"bct":F[Q].x2+=H,F[Q].y2+=ie;case"qct":F[Q].x1+=H,F[Q].y1+=ie;case"mt":case"lt":case"arc":default:F[Q].x+=H,F[Q].y+=ie}return F},W=function(F){return F.sort(function(H,ie){return H-ie})},Z=function(F,H){for(var ie,Q,ue=this.fillStyle,we=this.strokeStyle,me=this.lineCap,Ce=this.lineWidth,je=Math.abs(Ce*this.ctx.transform.scaleX),Ve=this.lineJoin,tt=JSON.parse(JSON.stringify(this.path)),nt=JSON.parse(JSON.stringify(this.path)),St=[],Ne=0;Ne<nt.length;Ne++)if(nt[Ne].x!==void 0)for(var fe=C.call(this,nt[Ne]),Et=0;Et<fe.length;Et+=1)St.indexOf(fe[Et])===-1&&St.push(fe[Et]);for(var mt=0;mt<St.length;mt++)for(;this.pdf.internal.getNumberOfPages()<St[mt];)I.call(this);if(W(St),this.autoPaging)for(var et=St[0],it=St[St.length-1],rt=et;rt<it+1;rt++){this.pdf.setPage(rt),this.fillStyle=ue,this.strokeStyle=we,this.lineCap=me,this.lineWidth=je,this.lineJoin=Ve;var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=rt===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=rt===1?0:It+(rt-2)*Ot;if(this.ctx.clip_path.length!==0){var pt=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(ie,this.posX+this.margin[3],-yt+vt+this.ctx.prevPageLastElemOffset),X.call(this,F,!0),this.path=pt}if(Q=JSON.parse(JSON.stringify(tt)),this.path=j(Q,this.posX+this.margin[3],-yt+vt+this.ctx.prevPageLastElemOffset),H===!1||rt===0){var qt=(rt>et||rt<it)&&T.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Ot,null).clip().discardPath()),X.call(this,F,H),qt&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}else this.lineWidth=je,X.call(this,F,H),this.lineWidth=Ce;this.path=tt},X=function(F,H){if((F!=="stroke"||H||!A.call(this))&&(F==="stroke"||H||!b.call(this))){for(var ie,Q,ue=[],we=this.path,me=0;me<we.length;me++){var Ce=we[me];switch(Ce.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:Ce,deltas:[],abs:[]});break;case"lt":var je=ue.length;if(we[me-1]&&!isNaN(we[me-1].x)&&(ie=[Ce.x-we[me-1].x,Ce.y-we[me-1].y],je>0)){for(;je>=0;je--)if(ue[je-1].close!==!0&&ue[je-1].begin!==!0){ue[je-1].deltas.push(ie),ue[je-1].abs.push(Ce);break}}break;case"bct":ie=[Ce.x1-we[me-1].x,Ce.y1-we[me-1].y,Ce.x2-we[me-1].x,Ce.y2-we[me-1].y,Ce.x-we[me-1].x,Ce.y-we[me-1].y],ue[ue.length-1].deltas.push(ie);break;case"qct":var Ve=we[me-1].x+2/3*(Ce.x1-we[me-1].x),tt=we[me-1].y+2/3*(Ce.y1-we[me-1].y),nt=Ce.x+2/3*(Ce.x1-Ce.x),St=Ce.y+2/3*(Ce.y1-Ce.y),Ne=Ce.x,fe=Ce.y;ie=[Ve-we[me-1].x,tt-we[me-1].y,nt-we[me-1].x,St-we[me-1].y,Ne-we[me-1].x,fe-we[me-1].y],ue[ue.length-1].deltas.push(ie);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(Ce)}}Q=H?null:F==="stroke"?"stroke":"fill";for(var Et=!1,mt=0;mt<ue.length;mt++)if(ue[mt].arc)for(var et=ue[mt].abs,it=0;it<et.length;it++){var rt=et[it];rt.type==="arc"?N.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,H,!Et):V.call(this,rt.x,rt.y),Et=!0}else if(ue[mt].close===!0)this.pdf.internal.out("h"),Et=!1;else if(ue[mt].begin!==!0){var at=ue[mt].start.x,vt=ue[mt].start.y;oe.call(this,ue[mt].deltas,at,vt),Et=!0}Q&&O.call(this,Q),H&&G.call(this)}},se=function(F){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-ie;case"top":return F+H-ie;case"hanging":return F+H-2*ie;case"middle":return F+H/2-ie;case"ideographic":return F;case"alphabetic":default:return F}},B=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(H,ie){this.colorStops.push([H,ie])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(F,H,ie,Q,ue,we,me,Ce,je){for(var Ve=re.call(this,ie,Q,ue,we),tt=0;tt<Ve.length;tt++){var nt=Ve[tt];tt===0&&(je?k.call(this,nt.x1+F,nt.y1+H):V.call(this,nt.x1+F,nt.y1+H)),pe.call(this,F,H,nt.x2,nt.y2,nt.x3,nt.y3,nt.x4,nt.y4)}Ce?G.call(this):O.call(this,me)},O=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(F,H){this.pdf.internal.out(t(F)+" "+i(H)+" m")},M=function(F){var H;switch(F.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var ie=this.pdf.getTextDimensions(F.text),Q=se.call(this,F.y),ue=B.call(this,Q)-ie.h,we=this.ctx.transform.applyToPoint(new o(F.x,Q)),me=this.ctx.transform.decompose(),Ce=new c;Ce=(Ce=(Ce=Ce.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var je,Ve,tt,nt=this.ctx.transform.applyToRectangle(new u(F.x,Q,ie.w,ie.h)),St=Ce.applyToRectangle(new u(F.x,ue,ie.w,ie.h)),Ne=C.call(this,St),fe=[],Et=0;Et<Ne.length;Et+=1)fe.indexOf(Ne[Et])===-1&&fe.push(Ne[Et]);if(W(fe),this.autoPaging)for(var mt=fe[0],et=fe[fe.length-1],it=mt;it<et+1;it++){this.pdf.setPage(it);var rt=it===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],It=vt-this.margin[0],Ot=this.pdf.internal.pageSize.width-this.margin[1],yt=Ot-this.margin[3],pt=it===1?0:at+(it-2)*It;if(this.ctx.clip_path.length!==0){var qt=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(je,this.posX+this.margin[3],-1*pt+rt),X.call(this,"fill",!0),this.path=qt}var dt=j([JSON.parse(JSON.stringify(St))],this.posX+this.margin[3],-pt+rt+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*F.scale),tt=this.lineWidth,this.lineWidth=tt*F.scale);var Ht=this.autoPaging!=="text";if(Ht||dt.y+dt.h<=vt){if(Ht||dt.y>=rt&&dt.x<=Ot){var ut=Ht?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Ot-dt.x)[0],Zn=j([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-pt+rt+this.ctx.prevPageLastElemOffset)[0],Gt=Ht&&(it>mt||it<et)&&T.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,It,null).clip().discardPath()),this.pdf.text(ut,Zn.x,Zn.y,{angle:F.angle,align:H,renderingMode:F.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else dt.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-dt.y);F.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=tt)}else F.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*F.scale),tt=this.lineWidth,this.lineWidth=tt*F.scale),this.pdf.text(F.text,we.x+this.posX,we.y+this.posY,{angle:F.angle,align:H,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=tt)},V=function(F,H,ie,Q){ie=ie||0,Q=Q||0,this.pdf.internal.out(t(F+ie)+" "+i(H+Q)+" l")},oe=function(F,H,ie){return this.pdf.lines(F,H,ie,null,null)},pe=function(F,H,ie,Q,ue,we,me,Ce){this.pdf.internal.out([e(r(ie+F)),e(s(Q+H)),e(r(ue+F)),e(s(we+H)),e(r(me+F)),e(s(Ce+H)),"c"].join(" "))},re=function(F,H,ie,Q){for(var ue=2*Math.PI,we=Math.PI/2;H>ie;)H-=ue;var me=Math.abs(ie-H);me<ue&&Q&&(me=ue-me);for(var Ce=[],je=Q?-1:1,Ve=H;me>1e-5;){var tt=Ve+je*Math.min(me,we);Ce.push(he.call(this,F,Ve,tt)),me-=Math.abs(tt-Ve),Ve=tt}return Ce},he=function(F,H,ie){var Q=(ie-H)/2,ue=F*Math.cos(Q),we=F*Math.sin(Q),me=ue,Ce=-we,je=me*me+Ce*Ce,Ve=je+me*ue+Ce*we,tt=4/3*(Math.sqrt(2*je*Ve)-Ve)/(me*we-Ce*ue),nt=me-tt*Ce,St=Ce+tt*me,Ne=nt,fe=-St,Et=Q+H,mt=Math.cos(Et),et=Math.sin(Et);return{x1:F*Math.cos(H),y1:F*Math.sin(H),x2:nt*mt-St*et,y2:nt*et+St*mt,x3:Ne*mt-fe*et,y3:Ne*et+fe*mt,x4:F*Math.cos(ie),y4:F*Math.sin(ie)}},ce=function(F){return 180*F/Math.PI},Se=function(F,H,ie,Q,ue,we){var me=F+.5*(ie-F),Ce=H+.5*(Q-H),je=ue+.5*(ie-ue),Ve=we+.5*(Q-we),tt=Math.min(F,ue,me,je),nt=Math.max(F,ue,me,je),St=Math.min(H,we,Ce,Ve),Ne=Math.max(H,we,Ce,Ve);return new u(tt,St,nt-tt,Ne-St)},K=function(F,H,ie,Q,ue,we,me,Ce){var je,Ve,tt,nt,St,Ne,fe,Et,mt,et,it,rt,at,vt,It=ie-F,Ot=Q-H,yt=ue-ie,pt=we-Q,qt=me-ue,dt=Ce-we;for(Ve=0;Ve<41;Ve++)mt=(fe=(tt=F+(je=Ve/40)*It)+je*((St=ie+je*yt)-tt))+je*(St+je*(ue+je*qt-St)-fe),et=(Et=(nt=H+je*Ot)+je*((Ne=Q+je*pt)-nt))+je*(Ne+je*(we+je*dt-Ne)-Et),Ve==0?(it=mt,rt=et,at=mt,vt=et):(it=Math.min(it,mt),rt=Math.min(rt,et),at=Math.max(at,mt),vt=Math.max(vt,et));return new u(Math.round(it),Math.round(rt),Math.round(at-it),Math.round(vt-rt))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,H,ie=(F=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:H}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(Mt.API),function(n){var e=function(s){var o,u,c,f,p,v,w,b,A,T;for(u=[],c=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>c;c+=4)(p=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(v=(p=((p=((p=((p=(p-(T=p%85))/85)-(A=p%85))/85)-(b=p%85))/85)-(w=p%85))/85)%85,u.push(v+33,w+33,b+33,A+33,T+33)):u.push(122);return function(C,I){for(var j=I;j>0;j--)C.pop()}(u,o.length),String.fromCharCode.apply(String,u)+"~>"},t=function(s){var o,u,c,f,p,v=String,w="length",b=255,A="charCodeAt",T="slice",C="replace";for(s[T](-2),s=s[T](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),c=[],f=0,p=(s+=o="uuuuu"[T](s[w]%5||5))[w];p>f;f+=5)u=52200625*(s[A](f)-33)+614125*(s[A](f+1)-33)+7225*(s[A](f+2)-33)+85*(s[A](f+3)-33)+(s[A](f+4)-33),c.push(b&u>>24,b&u>>16,b&u>>8,b&u);return function(I,j){for(var W=j;W>0;W--)I.pop()}(c,o[w]),v.fromCharCode.apply(v,c)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var u="",c=0;c<s.length;c+=2)u+=String.fromCharCode("0x"+(s[c]+s[c+1]));return u},r=function(s){for(var o=new Uint8Array(s.length),u=s.length;u--;)o[u]=s.charCodeAt(u);return s=(o=G1(o)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};n.processDataByFilters=function(s,o){var u=0,c=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=r(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}}(Mt.API),function(n){n.loadFile=function(e,t,i){return function(r,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=function(c,f,p){var v=new XMLHttpRequest,w=0,b=function(A){var T=A.length,C=[],I=String.fromCharCode;for(w=0;w<T;w+=1)C.push(I(255&A.charCodeAt(w)));return C.join("")};if(v.open("GET",c,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?p(b(this.responseText)):p(void 0)}),v.send(null),f&&v.status===200)return b(v.responseText)}(r,s,o)}catch{}return u}(e,t,i)},n.loadImageFile=n.loadFile}(Mt.API),function(n){function e(){return(jt.html2canvas?Promise.resolve(jt.html2canvas):F1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(jt.DOMPurify?Promise.resolve(jt.DOMPurify):F1(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var u=Wn(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},r=function(o,u){var c=document.createElement(o);for(var f in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[f]=u.style[f];return c},s=function o(u){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),c);return f=(f=f.setProgress(1,o,1,[o])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,u){return o.__proto__=u||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,u){return this.then(function(){switch(u=u||function(c){switch(i(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(c){return this.set({src:r("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(f,p){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)p!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||v.appendChild(c(w,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(u){var c=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var w=0;w<f.length;++w){var b=f[w],A=b.src.find(function(T){return T.format==="truetype"});A&&c.addFont(A.url,b.ref.name,b.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,c.context2d.save(!0),u(this.prop.container,v)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},s.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var u=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(o,u){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return u?u(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function u(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(o=o||Mt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,u,c,f){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,u,c,f){return this.setProgress(o?this.progress.val+o:null,u||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,u){var c=this;return this.thenCore(o,u,function(f,p){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return c.updateProgress(null,f),v}).then(f,p).then(function(v){return c.updateProgress(1),v})})},s.prototype.thenCore=function(o,u,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),u&&(u=u.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=c.call(f,o,u);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},s.prototype.thenList=function(o){var u=this;return o.forEach(function(c){u=u.thenCore(c)}),u},s.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return s.convert(u,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Mt.getPageSize=function(o,u,c){if(Wn(o)==="object"){var f=o;o=f.orientation,u=f.unit||u,c=f.format||c}u=u||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var p,v=(""+c).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+u}var b,A=0,T=0;if(w.hasOwnProperty(v))A=w[v][1]/p,T=w[v][0]/p;else try{A=c[1],T=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",T>A&&(b=T,T=A,A=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",A>T&&(b=T,T=A,A=b)}return{width:T,height:A,unit:u,k:p,orientation:o}},n.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Q1):null;var c=new s(u);return u.worker?c:c.from(o).doCallback()}}(Mt.API),Mt.API.addJS=function(n){return QA=n,this.internal.events.subscribe("postPutResources",function(){dm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(dm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),XA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+QA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){dm!==void 0&&XA!==void 0&&this.internal.out("/Names <</JavaScript "+dm+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],u=i.exec(o);if(u!=null){var c=u[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(s=0;s<f;s++){var v=t.internal.newObject();p.push(v);var w=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<p.length;s++)t.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var c=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(Mt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,r,s,o,u){var c,f=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(v){for(var w,b=256*v.charCodeAt(4)+v.charCodeAt(5),A=v.length,T={width:0,height:0,numcomponents:1},C=4;C<A;C+=2){if(C+=b,e.indexOf(v.charCodeAt(C+1))!==-1){w=256*v.charCodeAt(C+5)+v.charCodeAt(C+6),T={width:256*v.charCodeAt(C+7)+v.charCodeAt(C+8),height:w,numcomponents:v.charCodeAt(C+9)};break}b=256*v.charCodeAt(C+2)+v.charCodeAt(C+3)}return T}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:t,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:f,index:i,alias:r}}return p}}(Mt.API);var tf,pm,ZA,JA,ex,oF=function(){var n,e,t;function i(s){var o,u,c,f,p,v,w,b,A,T,C,I,j,W;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(o=this.readUInt32(),A=(function(){var Z,X;for(X=[],Z=0;Z<4;++Z)X.push(String.fromCharCode(this.data[this.pos++]));return X}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,v.delay=1e3*p/f,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(A==="fdAT"&&(this.pos+=4,o-=4),s=(v!=null?v.data:void 0)||this.imgData,I=0;0<=o?I<o:I>o;0<=o?++I:--I)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((T=c-this.transparency.indexed.length)>0)for(j=0;0<=T?j<T:j>T;0<=T?++j:--j)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":w=(C=this.read(o)).indexOf(0),b=String.fromCharCode.apply(String,C.slice(0,w)),this.text[b]=String.fromCharCode.apply(String,C.slice(w+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(W=this.colorType)===4||W===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,u;for(u=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*o),c=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(v,w,b,A){var T,C,I,j,W,Z,X,se,B,N,O,G,k,M,V,oe,pe,re,he,ce,Se,K=Math.ceil((f.width-v)/b),ve=Math.ceil((f.height-w)/A),F=f.width==K&&f.height==ve;for(M=o*K,G=F?u:new Uint8Array(M*ve),Z=s.length,k=0,C=0;k<ve&&c<Z;){switch(s[c++]){case 0:for(j=pe=0;pe<M;j=pe+=1)G[C++]=s[c++];break;case 1:for(j=re=0;re<M;j=re+=1)T=s[c++],W=j<o?0:G[C-o],G[C++]=(T+W)%256;break;case 2:for(j=he=0;he<M;j=he+=1)T=s[c++],I=(j-j%o)/o,V=k&&G[(k-1)*M+I*o+j%o],G[C++]=(V+T)%256;break;case 3:for(j=ce=0;ce<M;j=ce+=1)T=s[c++],I=(j-j%o)/o,W=j<o?0:G[C-o],V=k&&G[(k-1)*M+I*o+j%o],G[C++]=(T+Math.floor((W+V)/2))%256;break;case 4:for(j=Se=0;Se<M;j=Se+=1)T=s[c++],I=(j-j%o)/o,W=j<o?0:G[C-o],k===0?V=oe=0:(V=G[(k-1)*M+I*o+j%o],oe=I&&G[(k-1)*M+(I-1)*o+j%o]),X=W+V-oe,se=Math.abs(X-W),N=Math.abs(X-V),O=Math.abs(X-oe),B=se<=N&&se<=O?W:N<=O?V:oe,G[C++]=(T+B)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!F){var H=((w+k*A)*f.width+v)*o,ie=k*M;for(j=0;j<K;j+=1){for(var Q=0;Q<o;Q+=1)u[H++]=G[ie++];H+=(b-1)*o}}k++}}return s=VV(s),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),u},i.prototype.decodePalette=function(){var s,o,u,c,f,p,v,w,b;for(u=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+u.length),c=0,s=0,o=v=0,w=u.length;v<w;o=v+=3)f[c++]=u[o],f[c++]=u[o+1],f[c++]=u[o+2],f[c++]=(b=p[s++])!=null?b:255;return f},i.prototype.copyToImageData=function(s,o){var u,c,f,p,v,w,b,A,T,C,I;if(c=this.colors,T=null,u=this.hasAlphaChannel,this.palette.length&&(T=(I=this._decodedPalette)!=null?I:this._decodedPalette=this.decodePalette(),c=4,u=!0),A=(f=s.data||s).length,v=T||o,p=w=0,c===1)for(;p<A;)b=T?4*o[p/4]:w,C=v[b++],f[p++]=C,f[p++]=C,f[p++]=C,f[p++]=u?v[b++]:255,w=b;else for(;p<A;)b=T?4*o[p/4]:w,f[p++]=v[b++],f[p++]=v[b++],f[p++]=v[b++],f[p++]=u?v[b++]:255,w=b},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if(Object.prototype.toString.call(jt)==="[object Window]"){try{e=jt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var o;if(r()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,u,c,f,p,v,w,b;if(this.animation){for(b=[],u=p=0,v=(w=this.animation.frames).length;p<v;u=++p)o=w[u],c=s.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,f),o.imageData=c,b.push(o.image=n(c));return b}},i.prototype.renderFrame=function(s,o){var u,c,f;return u=(c=this.animation.frames)[o],f=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),u.blendOp===0&&s.clearRect(u.xOffset,u.yOffset,u.width,u.height),s.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(s){var o,u,c,f,p,v,w=this;return u=0,v=this.animation,f=v.numFrames,c=v.frames,p=v.numPlays,(o=function(){var b,A;if(b=u++%f,A=c[b],w.renderFrame(s,b),f>1&&u/f<p)return w.animation._timeout=setTimeout(o,A.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},i.prototype.render=function(s){var o,u;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(u=o.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),o.putImageData(u,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function lF(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,r=n[e++],s=r>>7,o=1<<(7&r)+1;n[e++],n[e++];var u=null,c=null;s&&(u=e,c=o,e+=3*o);var f=!0,p=[],v=0,w=null,b=0,A=null;for(this.width=t,this.height=i;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,A=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var T=n[e++];v=n[e++]|n[e++]<<8,w=n[e++],(1&T)==0&&(w=null),b=T>>2&7,e++;break;case 254:for(;;){if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var C=n[e++]|n[e++]<<8,I=n[e++]|n[e++]<<8,j=n[e++]|n[e++]<<8,W=n[e++]|n[e++]<<8,Z=n[e++],X=Z>>6&1,se=1<<(7&Z)+1,B=u,N=c,O=!1;Z>>7&&(O=!0,B=e,N=se,e+=3*se);var G=e;for(e++;;){var k;if(!((k=n[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}p.push({x:C,y:I,width:j,height:W,has_local_palette:O,palette_offset:B,palette_size:N,data_offset:G,data_length:e-G,transparent_index:w,interlaced:!!X,delay:v,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return A},this.frameInfo=function(M){if(M<0||M>=p.length)throw new Error("Frame index out of range.");return p[M]},this.decodeAndBlitFrameBGRA=function(M,V){var oe=this.frameInfo(M),pe=oe.width*oe.height,re=new Uint8Array(pe);tx(n,oe.data_offset,re,pe);var he=oe.palette_offset,ce=oe.transparent_index;ce===null&&(ce=256);var Se=oe.width,K=t-Se,ve=Se,F=4*(oe.y*t+oe.x),H=4*((oe.y+oe.height)*t+oe.x),ie=F,Q=4*K;oe.interlaced===!0&&(Q+=4*t*7);for(var ue=8,we=0,me=re.length;we<me;++we){var Ce=re[we];if(ve===0&&(ve=Se,(ie+=Q)>=H&&(Q=4*K+4*t*(ue-1),ie=F+(Se+K)*(ue<<1),ue>>=1)),Ce===ce)ie+=4;else{var je=n[he+3*Ce],Ve=n[he+3*Ce+1],tt=n[he+3*Ce+2];V[ie++]=tt,V[ie++]=Ve,V[ie++]=je,V[ie++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(M,V){var oe=this.frameInfo(M),pe=oe.width*oe.height,re=new Uint8Array(pe);tx(n,oe.data_offset,re,pe);var he=oe.palette_offset,ce=oe.transparent_index;ce===null&&(ce=256);var Se=oe.width,K=t-Se,ve=Se,F=4*(oe.y*t+oe.x),H=4*((oe.y+oe.height)*t+oe.x),ie=F,Q=4*K;oe.interlaced===!0&&(Q+=4*t*7);for(var ue=8,we=0,me=re.length;we<me;++we){var Ce=re[we];if(ve===0&&(ve=Se,(ie+=Q)>=H&&(Q=4*K+4*t*(ue-1),ie=F+(Se+K)*(ue<<1),ue>>=1)),Ce===ce)ie+=4;else{var je=n[he+3*Ce],Ve=n[he+3*Ce+1],tt=n[he+3*Ce+2];V[ie++]=je,V[ie++]=Ve,V[ie++]=tt,V[ie++]=255}--ve}}}function tx(n,e,t,i){for(var r=n[e++],s=1<<r,o=s+1,u=o+1,c=r+1,f=(1<<c)-1,p=0,v=0,w=0,b=n[e++],A=new Int32Array(4096),T=null;;){for(;p<16&&b!==0;)v|=n[e++]<<p,p+=8,b===1?b=n[e++]:--b;if(p<c)break;var C=v&f;if(v>>=c,p-=c,C!==s){if(C===o)break;for(var I=C<u?C:T,j=0,W=I;W>s;)W=A[W]>>8,++j;var Z=W;if(w+j+(I!==C?1:0)>i)return void ti.log("Warning, gif stream longer than expected.");t[w++]=Z;var X=w+=j;for(I!==C&&(t[w++]=Z),W=I;j--;)W=A[W],t[--X]=255&W,W>>=8;T!==null&&u<4096&&(A[u++]=T<<8|Z,u>=f+1&&c<12&&(++c,f=f<<1|1)),T=C}else u=o+1,f=(1<<(c=r+1))-1,T=null}return w!==i&&ti.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Jy(n){var e,t,i,r,s,o=Math.floor,u=new Array(64),c=new Array(64),f=new Array(64),p=new Array(64),v=new Array(65535),w=new Array(65535),b=new Array(64),A=new Array(64),T=[],C=0,I=7,j=new Array(64),W=new Array(64),Z=new Array(64),X=new Array(256),se=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(F,H){for(var ie=0,Q=0,ue=new Array,we=1;we<=16;we++){for(var me=1;me<=F[we];me++)ue[H[Q]]=[],ue[H[Q]][0]=ie,ue[H[Q]][1]=we,Q++,ie++;ie*=2}return ue}function he(F){for(var H=F[0],ie=F[1]-1;ie>=0;)H&1<<ie&&(C|=1<<I),ie--,--I<0&&(C==255?(ce(255),ce(0)):ce(C),I=7,C=0)}function ce(F){T.push(F)}function Se(F){ce(F>>8&255),ce(255&F)}function K(F,H,ie,Q,ue){for(var we,me=ue[0],Ce=ue[240],je=function(et,it){var rt,at,vt,It,Ot,yt,pt,qt,dt,Ht,ut=0;for(dt=0;dt<8;++dt){rt=et[ut],at=et[ut+1],vt=et[ut+2],It=et[ut+3],Ot=et[ut+4],yt=et[ut+5],pt=et[ut+6];var Zn=rt+(qt=et[ut+7]),Gt=rt-qt,Ai=at+pt,$t=at-pt,vn=vt+yt,mi=vt-yt,tn=It+Ot,pr=It-Ot,Mn=Zn+tn,ci=Zn-tn,xi=Ai+vn,Sn=Ai-vn;et[ut]=Mn+xi,et[ut+4]=Mn-xi;var At=.707106781*(Sn+ci);et[ut+2]=ci+At,et[ut+6]=ci-At;var Xt=.382683433*((Mn=pr+mi)-(Sn=$t+Gt)),rr=.5411961*Mn+Xt,Vn=1.306562965*Sn+Xt,Li=.707106781*(xi=mi+$t),Lr=Gt+Li,ct=Gt-Li;et[ut+5]=ct+rr,et[ut+3]=ct-rr,et[ut+1]=Lr+Vn,et[ut+7]=Lr-Vn,ut+=8}for(ut=0,dt=0;dt<8;++dt){rt=et[ut],at=et[ut+8],vt=et[ut+16],It=et[ut+24],Ot=et[ut+32],yt=et[ut+40],pt=et[ut+48];var ht=rt+(qt=et[ut+56]),On=rt-qt,Jn=at+pt,si=at-pt,hi=vt+yt,Ti=vt-yt,Da=It+Ot,Tr=It-Ot,Xi=ht+Da,Di=ht-Da,Ci=Jn+hi,ji=Jn-hi;et[ut]=Xi+Ci,et[ut+32]=Xi-Ci;var $n=.707106781*(ji+Di);et[ut+16]=Di+$n,et[ut+48]=Di-$n;var xn=.382683433*((Xi=Tr+Ti)-(ji=si+On)),Ds=.5411961*Xi+xn,js=1.306562965*ji+xn,gr=.707106781*(Ci=Ti+si),Vr=On+gr,ja=On-gr;et[ut+40]=ja+Ds,et[ut+24]=ja-Ds,et[ut+8]=Vr+js,et[ut+56]=Vr-js,ut++}for(dt=0;dt<64;++dt)Ht=et[dt]*it[dt],b[dt]=Ht>0?Ht+.5|0:Ht-.5|0;return b}(F,H),Ve=0;Ve<64;++Ve)A[B[Ve]]=je[Ve];var tt=A[0]-ie;ie=A[0],tt==0?he(Q[0]):(he(Q[w[we=32767+tt]]),he(v[we]));for(var nt=63;nt>0&&A[nt]==0;)nt--;if(nt==0)return he(me),ie;for(var St,Ne=1;Ne<=nt;){for(var fe=Ne;A[Ne]==0&&Ne<=nt;)++Ne;var Et=Ne-fe;if(Et>=16){St=Et>>4;for(var mt=1;mt<=St;++mt)he(Ce);Et&=15}we=32767+A[Ne],he(ue[(Et<<4)+w[we]]),he(v[we]),Ne++}return nt!=63&&he(me),ie}function ve(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(H){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ue=o((ie[Q]*H+50)/100);ue=Math.min(Math.max(ue,1),255),u[B[Q]]=ue}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var Ce=o((we[me]*H+50)/100);Ce=Math.min(Math.max(Ce,1),255),c[B[me]]=Ce}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,tt=0;tt<8;tt++)for(var nt=0;nt<8;nt++)f[Ve]=1/(u[B[Ve]]*je[tt]*je[nt]*8),p[Ve]=1/(c[B[Ve]]*je[tt]*je[nt]*8),Ve++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,H){H&&ve(H),T=new Array,C=0,I=7,Se(65496),Se(65504),Se(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),Se(1),Se(1),ce(0),ce(0),function(){Se(65499),Se(132),ce(0);for(var at=0;at<64;at++)ce(u[at]);ce(1);for(var vt=0;vt<64;vt++)ce(c[vt])}(),function(at,vt){Se(65472),Se(17),ce(8),Se(vt),Se(at),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)}(F.width,F.height),function(){Se(65476),Se(418),ce(0);for(var at=0;at<16;at++)ce(N[at+1]);for(var vt=0;vt<=11;vt++)ce(O[vt]);ce(16);for(var It=0;It<16;It++)ce(G[It+1]);for(var Ot=0;Ot<=161;Ot++)ce(k[Ot]);ce(1);for(var yt=0;yt<16;yt++)ce(M[yt+1]);for(var pt=0;pt<=11;pt++)ce(V[pt]);ce(17);for(var qt=0;qt<16;qt++)ce(oe[qt+1]);for(var dt=0;dt<=161;dt++)ce(pe[dt])}(),Se(65498),Se(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var ie=0,Q=0,ue=0;C=0,I=7,this.encode.displayName="_encode_";for(var we,me,Ce,je,Ve,tt,nt,St,Ne,fe=F.data,Et=F.width,mt=F.height,et=4*Et,it=0;it<mt;){for(we=0;we<et;){for(Ve=et*it+we,nt=-1,St=0,Ne=0;Ne<64;Ne++)tt=Ve+(St=Ne>>3)*et+(nt=4*(7&Ne)),it+St>=mt&&(tt-=et*(it+1+St-mt)),we+nt>=et&&(tt-=we+nt-et+4),me=fe[tt++],Ce=fe[tt++],je=fe[tt++],j[Ne]=(se[me]+se[Ce+256>>0]+se[je+512>>0]>>16)-128,W[Ne]=(se[me+768>>0]+se[Ce+1024>>0]+se[je+1280>>0]>>16)-128,Z[Ne]=(se[me+1280>>0]+se[Ce+1536>>0]+se[je+1792>>0]>>16)-128;ie=K(j,f,ie,e,i),Q=K(W,p,Q,t,r),ue=K(Z,p,ue,t,r),we+=32}it+=8}if(I>=0){var rt=[];rt[1]=I+1,rt[0]=(1<<I+1)-1,he(rt)}return Se(65497),new Uint8Array(T)},n=n||50,function(){for(var F=String.fromCharCode,H=0;H<256;H++)X[H]=F(H)}(),e=re(N,O),t=re(M,V),i=re(G,k),r=re(oe,pe),function(){for(var F=1,H=2,ie=1;ie<=15;ie++){for(var Q=F;Q<H;Q++)w[32767+Q]=ie,v[32767+Q]=[],v[32767+Q][1]=ie,v[32767+Q][0]=Q;for(var ue=-(H-1);ue<=-F;ue++)w[32767+ue]=ie,v[32767+ue]=[],v[32767+ue][1]=ie,v[32767+ue][0]=H-1+ue;F<<=1,H<<=1}}(),function(){for(var F=0;F<256;F++)se[F]=19595*F,se[F+256>>0]=38470*F,se[F+512>>0]=7471*F+32768,se[F+768>>0]=-11059*F,se[F+1024>>0]=-21709*F,se[F+1280>>0]=32768*F+8421375,se[F+1536>>0]=-27439*F,se[F+1792>>0]=-5329*F}(),ve(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function uo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function nx(n){function e(N){if(!N)throw Error("assert :P")}function t(N,O,G){for(var k=0;4>k;k++)if(N[O+k]!=G.charCodeAt(k))return!0;return!1}function i(N,O,G,k,M){for(var V=0;V<M;V++)N[O+V]=G[k+V]}function r(N,O,G,k){for(var M=0;M<k;M++)N[O+M]=G}function s(N){return new Int32Array(N)}function o(N,O){for(var G=[],k=0;k<N;k++)G.push(new O);return G}function u(N,O){var G=[];return function k(M,V,oe){for(var pe=oe[V],re=0;re<pe&&(M.push(oe.length>V+1?[]:new O),!(oe.length<V+1));re++)k(M[re],V+1,oe)}(G,0,N),G}var c=function(){var N=this;function O(g,_){for(var x=1<<_-1>>>0;g&x;)x>>>=1;return x?(g&x-1)+x:g}function G(g,_,x,P,z){e(!(P%x));do g[_+(P-=x)]=z;while(0<P)}function k(g,_,x,P,z){if(e(2328>=z),512>=z)var $=s(512);else if(($=s(z))==null)return 0;return function(Y,J,ne,ae,ye,ke){var Ie,Le,We=J,Be=1<<ne,be=s(16),Ee=s(16);for(e(ye!=0),e(ae!=null),e(Y!=null),e(0<ne),Le=0;Le<ye;++Le){if(15<ae[Le])return 0;++be[ae[Le]]}if(be[0]==ye)return 0;for(Ee[1]=0,Ie=1;15>Ie;++Ie){if(be[Ie]>1<<Ie)return 0;Ee[Ie+1]=Ee[Ie]+be[Ie]}for(Le=0;Le<ye;++Le)Ie=ae[Le],0<ae[Le]&&(ke[Ee[Ie]++]=Le);if(Ee[15]==1)return(ae=new M).g=0,ae.value=ke[0],G(Y,We,1,Be,ae),Be;var Ue,$e=-1,He=Be-1,ft=0,st=1,xt=1,lt=1<<ne;for(Le=0,Ie=1,ye=2;Ie<=ne;++Ie,ye<<=1){if(st+=xt<<=1,0>(xt-=be[Ie]))return 0;for(;0<be[Ie];--be[Ie])(ae=new M).g=Ie,ae.value=ke[Le++],G(Y,We+ft,ye,lt,ae),ft=O(ft,Ie)}for(Ie=ne+1,ye=2;15>=Ie;++Ie,ye<<=1){if(st+=xt<<=1,0>(xt-=be[Ie]))return 0;for(;0<be[Ie];--be[Ie]){if(ae=new M,(ft&He)!=$e){for(We+=lt,Ue=1<<($e=Ie)-ne;15>$e&&!(0>=(Ue-=be[$e]));)++$e,Ue<<=1;Be+=lt=1<<(Ue=$e-ne),Y[J+($e=ft&He)].g=Ue+ne,Y[J+$e].value=We-J-$e}ae.g=Ie-ne,ae.value=ke[Le++],G(Y,We+(ft>>ne),ye,lt,ae),ft=O(ft,Ie)}}return st!=2*Ee[15]-1?0:Be}(g,_,x,P,z,$)}function M(){this.value=this.g=0}function V(){this.value=this.g=0}function oe(){this.G=o(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Vi,V)}function pe(g,_,x,P){e(g!=null),e(_!=null),e(2147483648>P),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=x,g.Jd=_,g.Yc=x+P,g.Zc=4<=P?x+P-4+1:x,we(g)}function re(g,_){for(var x=0;0<_--;)x|=Ce(g,128)<<_;return x}function he(g,_){var x=re(g,_);return me(g)?-x:x}function ce(g,_,x,P){var z,$=0;for(e(g!=null),e(_!=null),e(4294967288>P),g.Sb=P,g.Ra=0,g.u=0,g.h=0,4<P&&(P=4),z=0;z<P;++z)$+=_[x+z]<<8*z;g.Ra=$,g.bb=P,g.oa=_,g.pa=x}function Se(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Tl-8>>>0,++g.bb,g.u-=8;ie(g)&&(g.h=1,g.u=0)}function K(g,_){if(e(0<=_),!g.h&&_<=Ll){var x=H(g)&Ro[_];return g.u+=_,Se(g),x}return g.h=1,g.u=0}function ve(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(g){return g.Ra>>>(g.u&Tl-1)>>>0}function ie(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Tl}function Q(g,_){g.u=_,g.h=ie(g)}function ue(g){g.u>=mu&&(e(g.u>=mu),Se(g))}function we(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function me(g){return re(g,1)}function Ce(g,_){var x=g.Ca;0>g.b&&we(g);var P=g.b,z=x*_>>>8,$=(g.I>>>P>z)+0;for($?(x-=z,g.I-=z+1<<P>>>0):x=z+1,P=x,z=0;256<=P;)z+=8,P>>=8;return P=7^z+Gr[P],g.b-=P,g.Ca=(x<<P)-1,$}function je(g,_,x){g[_+0]=x>>24&255,g[_+1]=x>>16&255,g[_+2]=x>>8&255,g[_+3]=x>>0&255}function Ve(g,_){return g[_+0]<<0|g[_+1]<<8}function tt(g,_){return Ve(g,_)|g[_+2]<<16}function nt(g,_){return Ve(g,_)|Ve(g,_+2)<<16}function St(g,_){var x=1<<_;return e(g!=null),e(0<_),g.X=s(x),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function Ne(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),i(_.X,0,g.X,0,1<<_.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function Et(g,_,x,P){e(x!=null),e(P!=null);var z=x[0],$=P[0];return z==0&&(z=(g*$+_/2)/_),$==0&&($=(_*z+g/2)/g),0>=z||0>=$?0:(x[0]=z,P[0]=$,1)}function mt(g,_){return g+(1<<_)-1>>>_}function et(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function it(g,_){N[_]=function(x,P,z,$,Y,J,ne){var ae;for(ae=0;ae<Y;++ae){var ye=N[g](J[ne+ae-1],z,$+ae);J[ne+ae]=et(x[P+ae],ye)}}}function rt(){this.ud=this.hd=this.jd=0}function at(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function vt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function It(g,_){return vt(g+(g-_+.5>>1))}function Ot(g,_,x){return Math.abs(_-x)-Math.abs(g-x)}function yt(g,_,x,P,z,$,Y){for(P=$[Y-1],x=0;x<z;++x)$[Y+x]=P=et(g[_+x],P)}function pt(g,_,x,P,z){var $;for($=0;$<x;++$){var Y=g[_+$],J=Y>>8&255,ne=16711935&(ne=(ne=16711935&Y)+((J<<16)+J));P[z+$]=(4278255360&Y)+ne>>>0}}function qt(g,_){_.jd=g>>0&255,_.hd=g>>8&255,_.ud=g>>16&255}function dt(g,_,x,P,z,$){var Y;for(Y=0;Y<P;++Y){var J=_[x+Y],ne=J>>>8,ae=J,ye=255&(ye=(ye=J>>>16)+((g.jd<<24>>24)*(ne<<24>>24)>>>5));ae=255&(ae=(ae=ae+((g.hd<<24>>24)*(ne<<24>>24)>>>5))+((g.ud<<24>>24)*(ye<<24>>24)>>>5)),z[$+Y]=(4278255360&J)+(ye<<16)+ae}}function Ht(g,_,x,P,z){N[_]=function($,Y,J,ne,ae,ye,ke,Ie,Le){for(ne=ke;ne<Ie;++ne)for(ke=0;ke<Le;++ke)ae[ye++]=z(J[P($[Y++])])},N[g]=function($,Y,J,ne,ae,ye,ke){var Ie=8>>$.b,Le=$.Ea,We=$.K[0],Be=$.w;if(8>Ie)for($=(1<<$.b)-1,Be=(1<<Ie)-1;Y<J;++Y){var be,Ee=0;for(be=0;be<Le;++be)be&$||(Ee=P(ne[ae++])),ye[ke++]=z(We[Ee&Be]),Ee>>=Ie}else N["VP8LMapColor"+x](ne,ae,We,Be,ye,ke,Y,J,Le)}}function ut(g,_,x,P,z){for(x=_+x;_<x;){var $=g[_++];P[z++]=$>>16&255,P[z++]=$>>8&255,P[z++]=$>>0&255}}function Zn(g,_,x,P,z){for(x=_+x;_<x;){var $=g[_++];P[z++]=$>>16&255,P[z++]=$>>8&255,P[z++]=$>>0&255,P[z++]=$>>24&255}}function Gt(g,_,x,P,z){for(x=_+x;_<x;){var $=(Y=g[_++])>>16&240|Y>>12&15,Y=Y>>0&240|Y>>28&15;P[z++]=$,P[z++]=Y}}function Ai(g,_,x,P,z){for(x=_+x;_<x;){var $=(Y=g[_++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;P[z++]=$,P[z++]=Y}}function $t(g,_,x,P,z){for(x=_+x;_<x;){var $=g[_++];P[z++]=$>>0&255,P[z++]=$>>8&255,P[z++]=$>>16&255}}function vn(g,_,x,P,z,$){if($==0)for(x=_+x;_<x;)je(P,(($=g[_++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),z+=32;else i(P,z,g,_,x)}function mi(g,_){N[_][0]=N[g+"0"],N[_][1]=N[g+"1"],N[_][2]=N[g+"2"],N[_][3]=N[g+"3"],N[_][4]=N[g+"4"],N[_][5]=N[g+"5"],N[_][6]=N[g+"6"],N[_][7]=N[g+"7"],N[_][8]=N[g+"8"],N[_][9]=N[g+"9"],N[_][10]=N[g+"10"],N[_][11]=N[g+"11"],N[_][12]=N[g+"12"],N[_][13]=N[g+"13"],N[_][14]=N[g+"0"],N[_][15]=N[g+"0"]}function tn(g){return g==Rc||g==Fo||g==Xa||g==_u}function pr(){this.eb=[],this.size=this.A=this.fb=0}function Mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ci(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pr,this.f.kb=new Mn,this.sd=null}function xi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Sn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function At(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Xt(g,_){var x=g.T,P=_.ba.f.RGBA,z=P.eb,$=P.fb+g.ka*P.A,Y=er[_.ba.S],J=g.y,ne=g.O,ae=g.f,ye=g.N,ke=g.ea,Ie=g.W,Le=_.cc,We=_.dc,Be=_.Mc,be=_.Nc,Ee=g.ka,Ue=g.ka+g.T,$e=g.U,He=$e+1>>1;for(Ee==0?Y(J,ne,null,null,ae,ye,ke,Ie,ae,ye,ke,Ie,z,$,null,null,$e):(Y(_.ec,_.fc,J,ne,Le,We,Be,be,ae,ye,ke,Ie,z,$-P.A,z,$,$e),++x);Ee+2<Ue;Ee+=2)Le=ae,We=ye,Be=ke,be=Ie,ye+=g.Rc,Ie+=g.Rc,$+=2*P.A,Y(J,(ne+=2*g.fa)-g.fa,J,ne,Le,We,Be,be,ae,ye,ke,Ie,z,$-P.A,z,$,$e);return ne+=g.fa,g.j+Ue<g.o?(i(_.ec,_.fc,J,ne,$e),i(_.cc,_.dc,ae,ye,He),i(_.Mc,_.Nc,ke,Ie,He),x--):1&Ue||Y(J,ne,null,null,ae,ye,ke,Ie,ae,ye,ke,Ie,z,$+P.A,null,null,$e),x}function rr(g,_,x){var P=g.F,z=[g.J];if(P!=null){var $=g.U,Y=_.ba.S,J=Y==Nl||Y==Xa;_=_.ba.f.RGBA;var ne=[0],ae=g.ka;ne[0]=g.T,g.Kb&&(ae==0?--ne[0]:(--ae,z[0]-=g.width),g.j+g.ka+g.T==g.o&&(ne[0]=g.o-g.j-ae));var ye=_.eb;ae=_.fb+ae*_.A,g=rn(P,z[0],g.width,$,ne,ye,ae+(J?0:3),_.A),e(x==ne),g&&tn(Y)&&fs(ye,ae,J,$,ne,_.A)}return 0}function Vn(g){var _=g.ma,x=_.ba.S,P=11>x,z=x==bu||x==Ic||x==Nl||x==Ya||x==12||tn(x);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Io(_.Oa,g,z?11:12))return 0;if(z&&tn(x)&&Ze(),g.da)alert("todo:use_scaling");else{if(P){if(_.Ib=At,g.Kb){if(x=g.U+1>>1,_.memory=s(g.U+2*x),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+x,_.Ib=Xt,Ze()}}else alert("todo:EmitYUV");z&&(_.Jb=rr,P&&xe())}if(P&&!$p){for(g=0;256>g;++g)i0[g]=89858*(g-128)+Ui>>xa,Pc[g]=-22014*(g-128)+Ui,Kf[g]=-45773*(g-128),zi[g]=113618*(g-128)+Ui>>xa;for(g=qo;g<kh;++g)_=76283*(g-16)+Ui>>xa,Mc[g-qo]=Tn(_,255),Yf[g-qo]=Tn(_+8>>4,15);$p=1}return 1}function Li(g){var _=g.ma,x=g.U,P=g.T;return e(!(1&g.ka)),0>=x||0>=P?0:(x=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,x),_.Dc+=x,1)}function Lr(g){g.ma.memory=null}function ct(g,_,x,P){return K(g,8)!=47?0:(_[0]=K(g,14)+1,x[0]=K(g,14)+1,P[0]=K(g,1),K(g,3)!=0?0:!g.h)}function ht(g,_){if(4>g)return g+1;var x=g-2>>1;return(2+(1&g)<<x)+K(_,x)+1}function On(g,_){return 120<_?_-120:1<=(x=((x=Za[_-1])>>4)*g+(8-(15&x)))?x:1;var x}function Jn(g,_,x){var P=H(x),z=g[_+=255&P].g-8;return 0<z&&(Q(x,x.u+8),P=H(x),_+=g[_].value,_+=P&(1<<z)-1),Q(x,x.u+g[_].g),g[_].value}function si(g,_,x){return x.g+=g.g,x.value+=g.value<<_>>>0,e(8>=x.g),g.g}function hi(g,_,x){var P=g.xc;return e((_=P==0?0:g.vc[g.md*(x>>P)+(_>>P)])<g.Wb),g.Ya[_]}function Ti(g,_,x,P){var z=g.ab,$=g.c*_,Y=g.C;_=Y+_;var J=x,ne=P;for(P=g.Ta,x=g.Ua;0<z--;){var ae=g.gc[z],ye=Y,ke=_,Ie=J,Le=ne,We=(ne=P,J=x,ae.Ea);switch(e(ye<ke),e(ke<=ae.nc),ae.hc){case 2:Ah(Ie,Le,(ke-ye)*We,ne,J);break;case 0:var Be=ye,be=ke,Ee=ne,Ue=J,$e=(lt=ae).Ea;Be==0&&(Wf(Ie,Le,null,null,1,Ee,Ue),yt(Ie,Le+1,0,0,$e-1,Ee,Ue+1),Le+=$e,Ue+=$e,++Be);for(var He=1<<lt.b,ft=He-1,st=mt($e,lt.b),xt=lt.K,lt=lt.w+(Be>>lt.b)*st;Be<be;){var yn=xt,Cn=lt,Jt=1;for(Tc(Ie,Le,Ee,Ue-$e,1,Ee,Ue);Jt<$e;){var Qt=(Jt&~ft)+He;Qt>$e&&(Qt=$e),(0,Wa[yn[Cn++]>>8&15])(Ie,Le+ +Jt,Ee,Ue+Jt-$e,Qt-Jt,Ee,Ue+Jt),Jt=Qt}Le+=$e,Ue+=$e,++Be&ft||(lt+=st)}ke!=ae.nc&&i(ne,J-We,ne,J+(ke-ye-1)*We,We);break;case 1:for(We=Ie,be=Le,$e=(Ie=ae.Ea)-(Ue=Ie&~(Ee=(Le=1<<ae.b)-1)),Be=mt(Ie,ae.b),He=ae.K,ae=ae.w+(ye>>ae.b)*Be;ye<ke;){for(ft=He,st=ae,xt=new rt,lt=be+Ue,yn=be+Ie;be<lt;)qt(ft[st++],xt),No(xt,We,be,Le,ne,J),be+=Le,J+=Le;be<yn&&(qt(ft[st++],xt),No(xt,We,be,$e,ne,J),be+=$e,J+=$e),++ye&Ee||(ae+=Be)}break;case 3:if(Ie==ne&&Le==J&&0<ae.b){for(be=ne,Ie=We=J+(ke-ye)*We-(Ue=(ke-ye)*mt(ae.Ea,ae.b)),Le=ne,Ee=J,Be=[],Ue=($e=Ue)-1;0<=Ue;--Ue)Be[Ue]=Le[Ee+Ue];for(Ue=$e-1;0<=Ue;--Ue)be[Ie+Ue]=Be[Ue];As(ae,ye,ke,ne,We,ne,J)}else As(ae,ye,ke,Ie,Le,ne,J)}J=P,ne=x}ne!=x&&i(P,x,J,ne,$)}function Da(g,_){var x=g.V,P=g.Ba+g.c*g.C,z=_-g.C;if(e(_<=g.l.o),e(16>=z),0<z){var $=g.l,Y=g.Ta,J=g.Ua,ne=$.width;if(Ti(g,z,x,P),z=J=[J],e((x=g.C)<(P=_)),e($.v<$.va),P>$.o&&(P=$.o),x<$.j){var ae=$.j-x;x=$.j,z[0]+=ae*ne}if(x>=P?x=0:(z[0]+=4*$.v,$.ka=x-$.j,$.U=$.va-$.v,$.T=P-x,x=1),x){if(J=J[0],11>(x=g.ca).S){var ye=x.f.RGBA,ke=(P=x.S,z=$.U,$=$.T,ae=ye.eb,ye.A),Ie=$;for(ye=ye.fb+g.Ma*ye.A;0<Ie--;){var Le=Y,We=J,Be=z,be=ae,Ee=ye;switch(P){case _r:Ir(Le,We,Be,be,Ee);break;case bu:lr(Le,We,Be,be,Ee);break;case Rc:lr(Le,We,Be,be,Ee),fs(be,Ee,0,Be,1,0);break;case wa:$s(Le,We,Be,be,Ee);break;case Ic:vn(Le,We,Be,be,Ee,1);break;case Fo:vn(Le,We,Be,be,Ee,1),fs(be,Ee,0,Be,1,0);break;case Nl:vn(Le,We,Be,be,Ee,0);break;case Xa:vn(Le,We,Be,be,Ee,0),fs(be,Ee,1,Be,1,0);break;case Ya:Po(Le,We,Be,be,Ee);break;case _u:Po(Le,We,Be,be,Ee),nn(be,Ee,Be,1,0);break;case Lh:Wr(Le,We,Be,be,Ee);break;default:e(0)}J+=ne,ye+=ke}g.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=x.height)}}g.C=_,e(g.C<=g.i)}function Tr(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var x=g.Ya[_].G,P=g.Ya[_].H;if(0<x[1][P[1]+0].g||0<x[2][P[2]+0].g||0<x[3][P[3]+0].g)return 0}return 1}function Xi(g,_,x,P,z,$){if(g.Z!=0){var Y=g.qd,J=g.rd;for(e(Ea[g.Z]!=null);_<x;++_)Ea[g.Z](Y,J,P,z,P,z,$),Y=P,J=z,z+=$;g.qd=Y,g.rd=J}}function Di(g,_){var x=g.l.ma,P=x.Z==0||x.Z==1?g.l.j:g.C;if(P=g.C<P?P:g.C,e(_<=g.l.o),_>P){var z=g.l.width,$=x.ca,Y=x.tb+z*P,J=g.V,ne=g.Ba+g.c*P,ae=g.gc;e(g.ab==1),e(ae[0].hc==3),ko(ae[0],P,_,J,ne,$,Y),Xi(x,P,_,$,Y,z)}g.C=g.Ma=_}function Ci(g,_,x,P,z,$,Y){var J=g.$/P,ne=g.$%P,ae=g.m,ye=g.s,ke=x+g.$,Ie=ke;z=x+P*z;var Le=x+P*$,We=280+ye.ua,Be=g.Pb?J:16777216,be=0<ye.ua?ye.Wa:null,Ee=ye.wc,Ue=ke<Le?hi(ye,ne,J):null;e(g.C<$),e(Le<=z);var $e=!1;e:for(;;){for(;$e||ke<Le;){var He=0;if(J>=Be){var ft=ke-x;e((Be=g).Pb),Be.wd=Be.m,Be.xd=ft,0<Be.s.ua&&Ne(Be.s.Wa,Be.s.vb),Be=J+Hp}if(ne&Ee||(Ue=hi(ye,ne,J)),e(Ue!=null),Ue.Qb&&(_[ke]=Ue.qb,$e=!0),!$e)if(ue(ae),Ue.jc){He=ae,ft=_;var st=ke,xt=Ue.pd[H(He)&Vi-1];e(Ue.jc),256>xt.g?(Q(He,He.u+xt.g),ft[st]=xt.value,He=0):(Q(He,He.u+xt.g-256),e(256<=xt.value),He=xt.value),He==0&&($e=!0)}else He=Jn(Ue.G[0],Ue.H[0],ae);if(ae.h)break;if($e||256>He){if(!$e)if(Ue.nd)_[ke]=(Ue.qb|He<<8)>>>0;else{if(ue(ae),$e=Jn(Ue.G[1],Ue.H[1],ae),ue(ae),ft=Jn(Ue.G[2],Ue.H[2],ae),st=Jn(Ue.G[3],Ue.H[3],ae),ae.h)break;_[ke]=(st<<24|$e<<16|He<<8|ft)>>>0}if($e=!1,++ke,++ne>=P&&(ne=0,++J,Y!=null&&J<=$&&!(J%16)&&Y(g,J),be!=null))for(;Ie<ke;)He=_[Ie++],be.X[(506832829*He&4294967295)>>>be.Mb]=He}else if(280>He){if(He=ht(He-256,ae),ft=Jn(Ue.G[4],Ue.H[4],ae),ue(ae),ft=On(P,ft=ht(ft,ae)),ae.h)break;if(ke-x<ft||z-ke<He)break e;for(st=0;st<He;++st)_[ke+st]=_[ke+st-ft];for(ke+=He,ne+=He;ne>=P;)ne-=P,++J,Y!=null&&J<=$&&!(J%16)&&Y(g,J);if(e(ke<=z),ne&Ee&&(Ue=hi(ye,ne,J)),be!=null)for(;Ie<ke;)He=_[Ie++],be.X[(506832829*He&4294967295)>>>be.Mb]=He}else{if(!(He<We))break e;for($e=He-280,e(be!=null);Ie<ke;)He=_[Ie++],be.X[(506832829*He&4294967295)>>>be.Mb]=He;He=ke,e(!($e>>>(ft=be).Xa)),_[He]=ft.X[$e],$e=!0}$e||e(ae.h==ie(ae))}if(g.Pb&&ae.h&&ke<z)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&Ne(g.s.vb,g.s.Wa);else{if(ae.h)break e;Y!=null&&Y(g,J>$?$:J),g.a=0,g.$=ke-x}return 1}return g.a=3,0}function ji(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function $n(){var g=new pu;return g==null?null:(g.a=0,g.xb=wu,mi("Predictor","VP8LPredictors"),mi("Predictor","VP8LPredictors_C"),mi("PredictorAdd","VP8LPredictorsAdd"),mi("PredictorAdd","VP8LPredictorsAdd_C"),Ah=pt,No=dt,Ir=ut,lr=Zn,Po=Gt,Wr=Ai,$s=$t,N.VP8LMapColor32b=Zi,N.VP8LMapColor8b=Cc,g)}function xn(g,_,x,P,z){var $=1,Y=[g],J=[_],ne=P.m,ae=P.s,ye=null,ke=0;e:for(;;){if(x)for(;$&&K(ne,1);){var Ie=Y,Le=J,We=P,Be=1,be=We.m,Ee=We.gc[We.ab],Ue=K(be,2);if(We.Oc&1<<Ue)$=0;else{switch(We.Oc|=1<<Ue,Ee.hc=Ue,Ee.Ea=Ie[0],Ee.nc=Le[0],Ee.K=[null],++We.ab,e(4>=We.ab),Ue){case 0:case 1:Ee.b=K(be,3)+2,Be=xn(mt(Ee.Ea,Ee.b),mt(Ee.nc,Ee.b),0,We,Ee.K),Ee.K=Ee.K[0];break;case 3:var $e,He=K(be,8)+1,ft=16<He?0:4<He?1:2<He?2:3;if(Ie[0]=mt(Ee.Ea,ft),Ee.b=ft,$e=Be=xn(He,1,0,We,Ee.K)){var st,xt=He,lt=Ee,yn=1<<(8>>lt.b),Cn=s(yn);if(Cn==null)$e=0;else{var Jt=lt.K[0],Qt=lt.w;for(Cn[0]=lt.K[0][0],st=1;st<1*xt;++st)Cn[st]=et(Jt[Qt+st],Cn[st-1]);for(;st<4*yn;++st)Cn[st]=0;lt.K[0]=null,lt.K[0]=Cn,$e=1}}Be=$e;break;case 2:break;default:e(0)}$=Be}}if(Y=Y[0],J=J[0],$&&K(ne,1)&&!($=1<=(ke=K(ne,4))&&11>=ke)){P.a=3;break e}var jn;if(jn=$)t:{var In,zt,Un,Tt=P,Dt=Y,gn=J,bn=ke,tr=x,qi=Tt.m,bi=Tt.s,_i=[null],Ni=1,Cs=0,Rn=Ml[bn];n:for(;;){if(tr&&K(qi,1)){var Pi=K(qi,3)+2,Xs=mt(Dt,Pi),Ho=mt(gn,Pi),jl=Xs*Ho;if(!xn(Xs,Ho,0,Tt,_i))break n;for(_i=_i[0],bi.xc=Pi,In=0;In<jl;++In){var Go=_i[In]>>8&65535;_i[In]=Go,Go>=Ni&&(Ni=Go+1)}}if(qi.h)break n;for(zt=0;5>zt;++zt){var ii=ds[zt];!zt&&0<bn&&(ii+=1<<bn),Cs<ii&&(Cs=ii)}var Oc=o(Ni*Rn,M),Nh=Ni,kr=o(Nh,oe);if(kr==null)var ai=null;else e(65536>=Nh),ai=kr;var Bl=s(Cs);if(ai==null||Bl==null||Oc==null){Tt.a=1;break n}var Wo=Oc;for(In=Un=0;In<Ni;++In){var Kr=ai[In],$o=Kr.G,Yr=Kr.H,Dc=0,Eu=1,Ph=0;for(zt=0;5>zt;++zt){ii=ds[zt],$o[zt]=Wo,Yr[zt]=Un,!zt&&0<bn&&(ii+=1<<bn);r:{var jc,Mh=ii,Bc=Tt,Au=Bl,Xp=Wo,Qp=Un,Vc=0,no=Bc.m,s0=K(no,1);if(r(Au,0,0,Mh),s0){var Zp=K(no,1)+1,Jp=K(no,1),Xf=K(no,Jp==0?1:8);Au[Xf]=1,Zp==2&&(Au[Xf=K(no,8)]=1);var xu=1}else{var Qf=s(19),Zf=K(no,4)+4;if(19<Zf){Bc.a=3;var Fc=0;break r}for(jc=0;jc<Zf;++jc)Qf[Qa[jc]]=K(no,3);var Oh=void 0,Lu=void 0,eg=Bc,tg=Qf,io=Mh,Uc=Au,Dh=0,Qs=eg.m,Tu=8,Jf=o(128,M);i:for(;k(Jf,0,7,tg,19);){if(K(Qs,1)){var ng=2+2*K(Qs,3);if((Oh=2+K(Qs,ng))>io)break i}else Oh=io;for(Lu=0;Lu<io&&Oh--;){ue(Qs);var ed=Jf[0+(127&H(Qs))];Q(Qs,Qs.u+ed.g);var Vl=ed.value;if(16>Vl)Uc[Lu++]=Vl,Vl!=0&&(Tu=Vl);else{var ig=Vl==16,td=Vl-16,nd=Ts[td],id=K(Qs,Th[td])+nd;if(Lu+id>io)break i;for(var rg=ig?Tu:0;0<id--;)Uc[Lu++]=rg}}Dh=1;break i}Dh||(eg.a=3),xu=Dh}(xu=xu&&!no.h)&&(Vc=k(Xp,Qp,8,Au,Mh)),xu&&Vc!=0?Fc=Vc:(Bc.a=3,Fc=0)}if(Fc==0)break n;if(Eu&&Pl[zt]==1&&(Eu=Wo[Un].g==0),Dc+=Wo[Un].g,Un+=Fc,3>=zt){var Fl,jh=Bl[0];for(Fl=1;Fl<ii;++Fl)Bl[Fl]>jh&&(jh=Bl[Fl]);Ph+=jh}}if(Kr.nd=Eu,Kr.Qb=0,Eu&&(Kr.qb=($o[3][Yr[3]+0].value<<24|$o[1][Yr[1]+0].value<<16|$o[2][Yr[2]+0].value)>>>0,Dc==0&&256>$o[0][Yr[0]+0].value&&(Kr.Qb=1,Kr.qb+=$o[0][Yr[0]+0].value<<8)),Kr.jc=!Kr.Qb&&6>Ph,Kr.jc){var zc,ro=Kr;for(zc=0;zc<Vi;++zc){var La=zc,so=ro.pd[La],qc=ro.G[0][ro.H[0]+La];256<=qc.value?(so.g=qc.g+256,so.value=qc.value):(so.g=0,so.value=0,La>>=si(qc,8,so),La>>=si(ro.G[1][ro.H[1]+La],16,so),La>>=si(ro.G[2][ro.H[2]+La],0,so),si(ro.G[3][ro.H[3]+La],24,so))}}}bi.vc=_i,bi.Wb=Ni,bi.Ya=ai,bi.yc=Oc,jn=1;break t}jn=0}if(!($=jn)){P.a=3;break e}if(0<ke){if(ae.ua=1<<ke,!St(ae.Wa,ke)){P.a=1,$=0;break e}}else ae.ua=0;var Hc=P,rd=Y,sg=J,sd=Hc.s,ad=sd.xc;if(Hc.c=rd,Hc.i=sg,sd.md=mt(rd,ad),sd.wc=ad==0?-1:(1<<ad)-1,x){P.xb=Wp;break e}if((ye=s(Y*J))==null){P.a=1,$=0;break e}$=($=Ci(P,ye,0,Y,J,J,null))&&!ne.h;break e}return $?(z!=null?z[0]=ye:(e(ye==null),e(x)),P.$=0,x||ji(ae)):ji(ae),$}function Ds(g,_){var x=g.c*g.i,P=x+_+16*_;return e(g.c<=_),g.V=s(P),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+x+_,1)}function js(g,_){var x=g.C,P=_-x,z=g.V,$=g.Ba+g.c*x;for(e(_<=g.l.o);0<P;){var Y=16<P?16:P,J=g.l.ma,ne=g.l.width,ae=ne*Y,ye=J.ca,ke=J.tb+ne*x,Ie=g.Ta,Le=g.Ua;Ti(g,Y,z,$),Yn(Ie,Le,ye,ke,ae),Xi(J,x,x+Y,ye,ke,ne),P-=Y,z+=Y*g.c,x+=Y}e(x==_),g.C=g.Ma=_}function gr(){this.ub=this.yd=this.td=this.Rb=0}function Vr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ja(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function vl(){this.Yb=function(){var g=[];return function _(x,P,z){for(var $=z[P],Y=0;Y<$&&(x.push(z.length>P+1?[]:0),!(z.length<P+1));Y++)_(x[Y],P+1,z)}(g,0,[3,11]),g}()}function Ba(){this.jb=s(3),this.Wc=u([4,8],vl),this.Xc=u([4,17],vl)}function lu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function us(){this.ld=this.La=this.dd=this.tc=0}function cs(){this.Na=this.la=0}function Bi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bs(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function uu(){this.uc=this.M=this.Nb=0,this.wa=Array(new us),this.Y=0,this.ya=Array(new Bs),this.aa=0,this.l=new Vs}function gs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function wo(){this.cb=this.a=0,this.sc="",this.m=new ve,this.Od=new gr,this.Kc=new Vr,this.ed=new lu,this.Qa=new ja,this.Ic=this.$c=this.Aa=0,this.D=new uu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ve),this.ia=0,this.pb=o(4,Bi),this.Pa=new Ba,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new gs),this.Hd=0,this.rb=Array(new cs),this.sb=0,this.wa=Array(new us),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bs),this.L=this.aa=0,this.gd=u([4,2],us),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function yl(){var g=new wo;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Fi||(Fi=cu)),g}function Kn(g,_,x){return g.a==0&&(g.a=_,g.sc=x,g.cb=0),0}function Qi(g,_,x){return 3<=x&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function So(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return Kn(g,2,"null VP8Io passed to VP8GetHeaders()");var x=_.data,P=_.w,z=_.ha;if(4>z)return Kn(g,7,"Truncated header.");var $=x[P+0]|x[P+1]<<8|x[P+2]<<16,Y=g.Od;if(Y.Rb=!(1&$),Y.td=$>>1&7,Y.yd=$>>4&1,Y.ub=$>>5,3<Y.td)return Kn(g,3,"Incorrect keyframe parameters.");if(!Y.yd)return Kn(g,4,"Frame not displayable.");P+=3,z-=3;var J=g.Kc;if(Y.Rb){if(7>z)return Kn(g,7,"cannot parse picture header");if(!Qi(x,P,z))return Kn(g,3,"Bad code word");J.c=16383&(x[P+4]<<8|x[P+3]),J.Td=x[P+4]>>6,J.i=16383&(x[P+6]<<8|x[P+5]),J.Ud=x[P+6]>>6,P+=7,z-=7,g.za=J.c+15>>4,g.Ub=J.i+15>>4,_.width=J.c,_.height=J.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,r(($=g.Pa).jb,0,255,$.jb.length),e(($=g.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,r($.Zb,0,0,$.Zb.length),r($.Lb,0,0,$.Lb)}if(Y.ub>z)return Kn(g,7,"bad partition length");pe($=g.m,x,P,Y.ub),P+=Y.ub,z-=Y.ub,Y.Rb&&(J.Ld=me($),J.Kd=me($)),J=g.Qa;var ne,ae=g.Pa;if(e($!=null),e(J!=null),J.Cb=me($),J.Cb){if(J.Bb=me($),me($)){for(J.Fb=me($),ne=0;4>ne;++ne)J.Zb[ne]=me($)?he($,7):0;for(ne=0;4>ne;++ne)J.Lb[ne]=me($)?he($,6):0}if(J.Bb)for(ne=0;3>ne;++ne)ae.jb[ne]=me($)?re($,8):255}else J.Bb=0;if($.Ka)return Kn(g,3,"cannot parse segment header");if((J=g.ed).zd=me($),J.Tb=re($,6),J.wb=re($,3),J.Pc=me($),J.Pc&&me($)){for(ae=0;4>ae;++ae)me($)&&(J.vd[ae]=he($,6));for(ae=0;4>ae;++ae)me($)&&(J.od[ae]=he($,6))}if(g.L=J.Tb==0?0:J.zd?1:2,$.Ka)return Kn(g,3,"cannot parse filter header");var ye=z;if(z=ne=P,P=ne+ye,J=ye,g.Xb=(1<<re(g.m,2))-1,ye<3*(ae=g.Xb))x=7;else{for(ne+=3*ae,J-=3*ae,ye=0;ye<ae;++ye){var ke=x[z+0]|x[z+1]<<8|x[z+2]<<16;ke>J&&(ke=J),pe(g.Jc[+ye],x,ne,ke),ne+=ke,J-=ke,z+=3}pe(g.Jc[+ae],x,ne,J),x=ne<P?0:5}if(x!=0)return Kn(g,x,"cannot parse partitions");for(x=re(ne=g.m,7),z=me(ne)?he(ne,4):0,P=me(ne)?he(ne,4):0,J=me(ne)?he(ne,4):0,ae=me(ne)?he(ne,4):0,ne=me(ne)?he(ne,4):0,ye=g.Qa,ke=0;4>ke;++ke){if(ye.Cb){var Ie=ye.Zb[ke];ye.Fb||(Ie+=x)}else{if(0<ke){g.pb[ke]=g.pb[0];continue}Ie=x}var Le=g.pb[ke];Le.Sc[0]=kc[Tn(Ie+z,127)],Le.Sc[1]=Nc[Tn(Ie+0,127)],Le.Eb[0]=2*kc[Tn(Ie+P,127)],Le.Eb[1]=101581*Nc[Tn(Ie+J,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=kc[Tn(Ie+ae,117)],Le.Qc[1]=Nc[Tn(Ie+ne,127)],Le.lc=Ie+ne}if(!Y.Rb)return Kn(g,4,"Not a key frame.");for(me($),Y=g.Pa,x=0;4>x;++x){for(z=0;8>z;++z)for(P=0;3>P;++P)for(J=0;11>J;++J)ae=Ce($,Ol[x][z][P][J])?re($,8):Sa[x][z][P][J],Y.Wc[x][z].Yb[P][J]=ae;for(z=0;17>z;++z)Y.Xc[x][z]=Y.Wc[x][Gp[z]]}return g.kc=me($),g.kc&&(g.Bd=re($,8)),g.cb=1}function cu(g,_,x,P,z,$,Y){var J=_[z].Yb[x];for(x=0;16>z;++z){if(!Ce(g,J[x+0]))return z;for(;!Ce(g,J[x+1]);)if(J=_[++z].Yb[0],x=0,z==16)return 16;var ne=_[z+1].Yb;if(Ce(g,J[x+2])){var ae=g,ye=0;if(Ce(ae,(Ie=J)[(ke=x)+3]))if(Ce(ae,Ie[ke+6])){for(J=0,ke=2*(ye=Ce(ae,Ie[ke+8]))+(Ie=Ce(ae,Ie[ke+9+ye])),ye=0,Ie=pi[ke];Ie[J];++J)ye+=ye+Ce(ae,Ie[J]);ye+=3+(8<<ke)}else Ce(ae,Ie[ke+7])?(ye=7+2*Ce(ae,165),ye+=Ce(ae,145)):ye=5+Ce(ae,159);else ye=Ce(ae,Ie[ke+4])?3+Ce(ae,Ie[ke+5]):2;J=ne[2]}else ye=1,J=ne[1];ne=Y+En[z],0>(ae=g).b&&we(ae);var ke,Ie=ae.b,Le=(ke=ae.Ca>>1)-(ae.I>>Ie)>>31;--ae.b,ae.Ca+=Le,ae.Ca|=1,ae.I-=(ke+1&Le)<<Ie,$[ne]=((ye^Le)-Le)*P[(0<z)+0]}return 16}function oa(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,r(g.zc,0,0,g.zc.length),g.ja=0}function bl(g,_){if(g==null)return 0;if(_==null)return Kn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!So(g,_))return 0;if(e(g.cb),_.ac==null||_.ac(_)){_.ob&&(g.L=0);var x=to[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=_.v-x>>4,g.zb=_.j-x>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=_.o+15+x>>4,g.Hb=_.va+15+x>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var P=g.ed;for(x=0;4>x;++x){var z;if(g.Qa.Cb){var $=g.Qa.Lb[x];g.Qa.Fb||($+=P.Tb)}else $=P.Tb;for(z=0;1>=z;++z){var Y=g.gd[x][z],J=$;if(P.Pc&&(J+=P.vd[0],z&&(J+=P.od[0])),0<(J=0>J?0:63<J?63:J)){var ne=J;0<P.wb&&(ne=4<P.wb?ne>>2:ne>>1)>9-P.wb&&(ne=9-P.wb),1>ne&&(ne=1),Y.dd=ne,Y.tc=2*J+ne,Y.ld=40<=J?2:15<=J?1:0}else Y.tc=0;Y.La=z}}}x=0}else Kn(g,6,"Frame setup failed"),x=g.a;if(x=x==0){if(x){g.$c=0,0<g.Aa||(g.Ic=Kp);e:{x=g.Ic,P=4*(ne=g.za);var ae=32*ne,ye=ne+1,ke=0<g.L?ne*(0<g.Aa?2:1):0,Ie=(g.Aa==2?2:1)*ne;if((Y=P+832+(z=3*(16*x+to[g.L])/2*ae)+($=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=Y)x=0;else{if(Y>g.Vb){if(g.Vb=0,g.Ec=s(Y),g.Fc=0,g.Ec==null){x=Kn(g,1,"no memory during frame initialization.");break e}g.Vb=Y}Y=g.Ec,J=g.Fc,g.Ac=Y,g.Bc=J,J+=P,g.Gd=o(ae,gs),g.Hd=0,g.rb=o(ye+1,cs),g.sb=1,g.wa=ke?o(ke,us):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=ne),e(!0),g.oc=Y,g.pc=J,J+=832,g.ya=o(Ie,Bs),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=ne),g.R=16*ne,g.B=8*ne,ne=(ae=to[g.L])*g.R,ae=ae/2*g.B,g.sa=Y,g.ta=J+ne,g.qa=g.sa,g.ra=g.ta+16*x*g.R+ae,g.Ha=g.qa,g.Ia=g.ra+8*x*g.B+ae,g.$c=0,J+=z,g.mb=$?Y:null,g.nb=$?J:null,e(J+$<=g.Fc+g.Vb),oa(g),r(g.Ac,g.Bc,0,P),x=1}}if(x){if(_.ka=0,_.y=g.sa,_.O=g.ta,_.f=g.qa,_.N=g.ra,_.ea=g.Ha,_.Vd=g.Ia,_.fa=g.R,_.Rc=g.B,_.F=null,_.J=0,!Ka){for(x=-255;255>=x;++x)yi[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)xs[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)Bo[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)Vo[255+x]=0>x?0:255<x?255:x;Ka=1}ba=Fr,Ks=ua,Ys=ms,ki=Ln,$r=ca,fi=la,Cl=pa,_a=Gs,vu=Lo,Mo=Al,Oo=xo,Do=Ua,Il=za,yu=ga,jo=hs,$a=yr,Rl=Ri,di=du,Rr[0]=mr,Rr[1]=hu,Rr[2]=bs,Rr[3]=fu,Rr[4]=Ur,Rr[5]=_s,Rr[6]=Cr,Rr[7]=zr,Rr[8]=Hs,Rr[9]=ha,Ja[0]=vs,Ja[1]=wl,Ja[2]=Us,Ja[3]=Ao,Ja[4]=Fn,Ja[5]=qs,Ja[6]=ys,ps[0]=ws,ps[1]=_l,ps[2]=Sl,ps[3]=qr,ps[4]=an,ps[5]=Ii,ps[6]=fa,x=1}else x=0}x&&(x=function(Le,We){for(Le.M=0;Le.M<Le.Va;++Le.M){var Be,be=Le.Jc[Le.M&Le.Xb],Ee=Le.m,Ue=Le;for(Be=0;Be<Ue.za;++Be){var $e=Ee,He=Ue,ft=He.Ac,st=He.Bc+4*Be,xt=He.zc,lt=He.ya[He.aa+Be];if(He.Qa.Bb?lt.$b=Ce($e,He.Pa.jb[0])?2+Ce($e,He.Pa.jb[2]):Ce($e,He.Pa.jb[1]):lt.$b=0,He.kc&&(lt.Ad=Ce($e,He.Bd)),lt.Za=!Ce($e,145)+0,lt.Za){var yn=lt.Ob,Cn=0;for(He=0;4>He;++He){var Jt,Qt=xt[0+He];for(Jt=0;4>Jt;++Jt){Qt=$f[ft[st+Jt]][Qt];for(var jn=Uo[Ce($e,Qt[0])];0<jn;)jn=Uo[2*jn+Ce($e,Qt[jn])];Qt=-jn,ft[st+Jt]=Qt}i(yn,Cn,ft,st,4),Cn+=4,xt[0+He]=Qt}}else Qt=Ce($e,156)?Ce($e,128)?1:3:Ce($e,163)?2:0,lt.Ob[0]=Qt,r(ft,st,Qt,4),r(xt,0,Qt,4);lt.Dd=Ce($e,142)?Ce($e,114)?Ce($e,183)?1:3:2:0}if(Ue.m.Ka)return Kn(Le,7,"Premature end-of-partition0 encountered.");for(;Le.ja<Le.za;++Le.ja){if(Ue=be,$e=(Ee=Le).rb[Ee.sb-1],ft=Ee.rb[Ee.sb+Ee.ja],Be=Ee.ya[Ee.aa+Ee.ja],st=Ee.kc?Be.Ad:0)$e.la=ft.la=0,Be.Za||($e.Na=ft.Na=0),Be.Hc=0,Be.Gc=0,Be.ia=0;else{var In,zt;if($e=ft,ft=Ue,st=Ee.Pa.Xc,xt=Ee.ya[Ee.aa+Ee.ja],lt=Ee.pb[xt.$b],He=xt.ad,yn=0,Cn=Ee.rb[Ee.sb-1],Qt=Jt=0,r(He,yn,0,384),xt.Za)var Un=0,Tt=st[3];else{jn=s(16);var Dt=$e.Na+Cn.Na;if(Dt=Fi(ft,st[1],Dt,lt.Eb,0,jn,0),$e.Na=Cn.Na=(0<Dt)+0,1<Dt)ba(jn,0,He,yn);else{var gn=jn[0]+3>>3;for(jn=0;256>jn;jn+=16)He[yn+jn]=gn}Un=1,Tt=st[0]}var bn=15&$e.la,tr=15&Cn.la;for(jn=0;4>jn;++jn){var qi=1&tr;for(gn=zt=0;4>gn;++gn)bn=bn>>1|(qi=(Dt=Fi(ft,Tt,Dt=qi+(1&bn),lt.Sc,Un,He,yn))>Un)<<7,zt=zt<<2|(3<Dt?3:1<Dt?2:He[yn+0]!=0),yn+=16;bn>>=4,tr=tr>>1|qi<<7,Jt=(Jt<<8|zt)>>>0}for(Tt=bn,Un=tr>>4,In=0;4>In;In+=2){for(zt=0,bn=$e.la>>4+In,tr=Cn.la>>4+In,jn=0;2>jn;++jn){for(qi=1&tr,gn=0;2>gn;++gn)Dt=qi+(1&bn),bn=bn>>1|(qi=0<(Dt=Fi(ft,st[2],Dt,lt.Qc,0,He,yn)))<<3,zt=zt<<2|(3<Dt?3:1<Dt?2:He[yn+0]!=0),yn+=16;bn>>=2,tr=tr>>1|qi<<5}Qt|=zt<<4*In,Tt|=bn<<4<<In,Un|=(240&tr)<<In}$e.la=Tt,Cn.la=Un,xt.Hc=Jt,xt.Gc=Qt,xt.ia=43690&Qt?0:lt.ia,st=!(Jt|Qt)}if(0<Ee.L&&(Ee.wa[Ee.Y+Ee.ja]=Ee.gd[Be.$b][Be.Za],Ee.wa[Ee.Y+Ee.ja].La|=!st),Ue.Ka)return Kn(Le,7,"Premature end-of-file encountered.")}if(oa(Le),Ee=We,Ue=1,Be=(be=Le).D,$e=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(Be.M=be.M,Be.uc=$e,Hr(be,Be),Ue=1,Be=(zt=be.D).Nb,$e=(Qt=to[be.L])*be.R,ft=Qt/2*be.B,jn=16*Be*be.R,gn=8*Be*be.B,st=be.sa,xt=be.ta-$e+jn,lt=be.qa,He=be.ra-ft+gn,yn=be.Ha,Cn=be.Ia-ft+gn,tr=(bn=zt.M)==0,Jt=bn>=be.Va-1,be.Aa==2&&Hr(be,zt),zt.uc)for(qi=(Dt=be).D.M,e(Dt.D.uc),zt=Dt.yb;zt<Dt.Hb;++zt){Un=zt,Tt=qi;var bi=(_i=(ii=Dt).D).Nb;In=ii.R;var _i=_i.wa[_i.Y+Un],Ni=ii.sa,Cs=ii.ta+16*bi*In+16*Un,Rn=_i.dd,Pi=_i.tc;if(Pi!=0)if(e(3<=Pi),ii.L==1)0<Un&&$a(Ni,Cs,In,Pi+4),_i.La&&di(Ni,Cs,In,Pi),0<Tt&&jo(Ni,Cs,In,Pi+4),_i.La&&Rl(Ni,Cs,In,Pi);else{var Xs=ii.B,Ho=ii.qa,jl=ii.ra+8*bi*Xs+8*Un,Go=ii.Ha,ii=ii.Ia+8*bi*Xs+8*Un;bi=_i.ld,0<Un&&(_a(Ni,Cs,In,Pi+4,Rn,bi),Mo(Ho,jl,Go,ii,Xs,Pi+4,Rn,bi)),_i.La&&(Do(Ni,Cs,In,Pi,Rn,bi),yu(Ho,jl,Go,ii,Xs,Pi,Rn,bi)),0<Tt&&(Cl(Ni,Cs,In,Pi+4,Rn,bi),vu(Ho,jl,Go,ii,Xs,Pi+4,Rn,bi)),_i.La&&(Oo(Ni,Cs,In,Pi,Rn,bi),Il(Ho,jl,Go,ii,Xs,Pi,Rn,bi))}}if(be.ia&&alert("todo:DitherRow"),Ee.put!=null){if(zt=16*bn,bn=16*(bn+1),tr?(Ee.y=be.sa,Ee.O=be.ta+jn,Ee.f=be.qa,Ee.N=be.ra+gn,Ee.ea=be.Ha,Ee.W=be.Ia+gn):(zt-=Qt,Ee.y=st,Ee.O=xt,Ee.f=lt,Ee.N=He,Ee.ea=yn,Ee.W=Cn),Jt||(bn-=Qt),bn>Ee.o&&(bn=Ee.o),Ee.F=null,Ee.J=null,be.Fa!=null&&0<be.Fa.length&&zt<bn&&(Ee.J=Co(be,Ee,zt,bn-zt),Ee.F=be.mb,Ee.F==null&&Ee.F.length==0)){Ue=Kn(be,3,"Could not decode alpha data.");break e}zt<Ee.j&&(Qt=Ee.j-zt,zt=Ee.j,e(!(1&Qt)),Ee.O+=be.R*Qt,Ee.N+=be.B*(Qt>>1),Ee.W+=be.B*(Qt>>1),Ee.F!=null&&(Ee.J+=Ee.width*Qt)),zt<bn&&(Ee.O+=Ee.v,Ee.N+=Ee.v>>1,Ee.W+=Ee.v>>1,Ee.F!=null&&(Ee.J+=Ee.v),Ee.ka=zt-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=bn-zt,Ue=Ee.put(Ee))}Be+1!=be.Ic||Jt||(i(be.sa,be.ta-$e,st,xt+16*be.R,$e),i(be.qa,be.ra-ft,lt,He+8*be.B,ft),i(be.Ha,be.Ia-ft,yn,Cn+8*be.B,ft))}if(!Ue)return Kn(Le,6,"Output aborted.")}return 1}(g,_)),_.bc!=null&&_.bc(_),x&=1}return x?(g.cb=0,x):0}function sr(g,_,x,P,z){z=g[_+x+32*P]+(z>>3),g[_+x+32*P]=-256&z?0>z?0:255:z}function Eo(g,_,x,P,z,$){sr(g,_,0,x,P+z),sr(g,_,1,x,P+$),sr(g,_,2,x,P-$),sr(g,_,3,x,P-z)}function pn(g){return(20091*g>>16)+g}function ar(g,_,x,P){var z,$=0,Y=s(16);for(z=0;4>z;++z){var J=g[_+0]+g[_+8],ne=g[_+0]-g[_+8],ae=(35468*g[_+4]>>16)-pn(g[_+12]),ye=pn(g[_+4])+(35468*g[_+12]>>16);Y[$+0]=J+ye,Y[$+1]=ne+ae,Y[$+2]=ne-ae,Y[$+3]=J-ye,$+=4,_++}for(z=$=0;4>z;++z)J=(g=Y[$+0]+4)+Y[$+8],ne=g-Y[$+8],ae=(35468*Y[$+4]>>16)-pn(Y[$+12]),sr(x,P,0,0,J+(ye=pn(Y[$+4])+(35468*Y[$+12]>>16))),sr(x,P,1,0,ne+ae),sr(x,P,2,0,ne-ae),sr(x,P,3,0,J-ye),$++,P+=32}function la(g,_,x,P){var z=g[_+0]+4,$=35468*g[_+4]>>16,Y=pn(g[_+4]),J=35468*g[_+1]>>16;Eo(x,P,0,z+Y,g=pn(g[_+1]),J),Eo(x,P,1,z+$,g,J),Eo(x,P,2,z-$,g,J),Eo(x,P,3,z-Y,g,J)}function ua(g,_,x,P,z){ar(g,_,x,P),z&&ar(g,_+16,x,P+4)}function ms(g,_,x,P){Ks(g,_+0,x,P,1),Ks(g,_+32,x,P+128,1)}function Ln(g,_,x,P){var z;for(g=g[_+0]+4,z=0;4>z;++z)for(_=0;4>_;++_)sr(x,P,_,z,g)}function ca(g,_,x,P){g[_+0]&&ki(g,_+0,x,P),g[_+16]&&ki(g,_+16,x,P+4),g[_+32]&&ki(g,_+32,x,P+128),g[_+48]&&ki(g,_+48,x,P+128+4)}function Fr(g,_,x,P){var z,$=s(16);for(z=0;4>z;++z){var Y=g[_+0+z]+g[_+12+z],J=g[_+4+z]+g[_+8+z],ne=g[_+4+z]-g[_+8+z],ae=g[_+0+z]-g[_+12+z];$[0+z]=Y+J,$[8+z]=Y-J,$[4+z]=ae+ne,$[12+z]=ae-ne}for(z=0;4>z;++z)Y=(g=$[0+4*z]+3)+$[3+4*z],J=$[1+4*z]+$[2+4*z],ne=$[1+4*z]-$[2+4*z],ae=g-$[3+4*z],x[P+0]=Y+J>>3,x[P+16]=ae+ne>>3,x[P+32]=Y-J>>3,x[P+48]=ae-ne>>3,P+=64}function Fs(g,_,x){var P,z=_-32,$=Ji,Y=255-g[z-1];for(P=0;P<x;++P){var J,ne=$,ae=Y+g[_-1];for(J=0;J<x;++J)g[_+J]=ne[ae+g[z+J]];_+=32}}function hu(g,_){Fs(g,_,4)}function _l(g,_){Fs(g,_,8)}function wl(g,_){Fs(g,_,16)}function Us(g,_){var x;for(x=0;16>x;++x)i(g,_+32*x,g,_-32,16)}function Ao(g,_){var x;for(x=16;0<x;--x)r(g,_,g[_-1],16),_+=32}function zs(g,_,x){var P;for(P=0;16>P;++P)r(_,x+32*P,g,16)}function vs(g,_){var x,P=16;for(x=0;16>x;++x)P+=g[_-1+32*x]+g[_+x-32];zs(P>>5,g,_)}function Fn(g,_){var x,P=8;for(x=0;16>x;++x)P+=g[_-1+32*x];zs(P>>4,g,_)}function qs(g,_){var x,P=8;for(x=0;16>x;++x)P+=g[_+x-32];zs(P>>4,g,_)}function ys(g,_){zs(128,g,_)}function Rt(g,_,x){return g+2*_+x+2>>2}function bs(g,_){var x,P=_-32;for(P=new Uint8Array([Rt(g[P-1],g[P+0],g[P+1]),Rt(g[P+0],g[P+1],g[P+2]),Rt(g[P+1],g[P+2],g[P+3]),Rt(g[P+2],g[P+3],g[P+4])]),x=0;4>x;++x)i(g,_+32*x,P,0,P.length)}function fu(g,_){var x=g[_-1],P=g[_-1+32],z=g[_-1+64],$=g[_-1+96];je(g,_+0,16843009*Rt(g[_-1-32],x,P)),je(g,_+32,16843009*Rt(x,P,z)),je(g,_+64,16843009*Rt(P,z,$)),je(g,_+96,16843009*Rt(z,$,$))}function mr(g,_){var x,P=4;for(x=0;4>x;++x)P+=g[_+x-32]+g[_-1+32*x];for(P>>=3,x=0;4>x;++x)r(g,_+32*x,P,4)}function Ur(g,_){var x=g[_-1+0],P=g[_-1+32],z=g[_-1+64],$=g[_-1-32],Y=g[_+0-32],J=g[_+1-32],ne=g[_+2-32],ae=g[_+3-32];g[_+0+96]=Rt(P,z,g[_-1+96]),g[_+1+96]=g[_+0+64]=Rt(x,P,z),g[_+2+96]=g[_+1+64]=g[_+0+32]=Rt($,x,P),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=Rt(Y,$,x),g[_+3+64]=g[_+2+32]=g[_+1+0]=Rt(J,Y,$),g[_+3+32]=g[_+2+0]=Rt(ne,J,Y),g[_+3+0]=Rt(ae,ne,J)}function Cr(g,_){var x=g[_+1-32],P=g[_+2-32],z=g[_+3-32],$=g[_+4-32],Y=g[_+5-32],J=g[_+6-32],ne=g[_+7-32];g[_+0+0]=Rt(g[_+0-32],x,P),g[_+1+0]=g[_+0+32]=Rt(x,P,z),g[_+2+0]=g[_+1+32]=g[_+0+64]=Rt(P,z,$),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=Rt(z,$,Y),g[_+3+32]=g[_+2+64]=g[_+1+96]=Rt($,Y,J),g[_+3+64]=g[_+2+96]=Rt(Y,J,ne),g[_+3+96]=Rt(J,ne,ne)}function _s(g,_){var x=g[_-1+0],P=g[_-1+32],z=g[_-1+64],$=g[_-1-32],Y=g[_+0-32],J=g[_+1-32],ne=g[_+2-32],ae=g[_+3-32];g[_+0+0]=g[_+1+64]=$+Y+1>>1,g[_+1+0]=g[_+2+64]=Y+J+1>>1,g[_+2+0]=g[_+3+64]=J+ne+1>>1,g[_+3+0]=ne+ae+1>>1,g[_+0+96]=Rt(z,P,x),g[_+0+64]=Rt(P,x,$),g[_+0+32]=g[_+1+96]=Rt(x,$,Y),g[_+1+32]=g[_+2+96]=Rt($,Y,J),g[_+2+32]=g[_+3+96]=Rt(Y,J,ne),g[_+3+32]=Rt(J,ne,ae)}function zr(g,_){var x=g[_+0-32],P=g[_+1-32],z=g[_+2-32],$=g[_+3-32],Y=g[_+4-32],J=g[_+5-32],ne=g[_+6-32],ae=g[_+7-32];g[_+0+0]=x+P+1>>1,g[_+1+0]=g[_+0+64]=P+z+1>>1,g[_+2+0]=g[_+1+64]=z+$+1>>1,g[_+3+0]=g[_+2+64]=$+Y+1>>1,g[_+0+32]=Rt(x,P,z),g[_+1+32]=g[_+0+96]=Rt(P,z,$),g[_+2+32]=g[_+1+96]=Rt(z,$,Y),g[_+3+32]=g[_+2+96]=Rt($,Y,J),g[_+3+64]=Rt(Y,J,ne),g[_+3+96]=Rt(J,ne,ae)}function ha(g,_){var x=g[_-1+0],P=g[_-1+32],z=g[_-1+64],$=g[_-1+96];g[_+0+0]=x+P+1>>1,g[_+2+0]=g[_+0+32]=P+z+1>>1,g[_+2+32]=g[_+0+64]=z+$+1>>1,g[_+1+0]=Rt(x,P,z),g[_+3+0]=g[_+1+32]=Rt(P,z,$),g[_+3+32]=g[_+1+64]=Rt(z,$,$),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=$}function Hs(g,_){var x=g[_-1+0],P=g[_-1+32],z=g[_-1+64],$=g[_-1+96],Y=g[_-1-32],J=g[_+0-32],ne=g[_+1-32],ae=g[_+2-32];g[_+0+0]=g[_+2+32]=x+Y+1>>1,g[_+0+32]=g[_+2+64]=P+x+1>>1,g[_+0+64]=g[_+2+96]=z+P+1>>1,g[_+0+96]=$+z+1>>1,g[_+3+0]=Rt(J,ne,ae),g[_+2+0]=Rt(Y,J,ne),g[_+1+0]=g[_+3+32]=Rt(x,Y,J),g[_+1+32]=g[_+3+64]=Rt(P,x,Y),g[_+1+64]=g[_+3+96]=Rt(z,P,x),g[_+1+96]=Rt($,z,P)}function Sl(g,_){var x;for(x=0;8>x;++x)i(g,_+32*x,g,_-32,8)}function qr(g,_){var x;for(x=0;8>x;++x)r(g,_,g[_-1],8),_+=32}function vr(g,_,x){var P;for(P=0;8>P;++P)r(_,x+32*P,g,8)}function ws(g,_){var x,P=8;for(x=0;8>x;++x)P+=g[_+x-32]+g[_-1+32*x];vr(P>>4,g,_)}function Ii(g,_){var x,P=4;for(x=0;8>x;++x)P+=g[_+x-32];vr(P>>3,g,_)}function an(g,_){var x,P=4;for(x=0;8>x;++x)P+=g[_-1+32*x];vr(P>>3,g,_)}function fa(g,_){vr(128,g,_)}function Ss(g,_,x){var P=g[_-x],z=g[_+0],$=3*(z-P)+xh[1020+g[_-2*x]-g[_+x]],Y=kl[112+($+4>>3)];g[_-x]=Ji[255+P+kl[112+($+3>>3)]],g[_+0]=Ji[255+z-Y]}function El(g,_,x,P){var z=g[_+0],$=g[_+x];return Ls[255+g[_-2*x]-g[_-x]]>P||Ls[255+$-z]>P}function Va(g,_,x,P){return 4*Ls[255+g[_-x]-g[_+0]]+Ls[255+g[_-2*x]-g[_+x]]<=P}function Fa(g,_,x,P,z){var $=g[_-3*x],Y=g[_-2*x],J=g[_-x],ne=g[_+0],ae=g[_+x],ye=g[_+2*x],ke=g[_+3*x];return 4*Ls[255+J-ne]+Ls[255+Y-ae]>P?0:Ls[255+g[_-4*x]-$]<=z&&Ls[255+$-Y]<=z&&Ls[255+Y-J]<=z&&Ls[255+ke-ye]<=z&&Ls[255+ye-ae]<=z&&Ls[255+ae-ne]<=z}function hs(g,_,x,P){var z=2*P+1;for(P=0;16>P;++P)Va(g,_+P,x,z)&&Ss(g,_+P,x)}function yr(g,_,x,P){var z=2*P+1;for(P=0;16>P;++P)Va(g,_+P*x,1,z)&&Ss(g,_+P*x,1)}function Ri(g,_,x,P){var z;for(z=3;0<z;--z)hs(g,_+=4*x,x,P)}function du(g,_,x,P){var z;for(z=3;0<z;--z)yr(g,_+=4,x,P)}function da(g,_,x,P,z,$,Y,J){for($=2*$+1;0<z--;){if(Fa(g,_,x,$,Y))if(El(g,_,x,J))Ss(g,_,x);else{var ne=g,ae=_,ye=x,ke=ne[ae-2*ye],Ie=ne[ae-ye],Le=ne[ae+0],We=ne[ae+ye],Be=ne[ae+2*ye],be=27*(Ue=xh[1020+3*(Le-Ie)+xh[1020+ke-We]])+63>>7,Ee=18*Ue+63>>7,Ue=9*Ue+63>>7;ne[ae-3*ye]=Ji[255+ne[ae-3*ye]+Ue],ne[ae-2*ye]=Ji[255+ke+Ee],ne[ae-ye]=Ji[255+Ie+be],ne[ae+0]=Ji[255+Le-be],ne[ae+ye]=Ji[255+We-Ee],ne[ae+2*ye]=Ji[255+Be-Ue]}_+=P}}function or(g,_,x,P,z,$,Y,J){for($=2*$+1;0<z--;){if(Fa(g,_,x,$,Y))if(El(g,_,x,J))Ss(g,_,x);else{var ne=g,ae=_,ye=x,ke=ne[ae-ye],Ie=ne[ae+0],Le=ne[ae+ye],We=kl[112+((Be=3*(Ie-ke))+4>>3)],Be=kl[112+(Be+3>>3)],be=We+1>>1;ne[ae-2*ye]=Ji[255+ne[ae-2*ye]+be],ne[ae-ye]=Ji[255+ke+Be],ne[ae+0]=Ji[255+Ie-We],ne[ae+ye]=Ji[255+Le-be]}_+=P}}function pa(g,_,x,P,z,$){da(g,_,x,1,16,P,z,$)}function Gs(g,_,x,P,z,$){da(g,_,1,x,16,P,z,$)}function xo(g,_,x,P,z,$){var Y;for(Y=3;0<Y;--Y)or(g,_+=4*x,x,1,16,P,z,$)}function Ua(g,_,x,P,z,$){var Y;for(Y=3;0<Y;--Y)or(g,_+=4,1,x,16,P,z,$)}function Lo(g,_,x,P,z,$,Y,J){da(g,_,z,1,8,$,Y,J),da(x,P,z,1,8,$,Y,J)}function Al(g,_,x,P,z,$,Y,J){da(g,_,1,z,8,$,Y,J),da(x,P,1,z,8,$,Y,J)}function za(g,_,x,P,z,$,Y,J){or(g,_+4*z,z,1,8,$,Y,J),or(x,P+4*z,z,1,8,$,Y,J)}function ga(g,_,x,P,z,$,Y,J){or(g,_+4,1,z,8,$,Y,J),or(x,P+4,1,z,8,$,Y,J)}function qa(){this.ba=new ci,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Sn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function To(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ha(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ma(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new M}function pu(){this.xb=this.a=0,this.l=new Vs,this.ca=new ci,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ma,this.ab=0,this.gc=o(4,Ha),this.Oc=0}function Ws(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function va(g,_,x,P,z,$,Y){for(g=g==null?0:g[_+0],_=0;_<Y;++_)z[$+_]=g+x[P+_]&255,g=z[$+_]}function Ga(g,_,x,P,z,$,Y){var J;if(g==null)va(null,null,x,P,z,$,Y);else for(J=0;J<Y;++J)z[$+J]=g[_+J]+x[P+J]&255}function br(g,_,x,P,z,$,Y){if(g==null)va(null,null,x,P,z,$,Y);else{var J,ne=g[_+0],ae=ne,ye=ne;for(J=0;J<Y;++J)ae=ye+(ne=g[_+J])-ae,ye=x[P+J]+(-256&ae?0>ae?0:255:ae)&255,ae=ne,z[$+J]=ye}}function Co(g,_,x,P){var z=_.width,$=_.o;if(e(g!=null&&_!=null),0>x||0>=P||x+P>$)return null;if(!g.Cc){if(g.ga==null){var Y;if(g.ga=new Ws,(Y=g.ga==null)||(Y=_.width*_.o,e(g.Gb.length==0),g.Gb=s(Y),g.Uc=0,g.Gb==null?Y=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,Y=1),Y=!Y),!Y){Y=g.ga;var J=g.Fa,ne=g.P,ae=g.qc,ye=g.mb,ke=g.nb,Ie=ne+1,Le=ae-1,We=Y.l;if(e(J!=null&&ye!=null&&_!=null),Ea[0]=null,Ea[1]=va,Ea[2]=Ga,Ea[3]=br,Y.ca=ye,Y.tb=ke,Y.c=_.width,Y.i=_.height,e(0<Y.c&&0<Y.i),1>=ae)_=0;else if(Y.$a=J[ne+0]>>0&3,Y.Z=J[ne+0]>>2&3,Y.Lc=J[ne+0]>>4&3,ne=J[ne+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||ne)_=0;else if(We.put=Li,We.ac=Vn,We.bc=Lr,We.ma=Y,We.width=_.width,We.height=_.height,We.Da=_.Da,We.v=_.v,We.va=_.va,We.j=_.j,We.o=_.o,Y.$a)e:{e(Y.$a==1),_=$n();t:for(;;){if(_==null){_=0;break e}if(e(Y!=null),Y.mc=_,_.c=Y.c,_.i=Y.i,_.l=Y.l,_.l.ma=Y,_.l.width=Y.c,_.l.height=Y.i,_.a=0,ce(_.m,J,Ie,Le),!xn(Y.c,Y.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Tr(_.s)?(Y.ic=1,J=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(J),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(Y.ic=0,_=Ds(_,Y.c)),!_))break t;_=1;break e}Y.mc=null,_=0}else _=Le>=Y.c*Y.i;Y=!_}if(Y)return null;g.ga.Lc!=1?g.Ga=0:P=$-x}e(g.ga!=null),e(x+P<=$);e:{if(_=(J=g.ga).c,$=J.l.o,J.$a==0){if(Ie=g.rc,Le=g.Vc,We=g.Fa,ne=g.P+1+x*_,ae=g.mb,ye=g.nb+x*_,e(ne<=g.P+g.qc),J.Z!=0)for(e(Ea[J.Z]!=null),Y=0;Y<P;++Y)Ea[J.Z](Ie,Le,We,ne,ae,ye,_),Ie=ae,Le=ye,ye+=_,ne+=_;else for(Y=0;Y<P;++Y)i(ae,ye,We,ne,_),Ie=ae,Le=ye,ye+=_,ne+=_;g.rc=Ie,g.Vc=Le}else{if(e(J.mc!=null),_=x+P,e((Y=J.mc)!=null),e(_<=Y.i),Y.C>=_)_=1;else if(J.ic||xe(),J.ic){J=Y.V,Ie=Y.Ba,Le=Y.c;var Be=Y.i,be=(We=1,ne=Y.$/Le,ae=Y.$%Le,ye=Y.m,ke=Y.s,Y.$),Ee=Le*Be,Ue=Le*_,$e=ke.wc,He=be<Ue?hi(ke,ae,ne):null;e(be<=Ee),e(_<=Be),e(Tr(ke));t:for(;;){for(;!ye.h&&be<Ue;){if(ae&$e||(He=hi(ke,ae,ne)),e(He!=null),ue(ye),256>(Be=Jn(He.G[0],He.H[0],ye)))J[Ie+be]=Be,++be,++ae>=Le&&(ae=0,++ne<=_&&!(ne%16)&&Di(Y,ne));else{if(!(280>Be)){We=0;break t}Be=ht(Be-256,ye);var ft,st=Jn(He.G[4],He.H[4],ye);if(ue(ye),!(be>=(st=On(Le,st=ht(st,ye)))&&Ee-be>=Be)){We=0;break t}for(ft=0;ft<Be;++ft)J[Ie+be+ft]=J[Ie+be+ft-st];for(be+=Be,ae+=Be;ae>=Le;)ae-=Le,++ne<=_&&!(ne%16)&&Di(Y,ne);be<Ue&&ae&$e&&(He=hi(ke,ae,ne))}e(ye.h==ie(ye))}Di(Y,ne>_?_:ne);break t}!We||ye.h&&be<Ee?(We=0,Y.a=ye.h?5:3):Y.$=be,_=We}else _=Ci(Y,Y.V,Y.Ba,Y.c,Y.i,_,js);if(!_){P=0;break e}}x+P>=$&&(g.Cc=1),P=1}if(!P)return null;if(g.Cc&&((P=g.ga)!=null&&(P.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+x*z}function E(g,_,x,P,z,$){for(;0<z--;){var Y,J=g,ne=_+(x?1:0),ae=g,ye=_+(x?0:3);for(Y=0;Y<P;++Y){var ke=ae[ye+4*Y];ke!=255&&(ke*=32897,J[ne+4*Y+0]=J[ne+4*Y+0]*ke>>23,J[ne+4*Y+1]=J[ne+4*Y+1]*ke>>23,J[ne+4*Y+2]=J[ne+4*Y+2]*ke>>23)}_+=$}}function q(g,_,x,P,z){for(;0<P--;){var $;for($=0;$<x;++$){var Y=g[_+2*$+0],J=15&(ae=g[_+2*$+1]),ne=4369*J,ae=(240&ae|ae>>4)*ne>>16;g[_+2*$+0]=(240&Y|Y>>4)*ne>>16&240|(15&Y|Y<<4)*ne>>16>>4&15,g[_+2*$+1]=240&ae|J}_+=z}}function le(g,_,x,P,z,$,Y,J){var ne,ae,ye=255;for(ae=0;ae<z;++ae){for(ne=0;ne<P;++ne){var ke=g[_+ne];$[Y+4*ne]=ke,ye&=ke}_+=x,Y+=J}return ye!=255}function ge(g,_,x,P,z){var $;for($=0;$<z;++$)x[P+$]=g[_+$]>>8}function xe(){fs=E,nn=q,rn=le,Yn=ge}function Fe(g,_,x){N[g]=function(P,z,$,Y,J,ne,ae,ye,ke,Ie,Le,We,Be,be,Ee,Ue,$e){var He,ft=$e-1>>1,st=J[ne+0]|ae[ye+0]<<16,xt=ke[Ie+0]|Le[We+0]<<16;e(P!=null);var lt=3*st+xt+131074>>2;for(_(P[z+0],255&lt,lt>>16,Be,be),$!=null&&(lt=3*xt+st+131074>>2,_($[Y+0],255&lt,lt>>16,Ee,Ue)),He=1;He<=ft;++He){var yn=J[ne+He]|ae[ye+He]<<16,Cn=ke[Ie+He]|Le[We+He]<<16,Jt=st+yn+xt+Cn+524296,Qt=Jt+2*(yn+xt)>>3;lt=Qt+st>>1,st=(Jt=Jt+2*(st+Cn)>>3)+yn>>1,_(P[z+2*He-1],255&lt,lt>>16,Be,be+(2*He-1)*x),_(P[z+2*He-0],255&st,st>>16,Be,be+(2*He-0)*x),$!=null&&(lt=Jt+xt>>1,st=Qt+Cn>>1,_($[Y+2*He-1],255&lt,lt>>16,Ee,Ue+(2*He-1)*x),_($[Y+2*He+0],255&st,st>>16,Ee,Ue+(2*He+0)*x)),st=yn,xt=Cn}1&$e||(lt=3*st+xt+131074>>2,_(P[z+$e-1],255&lt,lt>>16,Be,be+($e-1)*x),$!=null&&(lt=3*xt+st+131074>>2,_($[Y+$e-1],255&lt,lt>>16,Ee,Ue+($e-1)*x)))}}function Ze(){er[_r]=eo,er[bu]=Aa,er[wa]=zo,er[Ic]=Ch,er[Nl]=Ih,er[Ya]=Su,er[Lh]=Rh,er[Rc]=Aa,er[Fo]=Ch,er[Xa]=Ih,er[_u]=Su}function ot(g){return g&-16384?0>g?0:255:g>>n0}function m(g,_){return ot((19077*g>>8)+(26149*_>>8)-14234)}function L(g,_,x){return ot((19077*g>>8)-(6419*_>>8)-(13320*x>>8)+8708)}function D(g,_){return ot((19077*g>>8)+(33050*_>>8)-17685)}function ee(g,_,x,P,z){P[z+0]=m(g,x),P[z+1]=L(g,_,x),P[z+2]=D(g,_)}function Ae(g,_,x,P,z){P[z+0]=D(g,_),P[z+1]=L(g,_,x),P[z+2]=m(g,x)}function Pe(g,_,x,P,z){var $=L(g,_,x);_=$<<3&224|D(g,_)>>3,P[z+0]=248&m(g,x)|$>>5,P[z+1]=_}function Je(g,_,x,P,z){var $=240&D(g,_)|15;P[z+0]=240&m(g,x)|L(g,_,x)>>4,P[z+1]=$}function kt(g,_,x,P,z){P[z+0]=255,ee(g,_,x,P,z+1)}function on(g,_,x,P,z){Ae(g,_,x,P,z),P[z+3]=255}function Ut(g,_,x,P,z){ee(g,_,x,P,z),P[z+3]=255}function Tn(g,_){return 0>g?0:g>_?_:g}function Dn(g,_,x){N[g]=function(P,z,$,Y,J,ne,ae,ye,ke){for(var Ie=ye+(-2&ke)*x;ye!=Ie;)_(P[z+0],$[Y+0],J[ne+0],ae,ye),_(P[z+1],$[Y+0],J[ne+0],ae,ye+x),z+=2,++Y,++ne,ye+=2*x;1&ke&&_(P[z+0],$[Y+0],J[ne+0],ae,ye)}}function Es(g,_,x){return x==0?g==0?_==0?6:5:_==0?4:0:x}function vi(g,_,x,P,z){switch(g>>>30){case 3:Ks(_,x,P,z,0);break;case 2:fi(_,x,P,z);break;case 1:ki(_,x,P,z)}}function Hr(g,_){var x,P,z=_.M,$=_.Nb,Y=g.oc,J=g.pc+40,ne=g.oc,ae=g.pc+584,ye=g.oc,ke=g.pc+600;for(x=0;16>x;++x)Y[J+32*x-1]=129;for(x=0;8>x;++x)ne[ae+32*x-1]=129,ye[ke+32*x-1]=129;for(0<z?Y[J-1-32]=ne[ae-1-32]=ye[ke-1-32]=129:(r(Y,J-32-1,127,21),r(ne,ae-32-1,127,9),r(ye,ke-32-1,127,9)),P=0;P<g.za;++P){var Ie=_.ya[_.aa+P];if(0<P){for(x=-1;16>x;++x)i(Y,J+32*x-4,Y,J+32*x+12,4);for(x=-1;8>x;++x)i(ne,ae+32*x-4,ne,ae+32*x+4,4),i(ye,ke+32*x-4,ye,ke+32*x+4,4)}var Le=g.Gd,We=g.Hd+P,Be=Ie.ad,be=Ie.Hc;if(0<z&&(i(Y,J-32,Le[We].y,0,16),i(ne,ae-32,Le[We].f,0,8),i(ye,ke-32,Le[We].ea,0,8)),Ie.Za){var Ee=Y,Ue=J-32+16;for(0<z&&(P>=g.za-1?r(Ee,Ue,Le[We].y[15],4):i(Ee,Ue,Le[We+1].y,0,4)),x=0;4>x;x++)Ee[Ue+128+x]=Ee[Ue+256+x]=Ee[Ue+384+x]=Ee[Ue+0+x];for(x=0;16>x;++x,be<<=2)Ee=Y,Ue=J+Dl[x],Rr[Ie.Ob[x]](Ee,Ue),vi(be,Be,16*+x,Ee,Ue)}else if(Ee=Es(P,z,Ie.Ob[0]),Ja[Ee](Y,J),be!=0)for(x=0;16>x;++x,be<<=2)vi(be,Be,16*+x,Y,J+Dl[x]);for(x=Ie.Gc,Ee=Es(P,z,Ie.Dd),ps[Ee](ne,ae),ps[Ee](ye,ke),be=Be,Ee=ne,Ue=ae,255&(Ie=x>>0)&&(170&Ie?Ys(be,256,Ee,Ue):$r(be,256,Ee,Ue)),Ie=ye,be=ke,255&(x>>=8)&&(170&x?Ys(Be,320,Ie,be):$r(Be,320,Ie,be)),z<g.Ub-1&&(i(Le[We].y,0,Y,J+480,16),i(Le[We].f,0,ne,ae+224,8),i(Le[We].ea,0,ye,ke+224,8)),x=8*$*g.B,Le=g.sa,We=g.ta+16*P+16*$*g.R,Be=g.qa,Ie=g.ra+8*P+x,be=g.Ha,Ee=g.Ia+8*P+x,x=0;16>x;++x)i(Le,We+x*g.R,Y,J+32*x,16);for(x=0;8>x;++x)i(Be,Ie+x*g.B,ne,ae+32*x,8),i(be,Ee+x*g.B,ye,ke+32*x,8)}}function ya(g,_,x,P,z,$,Y,J,ne){var ae=[0],ye=[0],ke=0,Ie=ne!=null?ne.kd:0,Le=ne??new To;if(g==null||12>x)return 7;Le.data=g,Le.w=_,Le.ha=x,_=[_],x=[x],Le.gb=[Le.gb];e:{var We=_,Be=x,be=Le.gb;if(e(g!=null),e(Be!=null),e(be!=null),be[0]=0,12<=Be[0]&&!t(g,We[0],"RIFF")){if(t(g,We[0]+8,"WEBP")){be=3;break e}var Ee=nt(g,We[0]+4);if(12>Ee||4294967286<Ee){be=3;break e}if(Ie&&Ee>Be[0]-8){be=7;break e}be[0]=Ee,We[0]+=12,Be[0]-=12}be=0}if(be!=0)return be;for(Ee=0<Le.gb[0],x=x[0];;){e:{var Ue=g;Be=_,be=x;var $e=ae,He=ye,ft=We=[0];if((lt=ke=[ke])[0]=0,8>be[0])be=7;else{if(!t(Ue,Be[0],"VP8X")){if(nt(Ue,Be[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var st=nt(Ue,Be[0]+8),xt=1+tt(Ue,Be[0]+12);if(2147483648<=xt*(Ue=1+tt(Ue,Be[0]+15))){be=3;break e}ft!=null&&(ft[0]=st),$e!=null&&($e[0]=xt),He!=null&&(He[0]=Ue),Be[0]+=18,be[0]-=18,lt[0]=1}be=0}}if(ke=ke[0],We=We[0],be!=0)return be;if(Be=!!(2&We),!Ee&&ke)return 3;if($!=null&&($[0]=!!(16&We)),Y!=null&&(Y[0]=Be),J!=null&&(J[0]=0),Y=ae[0],We=ye[0],ke&&Be&&ne==null){be=0;break}if(4>x){be=7;break}if(Ee&&ke||!Ee&&!ke&&!t(g,_[0],"ALPH")){x=[x],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{st=g,be=_,Ee=x;var lt=Le.gb;$e=Le.na,He=Le.P,ft=Le.Sa,xt=22,e(st!=null),e(Ee!=null),Ue=be[0];var yn=Ee[0];for(e($e!=null),e(ft!=null),$e[0]=null,He[0]=null,ft[0]=0;;){if(be[0]=Ue,Ee[0]=yn,8>yn){be=7;break e}var Cn=nt(st,Ue+4);if(4294967286<Cn){be=3;break e}var Jt=8+Cn+1&-2;if(xt+=Jt,0<lt&&xt>lt){be=3;break e}if(!t(st,Ue,"VP8 ")||!t(st,Ue,"VP8L")){be=0;break e}if(yn[0]<Jt){be=7;break e}t(st,Ue,"ALPH")||($e[0]=st,He[0]=Ue+8,ft[0]=Cn),Ue+=Jt,yn-=Jt}}if(x=x[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],be!=0)break}x=[x],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(lt=g,be=_,Ee=x,$e=Le.gb[0],He=Le.Ja,ft=Le.xa,st=be[0],Ue=!t(lt,st,"VP8 "),xt=!t(lt,st,"VP8L"),e(lt!=null),e(Ee!=null),e(He!=null),e(ft!=null),8>Ee[0])be=7;else{if(Ue||xt){if(lt=nt(lt,st+4),12<=$e&&lt>$e-12){be=3;break e}if(Ie&&lt>Ee[0]-8){be=7;break e}He[0]=lt,be[0]+=8,Ee[0]-=8,ft[0]=xt}else ft[0]=5<=Ee[0]&&lt[st+0]==47&&!(lt[st+4]>>5),He[0]=Ee[0];be=0}if(x=x[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],_=_[0],be!=0)break;if(4294967286<Le.Ja)return 3;if(J==null||Be||(J[0]=Le.xa?2:1),Y=[Y],We=[We],Le.xa){if(5>x){be=7;break}J=Y,Ie=We,Be=$,g==null||5>x?g=0:5<=x&&g[_+0]==47&&!(g[_+4]>>5)?(Ee=[0],lt=[0],$e=[0],ce(He=new F,g,_,x),ct(He,Ee,lt,$e)?(J!=null&&(J[0]=Ee[0]),Ie!=null&&(Ie[0]=lt[0]),Be!=null&&(Be[0]=$e[0]),g=1):g=0):g=0}else{if(10>x){be=7;break}J=We,g==null||10>x||!Qi(g,_+3,x-3)?g=0:(Ie=g[_+0]|g[_+1]<<8|g[_+2]<<16,Be=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=Le.Ja||!Be||!g?g=0:(Y&&(Y[0]=Be),J&&(J[0]=g),g=1))}if(!g||(Y=Y[0],We=We[0],ke&&(ae[0]!=Y||ye[0]!=We)))return 3;ne!=null&&(ne[0]=Le,ne.offset=_-ne.w,e(4294967286>_-ne.w),e(ne.offset==ne.ha-x));break}return be==0||be==7&&ke&&ne==null?($!=null&&($[0]|=Le.na!=null&&0<Le.na.length),P!=null&&(P[0]=Y),z!=null&&(z[0]=We),0):be}function Io(g,_,x){var P=_.width,z=_.height,$=0,Y=0,J=P,ne=z;if(_.Da=g!=null&&0<g.Da,_.Da&&(J=g.cd,ne=g.bd,$=g.v,Y=g.j,11>x||($&=-2,Y&=-2),0>$||0>Y||0>=J||0>=ne||$+J>P||Y+ne>z))return 0;if(_.v=$,_.j=Y,_.va=$+J,_.o=Y+ne,_.U=J,_.T=ne,_.da=g!=null&&0<g.da,_.da){if(!Et(J,ne,x=[g.ib],$=[g.hb]))return 0;_.ib=x[0],_.hb=$[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*P/4&&_.hb<3*z/4,_.Kb=0),1}function gu(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function xl(g,_,x,P){if(P==null||0>=g||0>=_)return 2;if(x!=null){if(x.Da){var z=x.cd,$=x.bd,Y=-2&x.v,J=-2&x.j;if(0>Y||0>J||0>=z||0>=$||Y+z>g||J+$>_)return 2;g=z,_=$}if(x.da){if(!Et(g,_,z=[x.ib],$=[x.hb]))return 2;g=z[0],_=$[0]}}P.width=g,P.height=_;e:{var ne=P.width,ae=P.height;if(g=P.S,0>=ne||0>=ae||!(g>=_r&&13>g))g=2;else{if(0>=P.Rd&&P.sd==null){Y=$=z=_=0;var ye=(J=ne*Yp[g])*ae;if(11>g||($=(ae+1)/2*(_=(ne+1)/2),g==12&&(Y=(z=ne)*ae)),(ae=s(ye+2*$+Y))==null){g=1;break e}P.sd=ae,11>g?((ne=P.f.RGBA).eb=ae,ne.fb=0,ne.A=J,ne.size=ye):((ne=P.f.kb).y=ae,ne.O=0,ne.fa=J,ne.Fd=ye,ne.f=ae,ne.N=0+ye,ne.Ab=_,ne.Cd=$,ne.ea=ae,ne.W=0+ye+$,ne.Db=_,ne.Ed=$,g==12&&(ne.F=ae,ne.J=0+ye+2*$),ne.Tc=Y,ne.lb=z)}if(_=1,z=P.S,$=P.width,Y=P.height,z>=_r&&13>z)if(11>z)g=P.f.RGBA,_&=(J=Math.abs(g.A))*(Y-1)+$<=g.size,_&=J>=$*Yp[z],_&=g.eb!=null;else{g=P.f.kb,J=($+1)/2,ye=(Y+1)/2,ne=Math.abs(g.fa),ae=Math.abs(g.Ab);var ke=Math.abs(g.Db),Ie=Math.abs(g.lb),Le=Ie*(Y-1)+$;_&=ne*(Y-1)+$<=g.Fd,_&=ae*(ye-1)+J<=g.Cd,_=(_&=ke*(ye-1)+J<=g.Ed)&ne>=$&ae>=J&ke>=J,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,z==12&&(_&=Ie>=$,_&=Le<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||x!=null&&x.fd&&(g=gu(P)),g}var Vi=64,Ro=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ll=24,Tl=32,mu=8,Gr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(g){return g},N.Predictor2=function(g,_,x){return _[x+0]},N.Predictor3=function(g,_,x){return _[x+1]},N.Predictor4=function(g,_,x){return _[x-1]},N.Predictor5=function(g,_,x){return at(at(g,_[x+1]),_[x+0])},N.Predictor6=function(g,_,x){return at(g,_[x-1])},N.Predictor7=function(g,_,x){return at(g,_[x+0])},N.Predictor8=function(g,_,x){return at(_[x-1],_[x+0])},N.Predictor9=function(g,_,x){return at(_[x+0],_[x+1])},N.Predictor10=function(g,_,x){return at(at(g,_[x-1]),at(_[x+0],_[x+1]))},N.Predictor11=function(g,_,x){var P=_[x+0];return 0>=Ot(P>>24&255,g>>24&255,(_=_[x-1])>>24&255)+Ot(P>>16&255,g>>16&255,_>>16&255)+Ot(P>>8&255,g>>8&255,_>>8&255)+Ot(255&P,255&g,255&_)?P:g},N.Predictor12=function(g,_,x){var P=_[x+0];return(vt((g>>24&255)+(P>>24&255)-((_=_[x-1])>>24&255))<<24|vt((g>>16&255)+(P>>16&255)-(_>>16&255))<<16|vt((g>>8&255)+(P>>8&255)-(_>>8&255))<<8|vt((255&g)+(255&P)-(255&_)))>>>0},N.Predictor13=function(g,_,x){var P=_[x-1];return(It((g=at(g,_[x+0]))>>24&255,P>>24&255)<<24|It(g>>16&255,P>>16&255)<<16|It(g>>8&255,P>>8&255)<<8|It(g>>0&255,P>>0&255))>>>0};var Wf=N.PredictorAdd0;N.PredictorAdd1=yt,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var Tc=N.PredictorAdd2;Ht("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Ah,As=N.ColorIndexInverseTransform,Zi=N.MapARGB,ko=N.VP8LColorIndexInverseTransformAlpha,Cc=N.MapAlpha,Wa=N.VP8LPredictorsAdd=[];Wa.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var No,Ir,lr,Po,Wr,$s,ba,Ks,fi,Ys,ki,$r,Cl,_a,vu,Mo,Oo,Do,Il,yu,jo,$a,Rl,di,fs,nn,rn,Yn,yi=s(511),xs=s(2041),Bo=s(225),Vo=s(767),Ka=0,xh=xs,kl=Bo,Ji=Vo,Ls=yi,_r=0,bu=1,wa=2,Ic=3,Nl=4,Ya=5,Lh=6,Rc=7,Fo=8,Xa=9,_u=10,Th=[2,3,7],Ts=[3,3,11],ds=[280,256,256,256,40],Pl=[0,1,1,1,0],Qa=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Za=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ml=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Hp=8,kc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Fi=null,pi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],En=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Uo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$f=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ol=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ja=[],Rr=[],ps=[],Wp=1,wu=2,Ea=[],er=[];Fe("UpsampleRgbLinePair",ee,3),Fe("UpsampleBgrLinePair",Ae,3),Fe("UpsampleRgbaLinePair",Ut,4),Fe("UpsampleBgraLinePair",on,4),Fe("UpsampleArgbLinePair",kt,4),Fe("UpsampleRgba4444LinePair",Je,2),Fe("UpsampleRgb565LinePair",Pe,2);var eo=N.UpsampleRgbLinePair,zo=N.UpsampleBgrLinePair,Aa=N.UpsampleRgbaLinePair,Ch=N.UpsampleBgraLinePair,Ih=N.UpsampleArgbLinePair,Su=N.UpsampleRgba4444LinePair,Rh=N.UpsampleRgb565LinePair,xa=16,Ui=1<<xa-1,qo=-227,kh=482,n0=6,$p=0,i0=s(256),zi=s(256),Kf=s(256),Pc=s(256),Mc=s(kh-qo),Yf=s(kh-qo);Dn("YuvToRgbRow",ee,3),Dn("YuvToBgrRow",Ae,3),Dn("YuvToRgbaRow",Ut,4),Dn("YuvToBgraRow",on,4),Dn("YuvToArgbRow",kt,4),Dn("YuvToRgba4444Row",Je,2),Dn("YuvToRgb565Row",Pe,2);var Dl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],to=[0,2,8],r0=[8,7,6,4,4,2,2,2,1,1,1,1],Kp=1;this.WebPDecodeRGBA=function(g,_,x,P,z){var $=bu,Y=new qa,J=new ci;Y.ba=J,J.S=$,J.width=[J.width],J.height=[J.height];var ne=J.width,ae=J.height,ye=new xi;if(ye==null||g==null)var ke=2;else e(ye!=null),ke=ya(g,_,x,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(ke!=0?ne=0:(ne!=null&&(ne[0]=ye.width[0]),ae!=null&&(ae[0]=ye.height[0]),ne=1),ne){J.width=J.width[0],J.height=J.height[0],P!=null&&(P[0]=J.width),z!=null&&(z[0]=J.height);e:{if(P=new Vs,(z=new To).data=g,z.w=_,z.ha=x,z.kd=1,_=[0],e(z!=null),((g=ya(z.data,z.w,z.ha,null,null,null,_,null,z))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(Y!=null),P.data=z.data,P.w=z.w+z.offset,P.ha=z.ha-z.offset,P.put=Li,P.ac=Vn,P.bc=Lr,P.ma=Y,z.xa){if((g=$n())==null){Y=1;break e}if(function(Ie,Le){var We=[0],Be=[0],be=[0];t:for(;;){if(Ie==null)return 0;if(Le==null)return Ie.a=2,0;if(Ie.l=Le,Ie.a=0,ce(Ie.m,Le.data,Le.w,Le.ha),!ct(Ie.m,We,Be,be)){Ie.a=3;break t}if(Ie.xb=wu,Le.width=We[0],Le.height=Be[0],!xn(We[0],Be[0],1,Ie,null))break t;return 1}return e(Ie.a!=0),0}(g,P)){if(P=(_=xl(P.width,P.height,Y.Oa,Y.ba))==0){t:{P=g;n:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((x=P.l)!=null),e((z=x.ma)!=null),P.xb!=0){if(P.ca=z.ba,P.tb=z.tb,e(P.ca!=null),!Io(z.Oa,x,Ic)){P.a=2;break n}if(!Ds(P,x.width)||x.da)break n;if((x.da||tn(P.ca.S))&&xe(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&xe()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!St(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!Ci(P,P.V,P.Ba,P.c,P.i,x.o,Da))break n;z.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(_=g.a)}else _=g.a}else{if((g=new yl)==null){Y=1;break e}if(g.Fa=z.na,g.P=z.P,g.qc=z.Sa,So(g,P)){if((_=xl(P.width,P.height,Y.Oa,Y.ba))==0){if(g.Aa=0,x=Y.Oa,e((z=g)!=null),x!=null){if(0<(ne=0>(ne=x.Md)?0:100<ne?255:255*ne/100)){for(ae=ye=0;4>ae;++ae)12>(ke=z.pb[ae]).lc&&(ke.ia=ne*r0[0>ke.lc?0:ke.lc]>>3),ye|=ke.ia;ye&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=x.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}bl(g,P)||(_=g.a)}}else _=g.a}_==0&&Y.Oa!=null&&Y.Oa.fd&&(_=gu(Y.ba))}Y=_}$=Y!=0?null:11>$?J.f.RGBA.eb:J.f.kb.y}else $=null;return $};var Yp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(N,O){for(var G="",k=0;k<4;k++)G+=String.fromCharCode(N[O++]);return G}function p(N,O){return(N[O+0]<<0|N[O+1]<<8|N[O+2]<<16)>>>0}function v(N,O){return(N[O+0]<<0|N[O+1]<<8|N[O+2]<<16|N[O+3]<<24)>>>0}new c;var w=[0],b=[0],A=[],T=new c,C=n,I=function(N,O){var G={},k=0,M=!1,V=0,oe=0;if(G.frames=[],!function(H,ie,Q,ue){for(var we=0;we<ue;we++)if(H[ie+we]!=Q.charCodeAt(we))return!0;return!1}(N,O,"RIFF",4)){for(v(N,O+=4),O+=8;O<N.length;){var pe=f(N,O),re=v(N,O+=4);O+=4;var he=re+(1&re);switch(pe){case"VP8 ":case"VP8L":G.frames[k]===void 0&&(G.frames[k]={}),(K=G.frames[k]).src_off=M?oe:O-8,K.src_size=V+re+8,k++,M&&(M=!1,V=0,oe=0);break;case"VP8X":(K=G.header={}).feature_flags=N[O];var ce=O+4;K.canvas_width=1+p(N,ce),ce+=3,K.canvas_height=1+p(N,ce),ce+=3;break;case"ALPH":M=!0,V=he+8,oe=O-8;break;case"ANIM":(K=G.header).bgcolor=v(N,O),ce=O+4,K.loop_count=(ve=N)[(F=ce)+0]<<0|ve[F+1]<<8,ce+=2;break;case"ANMF":var Se,K;(K=G.frames[k]={}).offset_x=2*p(N,O),O+=3,K.offset_y=2*p(N,O),O+=3,K.width=1+p(N,O),O+=3,K.height=1+p(N,O),O+=3,K.duration=p(N,O),O+=3,Se=N[O++],K.dispose=1&Se,K.blend=Se>>1&1}pe!="ANMF"&&(O+=he)}var ve,F;return G}}(C,0);I.response=C,I.rgbaoutput=!0,I.dataurl=!1;var j=I.header?I.header:null,W=I.frames?I.frames:null;if(j){j.loop_counter=j.loop_count,w=[j.canvas_height],b=[j.canvas_width];for(var Z=0;Z<W.length&&W[Z].blend!=0;Z++);}var X=W[0],se=T.WebPDecodeRGBA(C,X.src_off,X.src_size,b,w);X.rgba=se,X.imgwidth=b[0],X.imgheight=w[0];for(var B=0;B<b[0]*w[0]*4;B++)A[B]=se[B];return this.width=b,this.height=w,this.data=A,this}(function(n){var e=function(){return typeof G1=="function"},t=function(w,b,A,T){var C=4,I=o;switch(T){case n.image_compression.FAST:C=1,I=s;break;case n.image_compression.MEDIUM:C=6,I=u;break;case n.image_compression.SLOW:C=9,I=c}w=i(w,b,A,I);var j=G1(w,{level:C});return n.__addimage__.arrayBufferToBinaryString(j)},i=function(w,b,A,T){for(var C,I,j,W=w.length/b,Z=new Uint8Array(w.length+W),X=p(),se=0;se<W;se+=1){if(j=se*b,C=w.subarray(j,j+b),T)Z.set(T(C,A,I),j+se);else{for(var B,N=X.length,O=[];B<N;B+=1)O[B]=X[B](C,A,I);var G=v(O.concat());Z.set(O[G],j+se)}I=C}return Z},r=function(w){var b=Array.apply([],w);return b.unshift(0),b},s=function(w,b){var A,T=[],C=w.length;T[0]=1;for(var I=0;I<C;I+=1)A=w[I-b]||0,T[I+1]=w[I]-A+256&255;return T},o=function(w,b,A){var T,C=[],I=w.length;C[0]=2;for(var j=0;j<I;j+=1)T=A&&A[j]||0,C[j+1]=w[j]-T+256&255;return C},u=function(w,b,A){var T,C,I=[],j=w.length;I[0]=3;for(var W=0;W<j;W+=1)T=w[W-b]||0,C=A&&A[W]||0,I[W+1]=w[W]+256-(T+C>>>1)&255;return I},c=function(w,b,A){var T,C,I,j,W=[],Z=w.length;W[0]=4;for(var X=0;X<Z;X+=1)T=w[X-b]||0,C=A&&A[X]||0,I=A&&A[X-b]||0,j=f(T,C,I),W[X+1]=w[X]-j+256&255;return W},f=function(w,b,A){if(w===b&&b===A)return w;var T=Math.abs(b-A),C=Math.abs(w-A),I=Math.abs(w+b-A-A);return T<=C&&T<=I?w:C<=I?b:A},p=function(){return[r,s,o,u,c]},v=function(w){var b=w.map(function(A){return A.reduce(function(T,C){return T+Math.abs(C)},0)});return b.indexOf(Math.min.apply(null,b))};n.processPNG=function(w,b,A,T){var C,I,j,W,Z,X,se,B,N,O,G,k,M,V,oe,pe=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(w)&&(w=new Uint8Array(w)),this.__addimage__.isArrayBufferView(w)){if(w=(j=new oF(w)).imgData,I=j.bits,C=j.colorSpace,Z=j.colors,[4,6].indexOf(j.colorType)!==-1){if(j.bits===8){N=(B=j.pixelBitlength==32?new Uint32Array(j.decodePixels().buffer):j.pixelBitlength==16?new Uint16Array(j.decodePixels().buffer):new Uint8Array(j.decodePixels().buffer)).length,G=new Uint8Array(N*j.colors),O=new Uint8Array(N);var he,ce=j.pixelBitlength-j.bits;for(V=0,oe=0;V<N;V++){for(M=B[V],he=0;he<ce;)G[oe++]=M>>>he&255,he+=j.bits;O[V]=M>>>he&255}}if(j.bits===16){N=(B=new Uint32Array(j.decodePixels().buffer)).length,G=new Uint8Array(N*(32/j.pixelBitlength)*j.colors),O=new Uint8Array(N*(32/j.pixelBitlength)),k=j.colors>1,V=0,oe=0;for(var Se=0;V<N;)M=B[V++],G[oe++]=M>>>0&255,k&&(G[oe++]=M>>>16&255,M=B[V++],G[oe++]=M>>>0&255),O[Se++]=M>>>16&255;I=8}T!==n.image_compression.NONE&&e()?(w=t(G,j.width*j.colors,j.colors,T),se=t(O,j.width,1,T)):(w=G,se=O,pe=void 0)}if(j.colorType===3&&(C=this.color_spaces.INDEXED,X=j.palette,j.transparency.indexed)){var K=j.transparency.indexed,ve=0;for(V=0,N=K.length;V<N;++V)ve+=K[V];if((ve/=255)===N-1&&K.indexOf(0)!==-1)W=[K.indexOf(0)];else if(ve!==N){for(B=j.decodePixels(),O=new Uint8Array(B.length),V=0,N=B.length;V<N;V++)O[V]=K[B[V]];se=t(O,j.width,1)}}var F=function(H){var ie;switch(H){case n.image_compression.FAST:ie=11;break;case n.image_compression.MEDIUM:ie=13;break;case n.image_compression.SLOW:ie=14;break;default:ie=12}return ie}(T);return pe===this.decode.FLATE_DECODE&&(re="/Predictor "+F+" "),re+="/Colors "+Z+" /BitsPerComponent "+I+" /Columns "+j.width,(this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),(se&&this.__addimage__.isArrayBuffer(se)||this.__addimage__.isArrayBufferView(se))&&(se=this.__addimage__.arrayBufferToBinaryString(se)),{alias:A,data:w,index:b,filter:pe,decodeParameters:re,transparency:W,palette:X,sMask:se,predictor:F,width:j.width,height:j.height,bitsPerComponent:I,colorSpace:C}}}})(Mt.API),function(n){n.processGIF89A=function(e,t,i,r){var s=new lF(e),o=s.width,u=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:o,height:u},p=new Jy(100).encode(f,100);return n.processJPEG.call(this,p,t,i,r)},n.processGIF87A=n.processGIF89A}(Mt.API),uo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},uo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){ti.log("bit decode error:"+t)}},uo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,u=0;u<8&&8*r+u<this.width;u++){var c=this.palette[s>>7-u&1];this.data[o+4*u]=c.blue,this.data[o+4*u+1]=c.green,this.data[o+4*u+2]=c.red,this.data[o+4*u+3]=255}t!==0&&(this.pos+=4-t)}},uo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,u=s>>4,c=15&s,f=this.palette[u];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*r+1>=this.width)break;f=this.palette[c],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},uo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},uo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,f=s>>15?255:0,p=i*this.width*4+4*r;this.data[p]=c,this.data[p+1]=u,this.data[p+2]=o,this.data[p+3]=f}this.pos+=n}},uo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&t)/t*255|0,f=(o>>11)/e*255|0,p=r*this.width*4+4*s;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=u,this.data[p+3]=255}this.pos+=n}},uo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},uo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=r,this.data[u+2]=i,this.data[u+3]=o}},uo.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,i,r){var s=new uo(e,!1),o=s.width,u=s.height,c={data:s.getData(),width:o,height:u},f=new Jy(100).encode(c,100);return n.processJPEG.call(this,f,t,i,r)}}(Mt.API),nx.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,i,r){var s=new nx(e),o=s.width,u=s.height,c={data:s.getData(),width:o,height:u},f=new Jy(100).encode(c,100);return n.processJPEG.call(this,f,t,i,r)}}(Mt.API),Mt.API.processRGBA=function(n,e,t){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),u=0,c=0,f=0;f<r;f+=4){var p=i[f],v=i[f+1],w=i[f+2],b=i[f+3];s[u++]=p,s[u++]=v,s[u++]=w,o[c++]=b}var A=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Mt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},tf=Mt.API,pm=tf.getCharWidthsArray=function(n,e){var t,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:r.metadata.Unicode.widths,c=u.fof?u.fof:1,f=e.kerning?e.kerning:r.metadata.Unicode.kerning,p=f.fof?f.fof:1,v=e.doKerning!==!1,w=0,b=n.length,A=0,T=u[0]||c,C=[];for(t=0;t<b;t++)i=n.charCodeAt(t),typeof r.metadata.widthOfString=="function"?C.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(w=v&&Wn(f[i])==="object"&&!isNaN(parseInt(f[i][A],10))?f[i][A]/p:0,C.push((u[i]||T)/c+w)),A=i;return C},ZA=tf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return tf.processArabic&&(n=tf.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,r)/t:pm.apply(this,arguments).reduce(function(s,o){return s+o},0)},JA=function(n,e,t,i){for(var r=[],s=0,o=n.length,u=0;s!==o&&u+e[s]<t;)u+=e[s],s++;r.push(n.slice(0,s));var c=s;for(u=0;s!==o;)u+e[s]>i&&(r.push(n.slice(c,s)),u=0,c=s),u+=e[s],s++;return c!==s&&r.push(n.slice(c,s)),r},ex=function(n,e,t){t||(t={});var i,r,s,o,u,c,f,p=[],v=[p],w=t.textIndent||0,b=0,A=0,T=n.split(" "),C=pm.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?T[0].length+2:t.lineIndent||0){var I=Array(c).join(" "),j=[];T.map(function(Z){(Z=Z.split(/\s*\n/)).length>1?j=j.concat(Z.map(function(X,se){return(se&&X.length?`
`:"")+X})):j.push(Z[0])}),T=j,c=ZA.apply(this,[I,t])}for(s=0,o=T.length;s<o;s++){var W=0;if(i=T[s],c&&i[0]==`
`&&(i=i.substr(1),W=1),w+b+(A=(r=pm.apply(this,[i,t])).reduce(function(Z,X){return Z+X},0))>e||W){if(A>e){for(u=JA.apply(this,[i,r,e-(w+b),e]),p.push(u.shift()),p=[u.pop()];u.length;)v.push([u.shift()]);A=r.slice(i.length-(p[0]?p[0].length:0)).reduce(function(Z,X){return Z+X},0)}else p=[i];v.push(p),w=A+c,b=C}else p.push(i),w+=b+A,b=C}return f=c?function(Z,X){return(X?I:"")+Z.join(" ")}:function(Z){return Z.join(" ")},v.map(f)},tf.splitTextToSize=function(n,e,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/r;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=t.lineIndent;var u,c,f=[];for(u=0,c=i.length;u<c;u++)f=f.concat(ex.apply(this,[i[u],o,s]));return f},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},i={},r=0;r<e.length;r++)t[e[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=e[r];var s=function(v){return"0x"+parseInt(v,10).toString(16)},o=n.__fontmetrics__.compress=function(v){var w,b,A,T,C=["{"];for(var I in v){if(w=v[I],isNaN(parseInt(I,10))?b="'"+I+"'":(I=parseInt(I,10),b=(b=s(I).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof w=="number")w<0?(A=s(w).slice(3),T="-"):(A=s(w).slice(2),T=""),A=T+A.slice(0,-1)+i[A.slice(-1)];else{if(Wn(w)!=="object")throw new Error("Don't know what to do with value type "+Wn(w)+".");A=o(w)}C.push(b+A)}return C.push("}"),C.join("")},u=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,b,A,T,C={},I=1,j=C,W=[],Z="",X="",se=v.length-1,B=1;B<se;B+=1)(T=v[B])=="'"?w?(A=w.join(""),w=void 0):w=[]:w?w.push(T):T=="{"?(W.push([j,A]),j={},A=void 0):T=="}"?((b=W.pop())[0][b[1]]=j,A=void 0,j=b[0]):T=="-"?I=-1:A===void 0?t.hasOwnProperty(T)?(Z+=t[T],A=parseInt(Z,16)*I,I=1,Z=""):Z+=T:t.hasOwnProperty(T)?(X+=t[T],j[A]=parseInt(X,16)*I,I=1,A=void 0,X=""):X+=T;return C},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var w=v.font,b=p.Unicode[w.postScriptName];b&&(w.metadata.Unicode={},w.metadata.Unicode.widths=b.widths,w.metadata.Unicode.kerning=b.kerning);var A=f.Unicode[w.postScriptName];A&&(w.metadata.Unicode.encoding=A,w.encoding=A.codePages[0])}])}(Mt.API),function(n){var e=function(t){for(var i=t.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=t.charCodeAt(s);return r};n.API.events.push(["addFont",function(t){var i=void 0,r=t.font,s=t.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(up(u)),o.metadata=n.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(r,i)}}])}(Mt),function(n){function e(){return(jt.canvg?Promise.resolve(jt.canvg):F1(()=>import("./index.es-B27KMNBy.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Mt.API.addSvgAsImage=function(t,i,r,s,o,u,c,f){if(isNaN(i)||isNaN(r))throw ti.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw ti.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=o;var v=p.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,p.width,p.height);var w={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return e().then(function(A){return A.fromString(v,t,w)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(w)}).then(function(){b.addImage(p.toDataURL("image/jpeg",1),i,r,s,o,c,f)})}}(),Mt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,t);return this},Mt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),c=[],f=0,p=0,v=0;function w(A,T){var C,I=!1;for(C=0;C<A.length;C+=1)A[C]===T&&(I=!0);return I}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=u.length;for(v=0;v<b;v+=1)t[u[v]].value=t[u[v]].defaultValue,t[u[v]].explicitSet=!1}if(Wn(n)==="object"){for(r in n)if(s=n[r],w(u,r)&&s!==void 0){if(t[r].type==="boolean"&&typeof s=="boolean")t[r].value=s;else if(t[r].type==="name"&&w(t[r].valueSet,s))t[r].value=s;else if(t[r].type==="integer"&&Number.isInteger(s))t[r].value=s;else if(t[r].type==="array"){for(f=0;f<s.length;f+=1)if(i=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(p=0;p<s[f].length;p+=1)typeof s[f][p]!="number"&&(i=!1);i===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}t[r].value="["+c.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,T=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?T.push("/"+A+" /"+t[A].value):T.push("/"+A+" "+t[A].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+o.length+u.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+u+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Mt.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var u,c=o.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],v=0,w=s.length;v<w;++v){if(u=o.metadata.characterToGlyph(s.charCodeAt(v)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=s.charCodeAt(v),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(f[4-u.length],u)}return p.join("")},i=function(s){var o,u,c,f,p,v,w;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],v=0,w=(u=Object.keys(s).sort(function(b,A){return b-A})).length;v<w;v++)o=u[v],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(f=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+f+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var u=o.font,c=o.out,f=o.newObject,p=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var v=u.metadata.Unicode.widths,w=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),b="",A=0;A<w.length;A++)b+=String.fromCharCode(w[A]);var T=f();p({data:b,addLength1:!0,objectId:T}),c("endobj");var C=f();p({data:i(u.metadata.toUnicode),addLength1:!0,objectId:C}),c("endobj");var I=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+lf(u.fontName)),c("/FontFile2 "+T+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var j=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+lf(u.fontName)),c("/FontDescriptor "+I+" 0 R"),c("/W "+n.API.PDFObject.convert(v)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+C+" 0 R"),c("/BaseFont /"+lf(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+j+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var u=o.font,c=o.out,f=o.newObject,p=o.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var v=u.metadata.rawData,w="",b=0;b<v.length;b++)w+=String.fromCharCode(v[b]);var A=f();p({data:w,addLength1:!0,objectId:A}),c("endobj");var T=f();p({data:i(u.metadata.toUnicode),addLength1:!0,objectId:T}),c("endobj");var C=f();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+A+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+lf(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=f();for(var I=0;I<u.metadata.hmtx.widths.length;I++)u.metadata.hmtx.widths[I]=parseInt(u.metadata.hmtx.widths[I]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+lf(u.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]);var r=function(s){var o,u=s.text||"",c=s.x,f=s.y,p=s.options||{},v=s.mutex||{},w=v.pdfEscape,b=v.activeFontKey,A=v.fonts,T=b,C="",I=0,j="",W=A[T].encoding;if(A[T].encoding!=="Identity-H")return{text:u,x:c,y:f,options:p,mutex:v};for(j=u,T=b,Array.isArray(u)&&(j=u[0]),I=0;I<j.length;I+=1)A[T].metadata.hasOwnProperty("cmap")&&(o=A[T].metadata.cmap.unicode.codeMap[j[I].charCodeAt(0)]),o||j[I].charCodeAt(0)<256&&A[T].metadata.hasOwnProperty("Unicode")?C+=j[I]:C+="";var Z="";return parseInt(T.slice(1))<14||W==="WinAnsiEncoding"?Z=w(C,T).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):W==="Identity-H"&&(Z=t(C,A[T])),v.isHex=!0,{text:Z,x:c,y:f,options:p,mutex:v}};e.events.push(["postProcessText",function(s){var o=s.text||"",u=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?u.push([r(Object.assign({},c,{text:o[f][0]})).text,o[f][1],o[f][2]]):u.push(r(Object.assign({},c,{text:o[f]})).text);s.text=u}else s.text=r(Object.assign({},c,{text:o})).text}])}(Mt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Mt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,o,u,c,f,p,v=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,W=0;this.__bidiEngine__={};var Z=function(k){var M=k.charCodeAt(),V=M>>8,oe=T[V];return oe!==void 0?v[256*oe+(255&M)]:V===252||V===253?"AL":I.test(V)?"L":V===8?"R":"N"},X=function(k){for(var M,V=0;V<k.length;V++){if((M=Z(k.charAt(V)))==="L")return!1;if(M==="R")return!0}return!1},se=function(k,M,V,oe){var pe,re,he,ce,Se=M[oe];switch(Se){case"L":case"R":j=!1;break;case"N":case"AN":break;case"EN":j&&(Se="AN");break;case"AL":j=!0,Se="R";break;case"WS":Se="N";break;case"CS":oe<1||oe+1>=M.length||(pe=V[oe-1])!=="EN"&&pe!=="AN"||(re=M[oe+1])!=="EN"&&re!=="AN"?Se="N":j&&(re="AN"),Se=re===pe?re:"N";break;case"ES":Se=(pe=oe>0?V[oe-1]:"B")==="EN"&&oe+1<M.length&&M[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&V[oe-1]==="EN"){Se="EN";break}if(j){Se="N";break}for(he=oe+1,ce=M.length;he<ce&&M[he]==="ET";)he++;Se=he<ce&&M[he]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(ce=M.length,he=oe+1;he<ce&&M[he]==="NSM";)he++;if(he<ce){var K=k[oe],ve=K>=1425&&K<=2303||K===64286;if(pe=M[he],ve&&(pe==="R"||pe==="AL")){Se="R";break}}}Se=oe<1||(pe=M[oe-1])==="B"?"N":V[oe-1];break;case"B":j=!1,r=!0,Se=W;break;case"S":s=!0,Se="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"BN":Se="N"}return Se},B=function(k,M,V){var oe=k.split("");return V&&N(oe,V,{hiLevel:W}),oe.reverse(),M&&M.reverse(),oe.join("")},N=function(k,M,V){var oe,pe,re,he,ce,Se=-1,K=k.length,ve=0,F=[],H=W?b:w,ie=[];for(j=!1,r=!1,s=!1,pe=0;pe<K;pe++)ie[pe]=Z(k[pe]);for(re=0;re<K;re++){if(ce=ve,F[re]=se(k,ie,F,re),oe=240&(ve=H[ce][A[F[re]]]),ve&=15,M[re]=he=H[ve][5],oe>0)if(oe===16){for(pe=Se;pe<re;pe++)M[pe]=1;Se=-1}else Se=-1;if(H[ve][6])Se===-1&&(Se=re);else if(Se>-1){for(pe=Se;pe<re;pe++)M[pe]=he;Se=-1}ie[re]==="B"&&(M[re]=0),V.hiLevel|=he}s&&function(Q,ue,we){for(var me=0;me<we;me++)if(Q[me]==="S"){ue[me]=W;for(var Ce=me-1;Ce>=0&&Q[Ce]==="WS";Ce--)ue[Ce]=W}}(ie,M,K)},O=function(k,M,V,oe,pe){if(!(pe.hiLevel<k)){if(k===1&&W===1&&!r)return M.reverse(),void(V&&V.reverse());for(var re,he,ce,Se,K=M.length,ve=0;ve<K;){if(oe[ve]>=k){for(ce=ve+1;ce<K&&oe[ce]>=k;)ce++;for(Se=ve,he=ce-1;Se<he;Se++,he--)re=M[Se],M[Se]=M[he],M[he]=re,V&&(re=V[Se],V[Se]=V[he],V[he]=re);ve=ce}ve++}}},G=function(k,M,V){var oe=k.split(""),pe={hiLevel:W};return V||(V=[]),N(oe,V,pe),function(re,he,ce){if(ce.hiLevel!==0&&p)for(var Se,K=0;K<re.length;K++)he[K]===1&&(Se=C.indexOf(re[K]))>=0&&(re[K]=C[Se+1])}(oe,V,pe),O(2,oe,M,V,pe),O(1,oe,M,V,pe),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(k,M,V){if(function(pe,re){if(re)for(var he=0;he<pe.length;he++)re[he]=he;u===void 0&&(u=X(pe)),f===void 0&&(f=X(pe))}(k,M),o||!c||f)if(o&&c&&u^f)W=u?1:0,k=B(k,M,V);else if(!o&&c&&f)W=u?1:0,k=G(k,M,V),k=B(k,M);else if(!o||u||c||f){if(o&&!c&&u^f)k=B(k,M),u?(W=0,k=G(k,M,V)):(W=1,k=G(k,M,V),k=B(k,M));else if(o&&u&&!c&&f)W=1,k=G(k,M,V),k=B(k,M);else if(!o&&!c&&u^f){var oe=p;u?(W=1,k=G(k,M,V),W=0,p=!1,k=G(k,M,V),p=oe):(W=0,k=G(k,M,V),k=B(k,M),W=1,p=!1,k=G(k,M,V),p=oe,k=B(k,M))}}else W=0,k=G(k,M,V);else W=u?1:0,k=G(k,M,V);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,c=k.isOutputVisual,u=k.isInputRtl,f=k.isOutputRtl,p=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var u=0;for(o=[],u=0;u<r.length;u+=1)Object.prototype.toString.call(r[u])==="[object Array]"?o.push([t.doBidiReorder(r[u][0]),r[u][1],r[u][2]]):o.push([t.doBidiReorder(r[u])]);i.text=o}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])}(Mt),Mt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Ec(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new EF(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new uF(this.contents),this.head=new hF(this),this.name=new mF(this),this.cmap=new d3(this),this.toUnicode={},this.hhea=new fF(this),this.maxp=new vF(this),this.hmtx=new yF(this),this.post=new pF(this),this.os2=new dF(this),this.loca=new SF(this),this.glyf=new bF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,c,f;for(f=[],o=0,u=(c=this.bbox).length;o<u;o++)e=c[o],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(t=r>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var r,s,o,u;for(o=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)r=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n}();var _o,Ec=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,r;for(r=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,r,s,o,u,c;return e=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*r+16777216*s+65536*o+256*u+c},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)t=e[i],s.push(this.writeByte(t));return s},n}(),uF=function(){var n;function e(t){var i,r,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,r,s,o,u,c,f,p,v,w,b,A,T;for(T in b=Object.keys(t).length,c=Math.log(2),v=16*Math.floor(Math.log(b)/c),o=Math.floor(v/c),p=16*b-v,(r=new Ec).writeInt(this.scalarType),r.writeShort(b),r.writeShort(v),r.writeShort(o),r.writeShort(p),s=16*b,f=r.pos+s,u=null,A=[],t)for(w=t[T],r.writeString(T),r.writeInt(n(w)),r.writeInt(f),r.writeInt(w.length),A=A.concat(w),T==="head"&&(u=f),f+=w.length;f%4;)A.push(0),f++;return r.write(A),i=2981146554-n(r.data),r.pos=u+8,r.writeUInt32(i),r.data},n=function(t){var i,r,s,o;for(t=p3.call(t);t.length%4;)t.push(0);for(s=new Ec(t),r=0,i=0,o=t.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},e}(),cF={}.hasOwnProperty,ml=function(n,e){for(var t in e)cF.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};_o=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var hF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,_o),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var i;return(i=new Ec).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(t),i.writeShort(this.glyphDataFormat),i.data},e}(),ix=function(){function n(e,t){var i,r,s,o,u,c,f,p,v,w,b,A,T,C,I,j,W;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(b=e.readUInt16(),w=b/2,e.pos+=6,s=function(){var Z,X;for(X=[],c=Z=0;0<=w?Z<w:Z>w;c=0<=w?++Z:--Z)X.push(e.readUInt16());return X}(),e.pos+=2,T=function(){var Z,X;for(X=[],c=Z=0;0<=w?Z<w:Z>w;c=0<=w?++Z:--Z)X.push(e.readUInt16());return X}(),f=function(){var Z,X;for(X=[],c=Z=0;0<=w?Z<w:Z>w;c=0<=w?++Z:--Z)X.push(e.readUInt16());return X}(),p=function(){var Z,X;for(X=[],c=Z=0;0<=w?Z<w:Z>w;c=0<=w?++Z:--Z)X.push(e.readUInt16());return X}(),r=(this.length-e.pos+this.offset)/2,u=function(){var Z,X;for(X=[],c=Z=0;0<=r?Z<r:Z>r;c=0<=r?++Z:--Z)X.push(e.readUInt16());return X}(),c=I=0,W=s.length;I<W;c=++I)for(C=s[c],i=j=A=T[c];A<=C?j<=C:j>=C;i=A<=C?++j:--j)p[c]===0?o=i+f[c]:(o=u[p[c]/2+(i-A)-(w-c)]||0)!==0&&(o+=f[c]),this.codeMap[i]=65535&o}e.pos=v}return n.encode=function(e,t){var i,r,s,o,u,c,f,p,v,w,b,A,T,C,I,j,W,Z,X,se,B,N,O,G,k,M,V,oe,pe,re,he,ce,Se,K,ve,F,H,ie,Q,ue,we,me,Ce,je,Ve,tt;switch(oe=new Ec,o=Object.keys(e).sort(function(nt,St){return nt-St}),t){case"macroman":for(T=0,C=function(){var nt=[];for(A=0;A<256;++A)nt.push(0);return nt}(),j={0:0},s={},pe=0,Se=o.length;pe<Se;pe++)j[Ce=e[r=o[pe]]]==null&&(j[Ce]=++T),s[r]={old:e[r],new:j[e[r]]},C[r]=j[e[r]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(C),{charMap:s,subtable:oe.data,maxGlyphID:T+1};case"unicode":for(M=[],v=[],W=0,j={},i={},I=f=null,re=0,K=o.length;re<K;re++)j[X=e[r=o[re]]]==null&&(j[X]=++W),i[r]={old:X,new:j[X]},u=j[X]-r,I!=null&&u===f||(I&&v.push(I),M.push(r),f=u),I=r;for(I&&v.push(I),v.push(65535),M.push(65535),G=2*(O=M.length),N=2*Math.pow(Math.log(O)/Math.LN2,2),w=Math.log(N/2)/Math.LN2,B=2*O-N,c=[],se=[],b=[],A=he=0,ve=M.length;he<ve;A=++he){if(k=M[A],p=v[A],k===65535){c.push(0),se.push(0);break}if(k-(V=i[k].new)>=32768)for(c.push(0),se.push(2*(b.length+O-A)),r=ce=k;k<=p?ce<=p:ce>=p;r=k<=p?++ce:--ce)b.push(i[r].new);else c.push(V-k),se.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*O+2*b.length),oe.writeUInt16(0),oe.writeUInt16(G),oe.writeUInt16(N),oe.writeUInt16(w),oe.writeUInt16(B),we=0,F=v.length;we<F;we++)r=v[we],oe.writeUInt16(r);for(oe.writeUInt16(0),me=0,H=M.length;me<H;me++)r=M[me],oe.writeUInt16(r);for(je=0,ie=c.length;je<ie;je++)u=c[je],oe.writeUInt16(u);for(Ve=0,Q=se.length;Ve<Q;Ve++)Z=se[Ve],oe.writeUInt16(Z);for(tt=0,ue=b.length;tt<ue;tt++)T=b[tt],oe.writeUInt16(T);return{charMap:i,subtable:oe.data,maxGlyphID:W+1}}},n}(),d3=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,_o),e.prototype.tag="cmap",e.prototype.parse=function(t){var i,r,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new ix(t,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},e.encode=function(t,i){var r,s;return i==null&&(i="macroman"),r=ix.encode(t,i),(s=new Ec).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},e}(),fF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,_o),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),dF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,_o),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(t.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),pF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,_o),e.prototype.tag="post",e.prototype.parse=function(t){var i,r,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)i=t.readByte(),s.push(this.names.push(t.readString(i)));return s;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 196608:break;case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(t.readUInt32());return f}).call(this)}},e}(),gF=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},mF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,_o),e.prototype.tag="name",e.prototype.parse=function(t){var i,r,s,o,u,c,f,p,v,w,b;for(t.pos=this.offset,t.readShort(),i=t.readShort(),c=t.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(f={},o=v=0,w=r.length;v<w;o=++v)s=r[o],t.pos=s.offset,p=t.readString(s.length),u=new gF(p,s),f[b=s.nameID]==null&&(f[b]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),vF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,_o),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),yF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,_o),e.prototype.tag="hmtx",e.prototype.parse=function(t){var i,r,s,o,u,c,f;for(t.pos=this.offset,this.metrics=[],i=0,c=this.file.hhea.numberOfMetrics;0<=c?i<c:i>c;i=0<=c?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,v;for(v=[],i=p=0;0<=s?p<s:p>s;i=0<=s?++p:--p)v.push(t.readInt16());return v}(),this.widths=(function(){var p,v,w,b;for(b=[],p=0,v=(w=this.metrics).length;p<v;p++)o=w[p],b.push(o.advance);return b}).call(this),r=this.widths[this.widths.length-1],f=[],i=u=0;0<=s?u<s:u>s;i=0<=s?++u:--u)f.push(this.widths.push(r));return f},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),p3=[].slice,bF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,_o),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var i,r,s,o,u,c,f,p,v,w;return t in this.cache?this.cache[t]:(o=this.file.loca,i=this.file.contents,r=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(i.pos=this.offset+r,u=(c=new Ec(i.read(s))).readShort(),p=c.readShort(),w=c.readShort(),f=c.readShort(),v=c.readShort(),this.cache[t]=u===-1?new wF(c,p,w,f,v):new _F(c,u,p,w,f,v),this.cache[t]))},e.prototype.encode=function(t,i,r){var s,o,u,c,f;for(u=[],o=[],c=0,f=i.length;c<f;c++)s=t[i[c]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},e}(),_F=function(){function n(e,t,i,r,s,o){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),wF=function(){function n(e,t,i,r,s){var o,u;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new Ec(p3.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),SF=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ml(e,_o),e.prototype.tag="loca",e.prototype.parse=function(t){var i,r;return t.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<i.length&&i[o]==u){++o,r[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var p=new Array(4*r.length),v=0;v<r.length;++v)p[4*v+3]=255&r[v],p[4*v+2]=(65280&r[v])>>8,p[4*v+1]=(16711680&r[v])>>16,p[4*v]=(4278190080&r[v])>>24;return p},e}(),EF=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[t],e[t]=r[i];return e},n.prototype.glyphsFor=function(e){var t,i,r,s,o,u,c;for(r={},o=0,u=e.length;o<u;o++)r[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(i=r[s])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))i=c[s],r[s]=i;return r},n.prototype.encode=function(e,t){var i,r,s,o,u,c,f,p,v,w,b,A,T,C,I;for(r in i=d3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),b={0:0},I=i.charMap)b[(c=I[r]).old]=c.new;for(A in w=i.maxGlyphID,o)A in b||(b[A]=w++);return p=function(j){var W,Z;for(W in Z={},j)Z[j[W]]=W;return Z}(b),v=Object.keys(p).sort(function(j,W){return j-W}),T=function(){var j,W,Z;for(Z=[],j=0,W=v.length;j<W;j++)u=v[j],Z.push(p[u]);return Z}(),s=this.font.glyf.encode(o,T,b),f=this.font.loca.encode(s.offsets,T),C={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},n}();Mt.API.PDFObject=function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,r,s,o;if(Array.isArray(t))return"["+function(){var u,c,f;for(f=[],u=0,c=t.length;u<c;u++)i=t[u],f.push(e.convert(i));return f}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in s=["<<"],t)o=t[r],s.push("/"+r+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();const AF=()=>{const[n,e]=R.useState([]),[t,i]=R.useState(null);R.useEffect(()=>{(async()=>{const u=(await Qm(yp(lh,"doctors"))).docs.map(c=>({id:c.id,...c.data()}));e(u)})()},[]);const r=()=>{if(!t)return;const s=new Mt;s.addImage("https://res.cloudinary.com/dkrlubugm/image/upload/v1746367219/icon_ffjhh1.png","PNG",150,10,40,20),s.setFontSize(16),s.text(`Doctor Report: Dr. ${t.name}`,20,40),s.setFontSize(12),s.text(`Doctor ID: ${t.docId}`,20,60),s.text(`Name: ${t.name}`,20,70),s.text(`Age: ${t.age}`,20,80),s.text(`Email: ${t.email}`,20,90),s.text(`Specialty: ${t.specialty}`,20,100),s.text(`Bio: ${t.bio}`,20,110),s.text(`Location: ${t.location.name}`,20,120),s.save(`Dr_${t.name.replace(/\s+/g,"_")}_Report.pdf`)};return Ke.jsxs("div",{className:"reports-container",children:[Ke.jsx("h2",{children:"Doctor Reports"}),Ke.jsxs("div",{className:"reports-content",children:[Ke.jsx("div",{className:"doctor-list",children:n.map(s=>Ke.jsx("div",{className:`doctor-item ${(t==null?void 0:t.id)===s.id?"selected":""}`,onClick:()=>i(s),children:s.name},s.id))}),Ke.jsx("div",{className:"doctor-detail",children:t?Ke.jsxs(Ke.Fragment,{children:[Ke.jsx("img",{src:t.image,alt:"Doctor"}),Ke.jsx("h3",{children:t.name}),Ke.jsxs("p",{children:[Ke.jsx("strong",{children:"Doctor ID:"})," ",t.docId]}),Ke.jsxs("p",{children:[Ke.jsx("strong",{children:"Age:"})," ",t.age]}),Ke.jsxs("p",{children:[Ke.jsx("strong",{children:"Email:"})," ",t.email]}),Ke.jsxs("p",{children:[Ke.jsx("strong",{children:"Specialty:"})," ",t.specialty]}),Ke.jsxs("p",{children:[Ke.jsx("strong",{children:"Bio:"})," ",t.bio]}),Ke.jsxs("p",{children:[Ke.jsx("strong",{children:"Location:"})," ",t.location.name]}),Ke.jsx("iframe",{title:"doctor-map",width:"100%",height:"200",loading:"lazy",style:{border:0,borderRadius:"6px",marginTop:"1rem"},src:`https://maps.google.com/maps?q=${t.location.latitude},${t.location.longitude}&z=15&output=embed`}),Ke.jsx("button",{onClick:r,children:"Generate Report"})]}):Ke.jsx("p",{children:"Select a doctor to view details and generate a report."})})]})]})},xF=()=>{const[n,e]=R.useState(""),[t,i]=R.useState(""),[r,s]=R.useState(""),o=gx(),u=async c=>{if(c.preventDefault(),s(""),n!=="admin@docapp.com"||t!=="adminRulez"){s("Invalid admin credentials.");return}try{await LO(zD,n,t),o("/Dashboard")}catch(v){v instanceof Error?s(v.message):s("An unknown error occurred. Please try again.")}};return Ke.jsx("div",{className:"admin-login-container",children:Ke.jsxs("div",{className:"admin-login-card",children:[Ke.jsx("h2",{children:"Admin Login"}),Ke.jsxs("form",{onSubmit:u,children:[Ke.jsx("input",{type:"email",placeholder:"Email",value:n,required:!0,onChange:c=>e(c.target.value)}),Ke.jsx("input",{type:"password",placeholder:"Password",value:t,required:!0,onChange:c=>i(c.target.value)}),r&&Ke.jsx("p",{className:"error-message",children:r}),Ke.jsx("button",{type:"submit",children:"Login"})]})]})})},LF=()=>Ke.jsx(UI,{children:Ke.jsxs(R_,{children:[Ke.jsx(eh,{path:"/",element:Ke.jsx(xF,{})}),Ke.jsx(eh,{path:"/*",element:Ke.jsxs("div",{className:"app-container",children:[Ke.jsx(XI,{}),Ke.jsx("div",{className:"main-content",children:Ke.jsxs(R_,{children:[Ke.jsx(eh,{path:"dashboard",element:Ke.jsx(HD,{})}),Ke.jsx(eh,{path:"register",element:Ke.jsx(M7,{})}),Ke.jsx(eh,{path:"analytics",element:Ke.jsx(AV,{})}),Ke.jsx(eh,{path:"reports",element:Ke.jsx(AF,{})})]})})]})})]})});CC.createRoot(document.getElementById("root")).render(Ke.jsx(R.StrictMode,{children:Ke.jsx(LF,{})}));export{Wn as _,CF as c,bC as g};
